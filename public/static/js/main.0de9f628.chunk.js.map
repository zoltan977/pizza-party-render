{"version":3,"sources":["context/cart/cartContext.js","context/types.js","context/cart/cartReducer.js","context/cart/cartState.js","hooks/useMoveToCart.js","context/data/dataContext.js","context/data/dataReducer.js","context/data/dataState.js","context/auth/authContext.js","context/auth/authReducer.js","utils/setAuthToken.js","context/auth/authState.js","components/NavBar/NavBar.jsx","components/Pizzas/Pizza/Pizza.jsx","components/Pizzas/PizzaDetails/PizzaDetails.jsx","components/Pizzas/Pizzas.jsx","components/Toppings/Topping/Topping.jsx","components/Toppings/ToppingDetails/ToppingDetails.jsx","components/Toppings/Toppings.jsx","components/Home/Home.jsx","components/Cart/Cart.jsx","components/Register/Register.jsx","components/Login/Login.jsx","components/Order/Order.jsx","components/Orders/OrderCard/OrderCard.jsx","components/Orders/Orders.jsx","components/Routing/PrivateRoute.js","components/Routing/UnAuthRoute.js","App.js","reportWebVitals.js","index.js"],"names":["createContext","SET_CART","SET_DATA","REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","AUTH_ERROR","USER_LOADED","CLEAR_ERRORS","SELECT_PIZZA","SELECT_TOPPING","state","action","type","pizza","payload","topping","CartState","props","localStorage","partyPizza","JSON","stringify","initialState","parse","useReducer","cartReducer","dispatch","moveToCart","useCallback","node","container","cartNodeInfo","document","getElementById","getBoundingClientRect","nodeInfo","clonedNode","cloneNode","insertBefore","firstElementChild","style","position","zIndex","left","Math","floor","top","width","height","setTimeout","transition","remove","setCart","cart","Provider","value","modifyOrDeleteItem","modifyOrDelete","id","category","newValue","putInCart","className","dataset","children","loading","selectedPizza","selectedTopping","DataState","dataReducer","data","setData","selectPizza","selectTopping","setItem","token","isAuthenticated","removeItem","user","error","setAuthToken","axios","defaults","headers","common","AuthState","getItem","authReducer","register","formData","a","config","post","res","console","log","loadUser","response","login","get","logout","clearErrors","NavBar","useContext","CartContext","DataContext","AuthContext","dropDownRef","useRef","ref","to","onClick","e","burger","currentTarget","querySelector","classList","contains","replace","current","add","viewBox","x","y","d","amount","categoryKey","itemId","Number","filter","item","map","element","price","exact","name","Pizza","key2","useState","setStyle","pizzaNode","observerRef","pizzaRef","observer","IntersectionObserver","entries","isIntersecting","transform","observe","useEffect","disconnect","data-id","src","image","alt","fill","PizzaDetails","quantity","setQuantity","input","setInput","pizzaDetailsStyle","setPizzaDetailsStyle","contentClass","setContentClass","description","onChange","target","length","slice","isNaN","Pizzas","pizzas","quantityPerPage","setQuantityPerPage","from","setFrom","setTo","filteredPizzas","setFilteredPizzas","prev","next","change","increaseQuantityPerPage","decreaseQuantityPerPage","placeholder","filtered","p","toUpperCase","includes","search","idx","toppingNode","toppingRef","ToppingDetails","toppingDetailsStyle","setToppingDetailsStyle","Toppings","toppings","filteredToppings","setFilteredToppings","t","Home","mainImgStyle","setMainImgStyle","menuImgStyle","setMenuImgStyle","introductionStyle","setIntroductionStyle","observerRef1","observerRef2","observerRef3","mainImgRef","menuImgRef","introductionRef","backgroundImage","backgroundSize","Cart","setPizzas","setToppings","totalSum","setItems","pizzaOrTopping","array","key","db","push","renderTableBody","pizzasOrToppings","sum","itemsRows","i","sumRow","colSpan","textAlign","Register","formValid","email","password","password2","setUser","authContext","alerts","msg","errors","err","htmlFor","disabled","Login","Order","tel","address","order","setOrder","setError","submit","success","history","Object","keys","OrderCard","renderTable","items","rows","Orders","orders","setOrders","asyncFn","ord","PrivateRoute","Component","component","rest","render","App","fetch","then","r","json","catch","finally","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.0de9f628.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nexport default createContext();","export const SET_CART = 'SET_CART';\r\n\r\nexport const SET_DATA = 'SET_DATA';\r\n\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\r\n\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const AUTH_ERROR = 'AUTH_ERRROOR';\r\nexport const USER_LOADED = 'USER_LOADED';\r\n\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\n\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\r\n\r\nexport const SELECT_PIZZA = 'SELECT_PIZZA';\r\nexport const SELECT_TOPPING = 'SELECT_TOPPING';\r\n","import {SET_CART} from './../types';\r\n\r\nexport default (state, action) => {\r\n    switch (action.type) {\r\n        case SET_CART:\r\n            return {\r\n                pizza: {...action.payload.pizza},\r\n                topping: {...action.payload.topping}\r\n            }\r\n    \r\n        default:\r\n            return state\r\n    }\r\n}","import { useReducer } from 'react';\r\nimport CartContext from './cartContext';\r\nimport cartReducer from './cartReducer';\r\nimport { SET_CART } from './../types';\r\nimport useMoveToCart from './../../hooks/useMoveToCart';\r\n\r\nconst CartState = (props) => {\r\n\r\n    if (localStorage) {\r\n        if (!localStorage.partyPizza) {\r\n            localStorage.partyPizza = JSON.stringify({\r\n                pizza: {},\r\n                topping: {}\r\n            })\r\n        }\r\n    }\r\n\r\n    const initialState = localStorage.partyPizza ? JSON.parse(localStorage.partyPizza) : {};\r\n\r\n    const [state, dispatch] = useReducer(cartReducer, initialState);\r\n\r\n    const moveToCart = useMoveToCart();\r\n\r\n    const setCart = (cart) => {\r\n        dispatch({type: SET_CART, payload: cart});\r\n    };\r\n\r\n    const modifyOrDeleteItem = (modifyOrDelete, id, category, newValue) => {\r\n        if (localStorage) {\r\n\r\n            let partyPizza = JSON.parse(localStorage.partyPizza)\r\n                \r\n            modifyOrDelete ?\r\n                partyPizza[category][id] = newValue \r\n                :\r\n                delete partyPizza[category][id]    \r\n                \r\n            localStorage.partyPizza = JSON.stringify(partyPizza)\r\n\r\n            setCart(partyPizza)\r\n        }\r\n    }\r\n\r\n    const putInCart = (node, container) => {\r\n        if (localStorage) {\r\n\r\n            let partyPizza = JSON.parse(localStorage.partyPizza)\r\n                \r\n            partyPizza[node.className][node.dataset.id] ? \r\n                partyPizza[node.className][node.dataset.id] = partyPizza[node.className][node.dataset.id] + 1\r\n                :\r\n                partyPizza[node.className][node.dataset.id] = 1\r\n\r\n                \r\n            localStorage.partyPizza = JSON.stringify(partyPizza)\r\n\r\n            setCart(partyPizza)\r\n\r\n            moveToCart(node, container)\r\n        }\r\n    }\r\n\r\n    return <CartContext.Provider\r\n        value={\r\n                {\r\n                    cart: state,\r\n                    setCart,\r\n                    modifyOrDeleteItem,\r\n                    putInCart\r\n                }\r\n            }>\r\n            {props.children}\r\n    </CartContext.Provider>\r\n}\r\n\r\nexport default CartState;","import {useCallback} from 'react';\r\n\r\nexport default function useMoveToCart() {\r\n   \r\n    const moveToCart = useCallback((node, container) => {\r\n\r\n        const cartNodeInfo = document.getElementById(\"cart\").getBoundingClientRect();\r\n\r\n        const nodeInfo = node.getBoundingClientRect();\r\n\r\n        const clonedNode = node.cloneNode(true);\r\n\r\n        container.insertBefore(clonedNode, container.firstElementChild);\r\n\r\n        clonedNode.style.position = \"fixed\";\r\n        clonedNode.style.zIndex = 2;\r\n        clonedNode.style.left = Math.floor(nodeInfo.left) + \"px\";\r\n        clonedNode.style.top = Math.floor(nodeInfo.top)  + \"px\";\r\n        clonedNode.style.width = Math.floor(nodeInfo.width) + \"px\";\r\n        clonedNode.style.height = Math.floor(nodeInfo.height) + \"px\";\r\n\r\n        setTimeout(() => {\r\n            clonedNode.style.left = Math.floor(cartNodeInfo.left) + \"px\";\r\n            clonedNode.style.top = Math.floor(cartNodeInfo.top)  + \"px\";\r\n            clonedNode.style.width = Math.floor(cartNodeInfo.width) + \"px\";\r\n            clonedNode.style.height = Math.floor(cartNodeInfo.height) + \"px\";\r\n            clonedNode.style.transition = \"2s\";\r\n        }, 100);\r\n\r\n        setTimeout(() => {\r\n            clonedNode.remove();\r\n        }, 2100);\r\n    })\r\n\r\n    return moveToCart\r\n}\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext();","import {SET_DATA, SELECT_PIZZA, SELECT_TOPPING} from '../types';\r\n\r\nexport default (state, action) => {\r\n    switch (action.type) {\r\n        case SET_DATA:\r\n            return {\r\n                ...state,\r\n                pizza: [...action.payload.pizza],\r\n                topping: [...action.payload.topping],\r\n                loading: false\r\n            }\r\n\r\n        case SELECT_PIZZA:\r\n            return {\r\n                ...state,\r\n                selectedPizza: action.payload\r\n            }\r\n        \r\n        case SELECT_TOPPING:\r\n            return {\r\n                ...state,\r\n                selectedTopping: action.payload\r\n            }\r\n        \r\n        default:\r\n        \r\n        return state\r\n    }\r\n}","import { useReducer } from 'react';\r\nimport DataContext from './dataContext';\r\nimport dataReducer from './dataReducer';\r\nimport { SET_DATA, SELECT_PIZZA, SELECT_TOPPING } from '../types';\r\n\r\nconst DataState = (props) => {\r\n\r\n    const initialState = {topping: [], pizza: [], selectedPizza: null, selectedTopping: null, loading: true};\r\n\r\n    const [state, dispatch] = useReducer(dataReducer, initialState);\r\n\r\n    const setData = (data) => {\r\n        dispatch({type: SET_DATA, payload: data});\r\n    };\r\n\r\n    const selectPizza = (pizza) => {\r\n        dispatch({type: SELECT_PIZZA, payload: pizza});\r\n    };\r\n\r\n    const selectTopping = (topping) => {\r\n        dispatch({type: SELECT_TOPPING, payload: topping});\r\n    };\r\n\r\n    return <DataContext.Provider\r\n        value={\r\n                {\r\n                    data: state,\r\n                    setData,\r\n                    loading: state.loading,\r\n                    selectPizza,\r\n                    selectedPizza: state.selectedPizza,\r\n                    selectTopping,\r\n                    selectedTopping: state.selectedTopping\r\n                }\r\n            }>\r\n            {props.children}\r\n    </DataContext.Provider>\r\n}\r\n\r\nexport default DataState;\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext();","import { LOGOUT,\r\n        LOGIN_FAIL,\r\n        LOGIN_SUCCESS,\r\n        REGISTER_SUCCESS,\r\n        REGISTER_FAIL,\r\n        CLEAR_ERRORS,\r\n        USER_LOADED,\r\n        AUTH_ERROR\r\n} from '../types';\r\n\r\nexport default (state, action) => {\r\n    switch (action.type) {\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem(\"token\", action.payload.token)\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false\r\n            }\r\n\r\n        case REGISTER_FAIL:\r\n        case LOGIN_FAIL:\r\n        case LOGOUT:\r\n        case AUTH_ERROR:\r\n            localStorage.removeItem(\"token\")\r\n            return {\r\n                ...state,\r\n                user: null,\r\n                token: null,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        case USER_LOADED:\r\n            return {\r\n                ...state,\r\n                user: action.payload,\r\n                isAuthenticated: true,\r\n                loading: false\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import axios from 'axios';\r\n\r\nconst setAuthToken = (token) => {\r\n    if(token)\r\n        axios.defaults.headers.common['x-auth-token'] = token;\r\n    else \r\n        delete axios.defaults.headers.common['x-auth-token'];\r\n};\r\n\r\nexport default setAuthToken;","import { useReducer } from 'react';\r\nimport AuthContext from './authContext';\r\nimport authReducer from './authReducer';\r\nimport { REGISTER_SUCCESS, REGISTER_FAIL, CLEAR_ERRORS, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT } from './../types';\r\nimport axios from 'axios';\r\nimport setAuthToken from './../../utils/setAuthToken';\r\n\r\nconst AuthState = (props) => {\r\n\r\n    const initialState = {\r\n        token: localStorage.getItem('token'),\r\n        isAuthenticated: false,\r\n        loading: true,\r\n        error: null,\r\n        user: null\r\n    };\r\n\r\n    const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n    const register = async formData => {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        try {\r\n                dispatch({\r\n                    type: CLEAR_ERRORS\r\n                })\r\n                const res = await axios.post(\"http://localhost:8000/api/register\", formData, config)\r\n                console.log(res.data)\r\n                dispatch({\r\n                    type: REGISTER_SUCCESS,\r\n                    payload: res.data\r\n                })\r\n                loadUser()\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            setAuthToken();\r\n            dispatch({\r\n                type: REGISTER_FAIL,\r\n                payload: error.response.data\r\n            })\r\n        }\r\n    }    \r\n\r\n    const login = async formData => {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        try {\r\n                dispatch({\r\n                    type: CLEAR_ERRORS\r\n                })\r\n                const res = await axios.post(\"http://localhost:8000/api/login\", formData, config)\r\n                console.log(res.data)\r\n                dispatch({\r\n                    type: LOGIN_SUCCESS,\r\n                    payload: res.data\r\n                })\r\n                loadUser()\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            setAuthToken();\r\n            dispatch({\r\n                type: LOGIN_FAIL,\r\n                payload: error.response.data\r\n            })\r\n        }\r\n    }\r\n\r\n    const logout = () => {\r\n        dispatch({type: LOGOUT});\r\n        setAuthToken();\r\n    }\r\n\r\n    const loadUser = async () => {\r\n        \r\n        if (localStorage.token)\r\n            setAuthToken(localStorage.token)\r\n\r\n        try {\r\n            const res = await axios.get(\"http://localhost:8000/api/loaduser\")\r\n\r\n            dispatch({\r\n                type: USER_LOADED,\r\n                payload: res.data\r\n            })\r\n        } catch (error) {\r\n            setAuthToken();\r\n            dispatch({\r\n                type: AUTH_ERROR\r\n            })\r\n        }\r\n    }\r\n\r\n    const clearErrors = () => {\r\n        dispatch({\r\n            type: CLEAR_ERRORS\r\n        })\r\n    }\r\n\r\n    return <AuthContext.Provider\r\n        value={\r\n                {\r\n                    token: state.token,\r\n                    isAuthenticated: state.isAuthenticated,\r\n                    loading: state.loading,\r\n                    user: state.user,\r\n                    error: state.error,\r\n                    register,\r\n                    login,\r\n                    logout,\r\n                    loadUser,\r\n                    clearErrors\r\n                }\r\n            }>\r\n            {props.children}\r\n    </AuthContext.Provider>\r\n}\r\n\r\nexport default AuthState;","import './NavBar.css';\r\nimport { useContext, useRef } from 'react';\r\nimport CartContext from './../../context/cart/cartContext';\r\nimport DataContext from './../../context/data/dataContext';\r\nimport AuthContext from './../../context/auth/authContext';\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nexport default function NavBar() {\r\n\r\n    const {cart} = useContext(CartContext)\r\n    const {data} = useContext(DataContext)\r\n    const {user, logout} = useContext(AuthContext)\r\n\r\n    const dropDownRef = useRef()\r\n\r\n    const burgerClick = (e) => {\r\n        \r\n        const burger = e.currentTarget.querySelector(\"svg\")\r\n\r\n        if (burger.querySelector(\"rect:nth-child(1)\").classList.contains(\"a\")) {\r\n\r\n            burger.querySelector(\"rect:nth-child(1)\").classList.replace(\"a\",\"ax\");\r\n            burger.querySelector(\"rect:nth-child(2)\").classList.replace(\"b\",\"bx\");\r\n            burger.querySelector(\"rect:nth-child(3)\").classList.replace(\"c\",\"cx\");\r\n\r\n            dropDownRef.current.classList.add(\"show\")\r\n        } else {\r\n            burger.querySelector(\"rect:nth-child(1)\").classList.replace(\"ax\",\"a\");\r\n            burger.querySelector(\"rect:nth-child(2)\").classList.replace(\"bx\",\"b\");\r\n            burger.querySelector(\"rect:nth-child(3)\").classList.replace(\"cx\",\"c\");\r\n\r\n            dropDownRef.current.classList.remove(\"show\")\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"NavBar\">\r\n\r\n            <div className=\"dropDownMenu\" ref={dropDownRef}>\r\n                <Link to=\"/\"><span>Home</span></Link>\r\n                {\r\n                    user ?\r\n                    <>\r\n                        <Link to=\"/order\"><span>Order</span></Link>\r\n                        <Link to=\"/orders\"><span>Orders</span></Link>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <Link to=\"/register\"><span>Register</span></Link>\r\n                        <Link to=\"/login\"><span>Login</span></Link>\r\n                    </>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"icons\">\r\n                <div className=\"hamburger\" onClick={burgerClick}>\r\n                    <svg viewBox=\"0 0 40 40\">\r\n                        <rect className=\"a\" x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\r\n                        <rect className=\"b\" x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\r\n                        <rect className=\"c\" x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\r\n                    </svg>\r\n                </div>\r\n                <div className=\"cart\">\r\n                    <Link to=\"/cart\">\r\n                        <svg id=\"cart\" viewBox=\"0 0 576 512\">\r\n                            <path d=\"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z\">\r\n                            </path>\r\n                        </svg>\r\n                        <span>\r\n                            {\r\n                                function() {\r\n                                let amount = 0;\r\n                                for (const categoryKey in cart) {\r\n                                        for (const itemId in cart[categoryKey]) {\r\n                                                amount += Number(cart[categoryKey][itemId]) *\r\n                                                data[categoryKey].filter((item) => {\r\n                                                    if (item.id === Number(itemId))\r\n                                                        return item;\r\n                                                }).map((element) => element.price)\r\n                                        }\r\n                                }\r\n                                return amount\r\n                                }()\r\n                            }\r\n                        </span>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            <div className=\"linksAndUser\">\r\n                <div className=\"links\">\r\n                    <NavLink to=\"/\" exact={true}>Home </NavLink>\r\n                    {\r\n                        user ?\r\n                        <>\r\n                            <NavLink to=\"/order\">Order </NavLink>\r\n                            <NavLink to=\"/orders\">Orders </NavLink>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <NavLink to=\"/register\">Register </NavLink>\r\n                            <NavLink to=\"/login\">Login </NavLink>\r\n                        </>\r\n                    }\r\n                </div>\r\n                <div className=\"userInfo\">\r\n                    {user ? <span>{user.name}</span> : <span> Not logged in!</span>}\r\n                    {user && <div className=\"logout\" onClick={() => logout()}>\r\n                        <svg viewBox=\"0 0 512 512\">\r\n                            <path d=\"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z\">\r\n                            </path>\r\n                        </svg>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useCallback, useState, useEffect, useRef, useContext } from 'react';\r\nimport './Pizza.css';\r\nimport CartContext from '../../../context/cart/cartContext';\r\nimport DataContext from '../../../context/data/dataContext';\r\n\r\nexport default function Pizza({pizza, key2}) {\r\n\r\n    const [style, setStyle] = useState({})\r\n\r\n    const pizzaNode = useRef();\r\n    const observerRef = useRef();\r\n    \r\n    const pizzaRef = useCallback((node) => {\r\n        const observer = new IntersectionObserver(entries => {\r\n            if (entries[0].isIntersecting) {\r\n                setStyle({transform: 'scale(1)'})\r\n            } else {\r\n                setStyle({})\r\n            }\r\n        })\r\n\r\n        if (node) {\r\n            pizzaNode.current = node;\r\n            observer.observe(node);\r\n            observerRef.current = observer;\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            observerRef.current.disconnect()\r\n        }\r\n    }, [])\r\n\r\n    const {putInCart} = useContext(CartContext)\r\n    const {selectPizza} = useContext(DataContext)\r\n\r\n    return (\r\n        <div ref={pizzaRef} className=\"pizza\" data-id={key2} style={style}>\r\n            <img src={\"/images/pizzas/\" + pizza.image} alt=\"\" />\r\n            <div className=\"dashboard\">\r\n                <div>\r\n                    <svg viewBox=\"0 0 576 512\" onClick={\r\n                        (e) => putInCart(pizzaNode.current, document.querySelector(\".pizzas\"))\r\n                        }>\r\n                        <path fill=\"currentColor\" d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\">\r\n                        </path>\r\n                    </svg>\r\n                </div>\r\n                <div>\r\n                    <svg viewBox=\"0 0 512 512\" onClick={\r\n                        (e) => selectPizza(pizza)\r\n                        }>\r\n                        <path fill=\"currentColor\" d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\">\r\n                        </path>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n            <div className=\"pizza_info\">\r\n                <p>\r\n                    {pizza.name}\r\n                </p>   \r\n                <p>\r\n                    {pizza.price} Ft\r\n                </p>   \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext, useState, useEffect} from 'react';\r\nimport CartContext from '../../../context/cart/cartContext';\r\nimport DataContext from '../../../context/data/dataContext';\r\nimport './PizzaDetails.css';\r\n\r\nexport default function PizzaDetails() {\r\n\r\n    const {cart, modifyOrDeleteItem} = useContext(CartContext)\r\n    const {selectedPizza, selectPizza} = useContext(DataContext)\r\n\r\n    const [quantity, setQuantity] = useState(0);\r\n    const [input, setInput] = useState(0);\r\n\r\n    const [pizzaDetailsStyle, setPizzaDetailsStyle] = useState({transform: \"scale(0)\"});\r\n    const [contentClass, setContentClass] = useState(\"content\");\r\n\r\n    useEffect(() => {\r\n\r\n        setQuantity(selectedPizza ? cart.pizza[selectedPizza.id] || 0 : 0);\r\n\r\n        if (selectedPizza)\r\n            setPizzaDetailsStyle({transform: \"scale(1)\"})\r\n\r\n        setContentClass(\"content\")\r\n\r\n    }, [selectedPizza, cart]);\r\n\r\n    return (\r\n        <div className=\"PizzaDetails\" style={pizzaDetailsStyle}>\r\n            {\r\n                selectedPizza &&\r\n                <>\r\n                    <span className=\"close\" onClick={() => {\r\n                            setPizzaDetailsStyle({transform: \"scale(0)\"})\r\n                            setTimeout(() => {\r\n                                selectPizza(null)\r\n                            }, 1000);\r\n                        }\r\n                    }>\r\n                        X\r\n                    </span>\r\n            \r\n                    <img src={\"/images/pizzas/\" + selectedPizza.image} alt=\"\" />\r\n            \r\n                    <div className={contentClass}>\r\n                        <div className=\"info\">\r\n                            <span className=\"closeInfo\" onClick={() => \r\n                                setContentClass(\"content hide\")}>X</span>\r\n                            <div className=\"pizzaInfo\">\r\n                                <div className=\"firstColumn\">Nv:</div>\r\n                                <div>\r\n                                    {selectedPizza.name}\r\n                                </div>   \r\n                                <div className=\"firstColumn\">\r\n                                    r:\r\n                                </div>\r\n                                <div>\r\n                                    {selectedPizza.price} Ft\r\n                                </div>\r\n                                <div className=\"firstColumn\">\r\n                                    Lers:\r\n                                </div>\r\n                                <div>\r\n                                    {selectedPizza.description}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"cartInfo\">\r\n                                <div>\r\n                                    <svg viewBox=\"0 0 576 512\">\r\n                                        <path fill=\"currentColor\" d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\">\r\n                                        </path>\r\n                                    </svg>\r\n                                </div>\r\n                                <div>\r\n                                    <p>A kosrban<span> {quantity} db </span>van</p>\r\n                                    \r\n                                    <p>Kosrhoz adok\r\n                                    <input type=\"text\" value={input} onChange={\r\n                                        (e) => {\r\n                                                if (e.target.value.length > 3)\r\n                                                    e.target.value = e.target.value.slice(0, 3)\r\n\r\n                                                if(isNaN(e.target.value))\r\n                                                    e.target.value = 0;\r\n\r\n                                                if (Number(e.target.value) < 0)\r\n                                                    e.target.value = 0;\r\n\r\n                                                setInput(e.target.value)\r\n                                            }\r\n                                        }/> \r\n\r\n                                    <span className=\"db\">\r\n                                        db-ot. \r\n                                    </span>\r\n                                        \r\n                                    <button onClick={\r\n                                        (e) => {\r\n                                                modifyOrDeleteItem(true, selectedPizza.id, \"pizza\", \r\n                                                                    Number(input) + Number(quantity));\r\n                                                \r\n                                                setInput(0);\r\n                                            }\r\n                                        } type=\"button\">\r\n                                    \r\n                                            Mehet!\r\n                                    </button>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import Pizza from './Pizza/Pizza.jsx';\r\nimport './Pizzas.css';\r\nimport React, { useState } from 'react';\r\nimport PizzaDetails from './PizzaDetails/PizzaDetails.jsx';\r\n\r\nexport default function Pizzas({pizzas}) {\r\n\r\n    const [quantityPerPage, setQuantityPerPage] = useState(6 <= pizzas.length ? 6 : pizzas.length);\r\n    const [from, setFrom] = useState(0);\r\n    const [to, setTo] = useState(quantityPerPage);\r\n    const [filteredPizzas, setFilteredPizzas] = useState(pizzas);\r\n\r\n    const search = (e) => {\r\n        const filtered = pizzas.filter((p => {\r\n            if (p.name.toUpperCase().includes(e.target.value.toUpperCase()) || e.target.value === \"\")\r\n                return true\r\n            else \r\n                return false\r\n        }))\r\n\r\n        setFilteredPizzas(filtered)\r\n\r\n        setQuantityPerPage(filtered.length)\r\n\r\n        setFrom(0)\r\n        setTo(filtered.length)\r\n    }\r\n\r\n    const prev = () => {\r\n        if (from >= quantityPerPage) {\r\n            setFrom(from - quantityPerPage)\r\n            setTo(to - quantityPerPage)\r\n        }\r\n        else {\r\n            setFrom(0)\r\n            setTo(quantityPerPage)\r\n        }\r\n    }\r\n    \r\n    const next = () => {\r\n        if (to + quantityPerPage <= filteredPizzas.length) {\r\n            setTo(to + quantityPerPage)\r\n            setFrom(from + quantityPerPage)\r\n        }\r\n        else {\r\n            setTo(filteredPizzas.length)\r\n            setFrom(filteredPizzas.length - quantityPerPage)\r\n        }\r\n    }\r\n    \r\n    const change = (e) => {\r\n\r\n        if (e.target.value.length > 3)\r\n            e.target.value = e.target.value.slice(0, 3)\r\n\r\n        if (isNaN(e.target.value))\r\n            e.target.value = 1;\r\n\r\n        if (Number(e.target.value) < 1)\r\n            e.target.value = 1;\r\n\r\n        if (Number(e.target.value) > filteredPizzas.length)\r\n            e.target.value = filteredPizzas.length;\r\n\r\n        setQuantityPerPage(Number(e.target.value));\r\n        setFrom(0);\r\n        setTo(Number(e.target.value));\r\n    }\r\n\r\n    const increaseQuantityPerPage = () => {\r\n        if (quantityPerPage <= filteredPizzas.length -1) {\r\n            setFrom(0);\r\n            setTo(quantityPerPage + 1);\r\n            \r\n            setQuantityPerPage(quantityPerPage + 1)\r\n        }\r\n    }\r\n\r\n    const decreaseQuantityPerPage = () => {\r\n        if (quantityPerPage >= 2) {\r\n            setFrom(0);\r\n            setTo(quantityPerPage - 1);\r\n            \r\n            setQuantityPerPage(quantityPerPage - 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"pizzas\">\r\n            <PizzaDetails />\r\n            <div className=\"search\">\r\n                <input type=\"text\" placeholder=\"search\" onChange={(e) => search(e)} />\r\n            </div>\r\n            <div className=\"navigation\">\r\n                <span onClick={prev}>{\"\\u2190\"}</span>\r\n                <span>\r\n                    {filteredPizzas.length}{\"(\"}<input value={quantityPerPage} onChange={change}/>{\")\"}/\r\n                    {Number(to) === 0 ? 0 : from + 1}-{to}\r\n                    <span onClick={increaseQuantityPerPage}>{\"\\u2bc5\"}</span>\r\n                    <span onClick={decreaseQuantityPerPage}>{\"\\u2bc6\"}</span>\r\n                </span>\r\n                <span onClick={next}>{\"\\u2192\"}</span>\r\n            </div>\r\n            <div className=\"content\">\r\n            {\r\n                filteredPizzas.slice(from, to).map((pizza, idx) => <Pizza key={pizza.id} key2={pizza.id} pizza={pizza}/>)\r\n            }\r\n            </div>\r\n            <div className=\"navigation\">\r\n                <span onClick={prev}>{\"\\u2190\"}</span>\r\n                <span>\r\n                    {filteredPizzas.length}{\"(\"}<input value={quantityPerPage} onChange={change}/>{\")\"}/\r\n                    {Number(to) === 0 ? 0 : from + 1}-{to}\r\n                    <span onClick={increaseQuantityPerPage}>{\"\\u2bc5\"}</span>\r\n                    <span onClick={decreaseQuantityPerPage}>{\"\\u2bc6\"}</span>\r\n                </span>\r\n                <span onClick={next}>{\"\\u2192\"}</span>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, {useState, useCallback, useEffect, useRef, useContext} from 'react';\r\nimport './Topping.css';\r\nimport CartContext from '../../../context/cart/cartContext';\r\nimport DataContext from '../../../context/data/dataContext';\r\n\r\nexport default function Pizza({topping, key2}) {\r\n\r\n    const [style, setStyle] = useState({})\r\n    \r\n    const toppingNode = useRef();\r\n    const observerRef = useRef();\r\n\r\n    const toppingRef = useCallback((node) => {\r\n        const observer = new IntersectionObserver(entries => {\r\n            if (entries[0].isIntersecting) {\r\n                setStyle({transform: 'scale(1)'})\r\n            } else {\r\n                setStyle({})\r\n            }\r\n        })\r\n\r\n        if (node)\r\n        {\r\n            toppingNode.current = node\r\n            observer.observe(node)\r\n            observerRef.current = observer\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            observerRef.current.disconnect()\r\n        }\r\n    }, [])\r\n\r\n    const {putInCart} = useContext(CartContext)\r\n    const {selectTopping} = useContext(DataContext)\r\n\r\n    return (\r\n        <div ref={toppingRef} className=\"topping\" style={style} data-id={key2}>\r\n            <img src={\"/images/toppings/\" + topping.image} alt=\"\" />\r\n            <div className=\"dashboard\">\r\n                <div>\r\n                    <svg viewBox=\"0 0 576 512\" onClick={\r\n                        (e) => putInCart(toppingNode.current, document.querySelector(\".toppings\"))\r\n                        }>\r\n                        <path fill=\"currentColor\" d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\">\r\n                        </path>\r\n                    </svg>\r\n                </div>\r\n                <div>\r\n                    <svg viewBox=\"0 0 512 512\" onClick={\r\n                        (e) => selectTopping(topping)\r\n                        }>\r\n                        <path fill=\"currentColor\" d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\">\r\n                        </path>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n            <div className=\"topping_info\">\r\n                <p>\r\n                    {topping.name}\r\n                </p>   \r\n                <p>\r\n                    {topping.price} Ft\r\n                </p>   \r\n            </div>\r\n        </div>\r\n        )\r\n}\r\n","import React, {useContext, useState, useEffect} from 'react';\r\nimport CartContext from '../../../context/cart/cartContext';\r\nimport DataContext from '../../../context/data/dataContext';\r\nimport './ToppingDetails.css';\r\n\r\nexport default function ToppingDetails() {\r\n\r\n    const {cart, modifyOrDeleteItem} = useContext(CartContext)\r\n    const {selectedTopping, selectTopping} = useContext(DataContext)\r\n\r\n    const [quantity, setQuantity] = useState(0);\r\n    const [input, setInput] = useState(0);\r\n\r\n    const [toppingDetailsStyle, setToppingDetailsStyle] = useState({transform: \"scale(0)\"});\r\n    const [contentClass, setContentClass] = useState(\"content\");\r\n\r\n\r\n    useEffect(() => {\r\n        setQuantity(selectedTopping ? cart.topping[selectedTopping.id] || 0 : 0);\r\n\r\n        if (selectedTopping)\r\n            setToppingDetailsStyle({transform: \"scale(1)\"})\r\n\r\n        setContentClass(\"content\")\r\n        \r\n    }, [selectedTopping, cart]);\r\n\r\n    return (\r\n        <div className=\"ToppingDetails\" style={toppingDetailsStyle}>\r\n            {\r\n                selectedTopping &&\r\n                <>\r\n                    <span className=\"close\" onClick={() => {\r\n                            setToppingDetailsStyle({transform: \"scale(0)\"})\r\n                            setTimeout(() => {\r\n                                selectTopping(null)\r\n                            }, 1000);\r\n                        }\r\n                    }>\r\n                        X\r\n                    </span>\r\n            \r\n                    <img src={\"/images/toppings/\" + selectedTopping.image} alt=\"\" />\r\n            \r\n                    <div className={contentClass}>\r\n                        <div className=\"info\">\r\n                            <span className=\"closeInfo\" onClick={() => \r\n                                setContentClass(\"content hide\")}>X</span>\r\n\r\n                            <div className=\"toppingInfo\">\r\n                                <div className=\"firstColumn\">Nv:</div>\r\n                                <div>\r\n                                    {selectedTopping.name}\r\n                                </div>   \r\n                                <div className=\"firstColumn\">\r\n                                    r:\r\n                                </div>\r\n                                <div>\r\n                                    {selectedTopping.price} Ft\r\n                                </div>\r\n                                <div className=\"firstColumn\">\r\n                                    Lers:\r\n                                </div>\r\n                                <div>\r\n                                    {selectedTopping.description}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"cartInfo\">\r\n                                <div>\r\n                                    <svg viewBox=\"0 0 576 512\">\r\n                                        <path fill=\"currentColor\" d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\">\r\n                                        </path>\r\n                                    </svg>\r\n                                </div>\r\n                                <div>\r\n                                    <p>A kosrban<span> {quantity} db </span>van</p>\r\n                                    \r\n                                    <p>Kosrhoz adok\r\n                                    <input type=\"text\" value={input} onChange={\r\n                                        (e) => {\r\n                                                if (e.target.value.length > 3)\r\n                                                    e.target.value = e.target.value.slice(0, 3)\r\n\r\n                                                if(isNaN(e.target.value))\r\n                                                    e.target.value = 0;\r\n\r\n                                                if (Number(e.target.value) < 0)\r\n                                                    e.target.value = 0;\r\n\r\n                                                setInput(e.target.value)\r\n                                            }\r\n                                        }/> \r\n\r\n                                    <span className=\"db\">\r\n                                        db-ot. \r\n                                    </span>\r\n                                        \r\n                                    <button onClick={\r\n                                        (e) => {\r\n                                                modifyOrDeleteItem(true, selectedTopping.id, \"topping\", \r\n                                                                    Number(input) + Number(quantity));\r\n                                                \r\n                                                setInput(0);\r\n                                            }\r\n                                        } type=\"button\">\r\n                                    \r\n                                            Mehet!\r\n                                    </button>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import './Toppings.css';\r\nimport Topping from './Topping/Topping';\r\nimport React, { useState } from 'react';\r\nimport ToppingDetails from './ToppingDetails/ToppingDetails';\r\n\r\nexport default function Toppings({toppings}) {\r\n    \r\n    const [quantityPerPage, setQuantityPerPage] = useState(4 <= toppings.length ? 4 : toppings.length);\r\n    const [from, setFrom] = useState(0);\r\n    const [to, setTo] = useState(quantityPerPage);\r\n    const [filteredToppings, setFilteredToppings] = useState(toppings);\r\n\r\n    const search = (e) => {\r\n        const filtered = toppings.filter((t => {\r\n            if (t.name.toUpperCase().includes(e.target.value.toUpperCase()) || e.target.value === \"\")\r\n                return true\r\n            else \r\n                return false\r\n        }))\r\n\r\n        setFilteredToppings(filtered)\r\n\r\n        setQuantityPerPage(filtered.length)\r\n\r\n        setFrom(0)\r\n        setTo(filtered.length)\r\n    }\r\n\r\n\r\n    const prev = () => {\r\n        if (from >= quantityPerPage) {\r\n            setFrom(from - quantityPerPage)\r\n            setTo(to - quantityPerPage)\r\n        }\r\n        else {\r\n            setFrom(0)\r\n            setTo(quantityPerPage)\r\n        }\r\n    }\r\n    \r\n    const next = () => {\r\n        if (to + quantityPerPage <= filteredToppings.length) {\r\n            setTo(to + quantityPerPage)\r\n            setFrom(from + quantityPerPage)\r\n        }\r\n        else {\r\n            setTo(filteredToppings.length)\r\n            setFrom(filteredToppings.length - quantityPerPage)\r\n        }\r\n    }\r\n    \r\n    const change = (e) => {\r\n\r\n        if (e.target.value.length > 3)\r\n            e.target.value = e.target.value.slice(0, 3)\r\n\r\n        if(isNaN(e.target.value))\r\n            e.target.value = 1;\r\n\r\n        if (Number(e.target.value) < 1)\r\n            e.target.value = 1;\r\n\r\n        if (Number(e.target.value) > filteredToppings.length)\r\n            e.target.value = filteredToppings.length;\r\n\r\n        setQuantityPerPage(Number(e.target.value));\r\n        setFrom(0);\r\n        setTo(Number(e.target.value));\r\n    }\r\n\r\n    const increaseQuantityPerPage = () => {\r\n        if (quantityPerPage <= filteredToppings.length -1) {\r\n            setFrom(0);\r\n            setTo(quantityPerPage + 1);\r\n\r\n            setQuantityPerPage(quantityPerPage + 1)\r\n        }\r\n    }\r\n\r\n    const decreaseQuantityPerPage = () => {\r\n        if (quantityPerPage >= 2) {\r\n            setFrom(0);\r\n            setTo(quantityPerPage - 1);\r\n\r\n            setQuantityPerPage(quantityPerPage - 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"toppings\">\r\n            <ToppingDetails />\r\n            <div className=\"search\">\r\n                <input type=\"text\" placeholder=\"search\" onChange={(e) => search(e)} />\r\n            </div>\r\n            <div className=\"navigation\">\r\n                <span onClick={prev}>{\"\\u2190\"}</span>\r\n                <span>\r\n                    {filteredToppings.length}{\"(\"}<input value={quantityPerPage} onChange={change}/>{\")\"}/\r\n                    {Number(to) === 0 ? 0 : from + 1}-{to}\r\n                    <span onClick={increaseQuantityPerPage}>{\"\\u2bc5\"}</span>\r\n                    <span onClick={decreaseQuantityPerPage}>{\"\\u2bc6\"}</span>\r\n                </span>\r\n                <span onClick={next}>{\"\\u2192\"}</span>\r\n            </div>\r\n            <div className=\"content\">\r\n            {\r\n                filteredToppings.slice(from, to).map((topping, idx) => <Topping key={topping.id} key2={topping.id} topping={topping}/>)\r\n            }\r\n            </div>\r\n            <div className=\"navigation\">\r\n                <span onClick={prev}>{\"\\u2190\"}</span>\r\n                <span>\r\n                    {filteredToppings.length}{\"(\"}<input value={quantityPerPage} onChange={change}/>{\")\"}/\r\n                    {Number(to) === 0 ? 0 : from + 1}-{to}\r\n                    <span onClick={increaseQuantityPerPage}>{\"\\u2bc5\"}</span>\r\n                    <span onClick={decreaseQuantityPerPage}>{\"\\u2bc6\"}</span>\r\n                </span>\r\n                <span onClick={next}>{\"\\u2192\"}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext, useCallback, useEffect, useRef } from 'react';\r\nimport Pizzas from './../Pizzas/Pizzas';\r\nimport Toppings from './../Toppings/Toppings';\r\nimport DataContext from './../../context/data/dataContext';\r\nimport './Home.css';\r\n\r\nexport default function Home() {\r\n\r\n    const [mainImgStyle, setMainImgStyle] = useState({})\r\n    const [menuImgStyle, setMenuImgStyle] = useState({})\r\n    const [introductionStyle, setIntroductionStyle] = useState({})\r\n\r\n    const {data, loading} = useContext(DataContext)\r\n\r\n    const observerRef1 = useRef()\r\n    const observerRef2 = useRef()\r\n    const observerRef3 = useRef()\r\n\r\n    const mainImgRef = useCallback((node) => {\r\n        const observer = new IntersectionObserver(entries => {\r\n            if (entries[0].isIntersecting) {\r\n                setMainImgStyle({transform: 'scale(1)'})\r\n            } else {\r\n                setMainImgStyle({})\r\n            }\r\n        })\r\n    \r\n        if (node) {\r\n            observer.observe(node)\r\n            observerRef1.current = observer\r\n        }\r\n    }, [])\r\n    \r\n    const menuImgRef = useCallback((node) => {\r\n      const observer = new IntersectionObserver(entries => {\r\n          if (entries[0].isIntersecting) {\r\n              setMenuImgStyle({transform: 'scale(1)'})\r\n          } else {\r\n              setMenuImgStyle({})\r\n          }\r\n      })\r\n    \r\n      if (node) {\r\n        observer.observe(node)\r\n        observerRef2.current = observer\r\n      }\r\n    }, [])\r\n    \r\n    const introductionRef = useCallback((node) => {\r\n      const observer = new IntersectionObserver(entries => {\r\n          if (entries[0].isIntersecting) {\r\n              setIntroductionStyle({transform: 'scale(1)'})\r\n          } else {\r\n              setIntroductionStyle({})\r\n          }\r\n      })\r\n    \r\n      if (node) {\r\n        observer.observe(node)\r\n        observerRef3.current = observer\r\n      }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n      return () => {\r\n        observerRef1.current.disconnect()\r\n        observerRef2.current.disconnect()\r\n        observerRef3.current.disconnect()\r\n      }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n        { loading ? <p>Loading</p>\r\n          : data === null ? \r\n              <h3>Data fetch error</h3>\r\n              :  \r\n              <div className=\"mainContainer\">\r\n\r\n                <div className=\"head\" style={{backgroundImage: 'url(\"head.jpg\")', backgroundSize: 'cover'}}>\r\n                    <img className=\"logo\" src=\"logo.png\" alt=\"\" />\r\n\r\n                    <h1>\r\n                        Pizza Party tterem\r\n                    </h1>\r\n                </div>\r\n\r\n                <div className=\"firstPart\">\r\n                  <img ref={mainImgRef} style={mainImgStyle} className=\"mainImage\" src=\"mainImage.jpg\" alt=\"\" />\r\n\r\n                  <p ref={introductionRef} style={introductionStyle} className=\"introduction\">\r\n                    A Party Pizzrit 1997-ben nyitottuk, tbb-kevsb csaldi vllalkozs keretben. Elssorban a lakossg \"pizzaignyeit\" szerettk volna kielgteni, de a krnykbeli falvakbl s a kzelebbi vrosokbl is sikerlt mr trzsvendkeket szereznnk az elmult msfl vtizedben. Gazdasgadta lehetsgekhez, s Kedves Vendgeink pnztrcjhoz igazodva megprbltunk az rsznvonal arany kzptjn maradni, termszetesen maximlis minsg mellett. Minden ernkbl azon dolgozunk, hogy aki tlnk tvozik, j rzssel- vlemnnyel, s nem utols sorben tele hassal tegye!\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"secondPart\">\r\n                  <img ref={menuImgRef} style={menuImgStyle} className=\"menuImage\" src=\"menuImage.png\" alt=\"\" />\r\n\r\n                  <div className=\"pizzasAndToppings\">\r\n        \r\n                    <div className=\"pizzasContainer\">\r\n                      <h2>Pizzas</h2>\r\n                      {data.pizza.length ? <Pizzas pizzas={data.pizza}/> : <p className=\"warning\"> No pizzas </p>}\r\n                    </div>\r\n\r\n                    <div className=\"toppingsContainer\">\r\n                      <h2>Toppings</h2>\r\n                      {data.topping.length ? <Toppings toppings={data.topping}/> : <p className=\"warning\"> No toppings </p>}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                  \r\n              </div>\r\n        }\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport CartContext from './../../context/cart/cartContext';\r\nimport DataContext from './../../context/data/dataContext';\r\nimport './cart.css';\r\n\r\nexport default function Cart() {\r\n\r\n    const {cart, modifyOrDeleteItem} = useContext(CartContext);\r\n    const {data} = useContext(DataContext);\r\n\r\n    const [pizzas, setPizzas] = useState([]);\r\n    const [toppings, setToppings] = useState([]);\r\n\r\n    let totalSum = 0;\r\n\r\n    const setItems = (pizzaOrTopping) => {\r\n        let array = [];\r\n        for (const key in cart[pizzaOrTopping]) {\r\n            const item = data[pizzaOrTopping].filter((p) => {\r\n                if (p.id === Number(key))\r\n                    return p;\r\n            })\r\n            .map(p => ({...p, db: cart[pizzaOrTopping][key]}))[0]\r\n\r\n\r\n            array.push(item)\r\n        }\r\n        if (pizzaOrTopping === \"pizza\")\r\n            setPizzas(array);\r\n        else\r\n            setToppings(array);\r\n    }\r\n\r\n    const change = (e, id, category) => {\r\n        if (e.target.value.length > 3)\r\n        e.target.value = e.target.value.slice(0, 3)\r\n\r\n        if(isNaN(e.target.value))\r\n            e.target.value = 1;\r\n\r\n        if (Number(e.target.value) < 1)\r\n            e.target.value = 1;\r\n\r\n        modifyOrDeleteItem(true, id, category, e.target.value)\r\n\r\n    }\r\n\r\n    const renderTableBody = (pizzasOrToppings, category) => {\r\n        let sum = 0;\r\n        let itemsRows = pizzasOrToppings.map((item, i) => {\r\n            if (item)\r\n                sum += item.price * item.db;\r\n            \r\n            return item && <tr key={i}>\r\n            <td>{item.name}</td>\r\n            <td>{item.price}</td>\r\n            <td>\r\n                <input value={item.db} \r\n                    onChange={(e) => change(e, item.id, category)}/>\r\n            </td>\r\n            <td>{item.price * item.db}</td>\r\n            <td>\r\n                <svg viewBox=\"0 0 448 512\" onClick={() => modifyOrDeleteItem(false, item.id, category)}>\r\n                    <path fill=\"currentColor\" d=\"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z\">\r\n                    </path>\r\n                </svg>\r\n            </td>\r\n        </tr>})\r\n        let sumRow = <tr>\r\n            <td colSpan=\"4\" style={{textAlign: \"right\"}}>{sum}</td>\r\n            <td></td>\r\n        </tr>\r\n\r\n        totalSum += sum;\r\n\r\n        return <>{itemsRows}{sumRow}</>\r\n    }\r\n\r\n    useEffect(() => {\r\n        setItems(\"pizza\")\r\n        setItems(\"topping\")\r\n    }, [cart, data])\r\n\r\n    return (\r\n        <div className=\"cartRoute\">\r\n            {\r\n                pizzas.length &&\r\n                <div className=\"backdrop\">\r\n                    <h2>Pizzk</h2>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Egysgr</th>\r\n                                <th>db</th>\r\n                                <th>r</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                function() {\r\n                                    totalSum = 0;\r\n\r\n                                    return renderTableBody(pizzas, \"pizza\")\r\n                                }()\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            }\r\n            {\r\n                toppings.length &&\r\n                <div className=\"backdrop\">\r\n                    <h2>Felttek</h2>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Egysgr</th>\r\n                                <th>db</th>\r\n                                <th>r</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                function() {\r\n                                    return renderTableBody(toppings, \"topping\")\r\n                                }()\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            }\r\n            <div className=\"backdrop\">\r\n                <p>sszesen fizetend: {totalSum}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport AuthContext from '../../context/auth/authContext'\r\nimport './Register.css';\r\n\r\nexport default function Register(props) {\r\n\r\n    let formValid = true\r\n    \r\n    const [user, setUser] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        password2: \"\"\r\n    });\r\n   \r\n    const {name, email, password, password2} = user;\r\n\r\n    const authContext = useContext(AuthContext)\r\n    const { register, error, clearErrors } = authContext\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, []);\r\n\r\n    const onChange = e => setUser({...user, [e.target.name]: e.target.value})\r\n\r\n\r\n    const submit = () => {\r\n\r\n        if (formValid)\r\n            register({\r\n                name,\r\n                email,\r\n                password\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"Register\">\r\n            <div className=\"content\">\r\n                <h1>Account Register</h1>\r\n                <div className=\"alerts\">\r\n                {\r\n                    function() {\r\n                        let alerts = []\r\n                        formValid = true\r\n\r\n                        if (name === \"\" || email === \"\" || password === \"\") {\r\n                            alerts.push(<p key={alerts.length + 1}>Please fill every field!</p>)\r\n                            formValid = false\r\n                        }\r\n                        if (password !== password2) {\r\n                            alerts.push(<p key={alerts.length + 1}>Passwords do not match!</p>)\r\n                            formValid = false\r\n                        }\r\n\r\n                        if (error) {\r\n                            if (error.msg)\r\n                                alerts.push(<p key={alerts.length + 1}>{error.msg}</p>)\r\n\r\n                            if (error.errors) {\r\n                                for (const err of error.errors) {\r\n                                    alerts.push(<p key={alerts.length + 1}>{err.msg}</p>)\r\n                                }   \r\n                            }\r\n                        }\r\n\r\n                        return alerts\r\n                    }()\r\n                }\r\n                </div>\r\n                <form>\r\n                    <div>\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input type=\"text\" name=\"name\" value={name} onChange={onChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input type=\"email\" name=\"email\" value={email} onChange={onChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" name=\"password\" value={password} onChange={onChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"password2\">Confirm Password</label>\r\n                        <input type=\"password\" name=\"password2\" value={password2} onChange={onChange}/>\r\n                    </div>\r\n                    <button type=\"button\" disabled={!formValid} onClick={submit}>Register</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport './Login.css';\r\n\r\nexport default function Login(props) {\r\n\r\n    let formValid = true\r\n\r\n    const [user, setUser] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const {email, password} = user;\r\n\r\n    const authContext = useContext(AuthContext)\r\n    const { login, error, clearErrors } = authContext\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, []);\r\n\r\n\r\n    const onChange = e => setUser({...user, [e.target.name]: e.target.value})\r\n    \r\n    const submit = () => {\r\n\r\n        if (formValid)\r\n            login({\r\n                email,\r\n                password\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"Login\">\r\n            <div className=\"content\">\r\n                <h1>Account Login</h1>\r\n                <div className=\"alerts\">\r\n                {\r\n                    function() {\r\n                        let alerts = []\r\n                        formValid = true\r\n\r\n                        if (email === \"\" || password === \"\") {\r\n                            alerts.push(<p key={alerts.length + 1}>Please fill every field!</p>)\r\n                            formValid = false\r\n                        }\r\n\r\n                        if (error) {\r\n                            if (error.msg)\r\n                                alerts.push(<p key={alerts.length + 1}>{error.msg}</p>)\r\n\r\n                            if (error.errors) {\r\n                                for (const err of error.errors) {\r\n                                    alerts.push(<p key={alerts.length + 1}>{err.msg}</p>)\r\n                                }   \r\n                            }\r\n                        }\r\n\r\n                        return alerts\r\n                    }()\r\n                }\r\n                </div>\r\n                <form>\r\n                    <div>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input type=\"email\" name=\"email\" value={email} onChange={onChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" name=\"password\" value={password} onChange={onChange}/>\r\n                    </div>\r\n                    <button type=\"button\" disabled={!formValid} onClick={submit}>Login</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport CartContext from '../../context/cart/cartContext';\r\nimport axios from 'axios';\r\nimport './Order.css';\r\n\r\nexport default function Order(props) {\r\n\r\n    let formValid = true\r\n    \r\n    const [order, setOrder] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        tel: \"\",\r\n        address: \"\"\r\n    });\r\n\r\n    const [error, setError] = useState(null);\r\n   \r\n    const {name, email, tel, address} = order;\r\n\r\n    const {cart} = useContext(CartContext)\r\n\r\n\r\n\r\n    const onChange = e => setOrder({...order, [e.target.name]: e.target.value})\r\n\r\n\r\n    const submit = async () => {\r\n\r\n        if (!formValid)\r\n            return\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        try {\r\n\r\n            setError(null)\r\n            const res = await axios.post(\r\n                \"http://localhost:8000/api/order\", \r\n                {...order, cart}, \r\n                config)\r\n\r\n            if (res.data && res.data.success === true)\r\n                props.history.push(\"/orders\")\r\n\r\n        } catch (err) {\r\n            console.log(\"error: \", err.response.data)\r\n            setError(err.response.data)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"Order\">\r\n            <div className=\"content\">\r\n                <h1>Order</h1>\r\n                <div className=\"alerts\">\r\n                {\r\n                    function() {\r\n                        let alerts = []\r\n                        formValid = true\r\n\r\n                        if (name === \"\" || email === \"\" || tel === \"\" || address === \"\") {\r\n                            alerts.push(<p key={alerts.length + 1}>Please fill every field!</p>)\r\n                            formValid = false\r\n                        }\r\n\r\n                        if (!Object.keys(cart.pizza).length && !Object.keys(cart.topping).length) {\r\n                            alerts.push(<p key={alerts.length + 1}>Cart is empty!</p>)\r\n                            formValid = false\r\n                        }\r\n\r\n                        if (error) {\r\n                            if (error.msg)\r\n                                alerts.push(<p key={alerts.length + 1}>{error.msg}</p>)\r\n\r\n                            if (error.errors) {\r\n                                for (const err of error.errors) {\r\n                                    alerts.push(<p key={alerts.length + 1}>{err.msg}</p>)\r\n                                }   \r\n                            }\r\n                        }\r\n\r\n                        return alerts\r\n                    }()\r\n                }\r\n                </div>\r\n                <form>\r\n                    <div>\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input type=\"text\" name=\"name\" value={name} onChange={onChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input type=\"email\" name=\"email\" value={email} onChange={onChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"tel\">Phone Number</label>\r\n                        <input type=\"tel\" name=\"tel\" value={tel} onChange={onChange}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"address\">Address</label>\r\n                        <input type=\"text\" name=\"address\" value={address} onChange={onChange}/>\r\n                    </div>\r\n                    <button type=\"button\" disabled={!formValid} onClick={submit}>Order</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport DataContext from './../../../context/data/dataContext';\r\nimport './OrderCard.css';\r\n\r\nexport default function OrderCard({order}) {\r\n\r\n    const {data} = useContext(DataContext)\r\n\r\n    let totalSum = 0;\r\n\r\n    const renderTable = (category) => {\r\n\r\n        let items = []\r\n        for (const key in order.cart[category]) {\r\n            items.push(\r\n                {...data[category].filter(p => p.id === Number(key))[0],\r\n                    db: order.cart[category][key]\r\n                })\r\n        }\r\n\r\n        let sum = 0;\r\n        let rows = items.map((p, idx) => {\r\n\r\n            sum += p.db * p.price\r\n\r\n            return (<tr key={idx}>\r\n            <td>{p.name}</td>\r\n            <td>{p.price}</td>\r\n            <td>{p.db}</td>\r\n            <td>{p.db * p.price}</td>\r\n        </tr>)\r\n        })\r\n\r\n        rows.push(\r\n            <tr key={items.length}>\r\n                <td colSpan=\"3\"></td>\r\n                <td>{sum}</td>\r\n            </tr>)\r\n\r\n        totalSum += sum;\r\n\r\n        return rows;\r\n    }\r\n\r\n    return (\r\n        <div className=\"OrderCard\">\r\n            <div className=\"personalData\">\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>Nv: </td>\r\n                            <td>{order.name}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Cm: </td>\r\n                            <td>{order.address}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Email: </td>\r\n                            <td>{order.email}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Tel: </td>\r\n                            <td>{order.tel}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"cart\">\r\n            {\r\n                    (Object.keys(order.cart.pizza).length !== 0 && data.pizza.length !== 0) ? \r\n                    <div>\r\n                        <h2>Pizzk</h2>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Name</th>\r\n                                    <th>Egysgr</th>\r\n                                    <th>db</th>\r\n                                    <th>r</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    function () {\r\n                                        totalSum = 0;\r\n\r\n                                        return renderTable(\"pizza\")\r\n                                    }()\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div> : <p>Nincsenek pizzk!</p>\r\n                }\r\n                {\r\n                    (Object.keys(order.cart.topping).length !== 0 && data.topping.length !== 0) ? \r\n                    <div>\r\n                        <h2>Felttek</h2>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Name</th>\r\n                                    <th>Egysgr</th>\r\n                                    <th>db</th>\r\n                                    <th>r</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n                                    function () {\r\n                                        return renderTable(\"topping\")\r\n                                    }()\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div> : <p>Nincsenek felttek!</p>\r\n                }\r\n            </div>\r\n            <div className=\"totalSum\">\r\n                sszesen: {totalSum} Ft.\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react'\r\nimport axios from 'axios';\r\nimport OrderCard from './OrderCard/OrderCard';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport './Orders.css';\r\n\r\nexport default function Orders(props) {\r\n\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    const {loading, isAuthenticated} = useContext(AuthContext);\r\n\r\n    useEffect(() => {\r\n        const asyncFn = async () => {\r\n            try {\r\n    \r\n                const res = await axios.get(\"http://localhost:8000/api/orders\")\r\n                console.log(res.data)\r\n                setOrders(res.data)\r\n    \r\n            } catch (err) {\r\n                console.log(err.response.data)\r\n            }\r\n        }\r\n\r\n        if (!loading) {\r\n            if (!isAuthenticated)\r\n                props.history.push(\"/\")\r\n            else\r\n                asyncFn()\r\n        }\r\n\r\n    }, [loading, isAuthenticated]);\r\n\r\n    return (\r\n        <div className=\"Orders\">\r\n            {\r\n                orders.length ? orders.map((ord, idx) => <OrderCard key={idx} order={ord}/>)\r\n                                : <p className=\"info\">Nincsenek megrendelsek</p>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}) {\r\n    \r\n    const { isAuthenticated, loading } = useContext(AuthContext)\r\n\r\n    return (\r\n        <Route {...rest} render={props => \r\n            loading ? <p>Loading...</p>\r\n                    : isAuthenticated ? \r\n                        <Component {...props} />\r\n                        :\r\n                        <Redirect to=\"/login\" />\r\n\r\n        }/>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}) {\r\n    \r\n    const { isAuthenticated, loading } = useContext(AuthContext)\r\n\r\n    return (\r\n        <Route {...rest} render={props => \r\n            loading ? <p>Loading...</p>\r\n                    : !isAuthenticated ? \r\n                        <Component {...props} />\r\n                        :\r\n                        <Redirect to=\"/\" />\r\n\r\n        }/>\r\n    )\r\n}\r\n","import './App.css';\n\nimport { useEffect, useContext } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport DataContext from './context/data/dataContext';\n\nimport NavBar from './components/NavBar/NavBar';\nimport Home from './components/Home/Home';\nimport Cart from './components/Cart/Cart';\nimport Register from './components/Register/Register';\nimport Login from './components/Login/Login';\nimport AuthContext from './context/auth/authContext';\nimport Order from './components/Order/Order';\nimport Orders from './components/Orders/Orders';\nimport PrivateRoute from './components/Routing/PrivateRoute';\nimport UnAuthRoute from './components/Routing/UnAuthRoute';\n\nfunction App() {\n\n  const {setData} = useContext(DataContext)\n  const {loadUser} = useContext(AuthContext)\n\n  useEffect(() => {\n\n    fetch(\"http://localhost:8000/api/data\")\n    .then(r => r.json())\n    .then(d => {\n      setData(d);\n      loadUser();\n    })\n    .catch(err => {\n        console.log(err);\n        setData(null);\n    })\n    .finally(() => {\n    });\n\n  }, [])\n\n  \n  return (\n      <div className=\"App\" style={{backgroundImage: 'url(\"background.svg\")', backgroundSize: 'contain'}}>\n        <NavBar/>\n          <Switch>\n            <UnAuthRoute path=\"/register\" component={Register} />\n            <UnAuthRoute path=\"/login\" component={Login} />\n            <Route path=\"/cart\" component={Cart} />\n            <PrivateRoute path=\"/order\" component={Order} />\n            <PrivateRoute path=\"/orders\" component={Orders} />\n            <Route exact path=\"/\" component={Home} />\n            <Redirect to=\"/\" />\n          </Switch>\n      </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport CartState from './context/cart/cartState';\nimport DataState from './context/data/dataState';\nimport AuthState from './context/auth/authState';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthState>\n    <DataState>\n    <CartState>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </CartState>\n    </DataState>\n    </AuthState>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}