{"version":3,"sources":["actions/types.js","utils/setAuthToken.js","actions/authActions.js","components/ContentEditable/ContentEditable.jsx","components/NavBar/NavBar.jsx","utils/moveToCart.js","actions/cartActions.js","actions/dataActions.js","components/Items/Item/Item.jsx","components/Items/ItemDetails/ItemDetails.jsx","components/Navigation/navigation.jsx","components/Items/Items.jsx","components/Home/Home.jsx","components/Cart/Cart.jsx","components/LoadingMask/LoadingMask.component.jsx","components/Register/Register.jsx","components/Login/Login.jsx","components/Order/Order.jsx","components/Orders/OrderCard/OrderCard.jsx","components/Orders/Orders.jsx","components/Callback/Callback.jsx","components/Confirm/Confirm.jsx","components/PasswordReset/PasswordReset.jsx","components/ForgotPassword/ForgotPassword.jsx","components/Booking/BookingContext/BookingContext.js","components/Booking/DateBooking/DateBooking.jsx","components/Booking/Dashboard/Dashboard.jsx","components/Booking/TD/Content/Row/Row.jsx","components/Booking/TD/Content/Content.jsx","components/Booking/TD/Td.jsx","components/Booking/BookingTable/BookingTable.jsx","components/Booking/Booking.jsx","components/Bookings/BookingCard/BookingCard.jsx","components/Bookings/Bookings.jsx","components/Routing/PrivateRoute.js","components/Routing/UnAuthRoute.js","components/Profile/FileInput/FileInput.jsx","components/Profile/Profile.jsx","App.js","reportWebVitals.js","reducers/authReducer.js","reducers/cartReducer.js","reducers/dataReducer.js","reducers/index.js","store.js","index.js"],"names":["LOGIN_SUCCESS","LOGOUT","SET_USER","SET_DATA","SELECT_PIZZA","SELECT_TOPPING","SET_CART","CHECK_CART","setAuthToken","token","httpClient","defaults","headers","common","axios","baseURL","logout","type","setToken","user","jwt_decode","payload","setUser","ContentEditable","props","onChange","element","useRef","elements","React","Children","toArray","children","useEffect","current","innerText","spaces","String","fromCharCode","index","cloneElement","contentEditable","suppressContentEditableWarning","ref","onKeyUp","connect","state","cart","data","auth","useState","rect1Class","setRect1Class","rect2Class","setRect2Class","rect3Class","setRect3Class","dropDownClass","setDropDownClass","callGoogle","a","get","res","authUrl","window","location","href","console","log","response","sendNameChangeRequest","newName","config","post","success","name","msg","currentTimeout","className","to","onClick","e","viewBox","x","y","width","height","id","d","amount","categoryKey","itemId","Number","filter","item","_id","toString","map","price","exact","photo","src","alt","value","clearTimeout","setTimeout","moveToCart","node","container","cartNodeInfo","document","getElementById","getBoundingClientRect","nodeInfo","clonedNode","cloneNode","insertBefore","firstElementChild","style","position","zIndex","left","Math","floor","top","transition","remove","modifyOrDeleteItem","modifyOrDelete","category","newValue","localStorage","partyPizza","JSON","parse","stringify","selectPizza","pizza","selectTopping","topping","putInCart","dataset","itemType","key2","itemRef","observer","IntersectionObserver","entries","isIntersecting","target","transform","observe","disconnect","image","querySelector","fill","selectedPizza","selectedTopping","quantity","setQuantity","input","setInput","itemDetailsStyle","setItemDetailsStyle","contentClass","setContentClass","description","length","slice","isNaN","Navigation","prev","quantityPerPage","change","increaseQuantityPerPage","decreaseQuantityPerPage","next","from","Items","items","defaultQuantityPerPage","setQuantityPerPage","setFrom","setTo","filteredItems","setFilteredItems","placeholder","filtered","p","toUpperCase","includes","search","loading","mainImgRef","menuImgRef","introductionRef","entry","backgroundImage","backgroundSize","pizzas","setPizzas","toppings","setToppings","totalSum","setItems","pizzaOrTopping","array","key","db","push","renderTableBody","pizzasOrToppings","sum","itemsRows","i","sumRow","colSpan","textAlign","LoadingMask","formValid","error","setError","registration_success","setRegistration_success","waitingForServer","setWaitingForServer","email","password","password2","submit","alerts","errors","err","htmlFor","disabled","history","tel","address","order","setOrder","Object","keys","OrderCard","renderTable","rows","idx","Date","date","toLocaleString","orders","setOrders","asyncFn","ord","query","URLSearchParams","useLocation","useHistory","_","code","PasswordReset","setPassword","setSuccess","sendPassword","ForgotPassword","setEmail","sendEmail","bookingContext","createContext","useContext","BookingContext","dateStrings","bookings","addProps","intervalCorrectionBasedOnTimeZone","sendToServer","setSelectedTableNumber","quarterHourOptions","minute","hourOptions","hour","dateOptions","startDateIndex","setStartDateIndex","endDateIndex","setEndDateIndex","hourStart","setHourStart","minuteStart","setMinuteStart","hourEnd","setHourEnd","minuteEnd","setMinuteEnd","message","setMessage","parseInt","dataToCheck","intervals","intervalsOfFullDay","interval","startDateIntervals","endDateIntervals","freeTable","tableNumber","free","checkFreeTable","dataToSend","userBookings","correctedDate","correctedIntervalNumber","bookFreeTable","Dashboard","selectedTableNumber","twoHours","bookingMatrix","changeBookingState","bookingState","backgroundColor","Content","trArr","Td","showOverlay","setShowOverlay","unsavedChanges","sendBooking","BookingTable","firstDayIndex","days","send","thArray","counter","tdArr","day","unshift","setDateStrings","setFirstDayIndex","setBookings","setUnsavedChanges","setErrors","createDateStrings","dateStringArray","tzoffset","getTimezoneOffset","futureTimeStamp","now","aDayInTheFuture","toISOString","getDay","obj","arr","val","split","tmpObj","shift","intervalNumber","intervalDate","outgoingData","round","getTime","incomingBookingsDataParser","convertedData","Provider","quarterHour","copyOfBookings","changes","BookingCard","start","end","toLocaleDateString","toLocaleTimeString","setUserBookings","direction","setDirection","dateTable","setDateTable","resp","userBookingsArray","checked","sort","compare","incDec","dateOrTable","recCall","b1","b2","start1","start2","u","isAuthenticated","Component","component","rest","render","FileInput","inpRef","info","setInfo","click","files","indexOf","size","form","formData","setFormData","setFormValid","setPhoto","checkValidity","FormData","append","action","required","loadingData","setData","dispatch","loadUser","pathname","path","Register","Login","Order","Orders","Booking","Bookings","Profile","Confirm","Callback","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","getItem","authReducer","setItem","removeItem","cartReducer","pizzaId","toppingId","dataReducer","combineReducers","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e88b18ad.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGOUT = \"LOGOUT\";\nexport const SET_USER = \"SET_USER\";\n\nexport const SET_DATA = \"SET_DATA\";\nexport const SELECT_PIZZA = \"SELECT_PIZZA\";\nexport const SELECT_TOPPING = \"SELECT_TOPPING\";\n\nexport const SET_CART = \"SET_CART\";\nexport const CHECK_CART = \"CHECK_CART\";\n","import httpClient from \"axios\";\n\nconst setAuthToken = (token) => {\n  if (token)\n    httpClient.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  else delete httpClient.defaults.headers.common[\"Authorization\"];\n};\n\nexport default setAuthToken;\n","import { LOGIN_SUCCESS, LOGOUT, SET_USER } from \"./types\";\n\nimport axios from \"axios\";\nimport setAuthToken from \"./../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\n\naxios.defaults.baseURL = \"https://cryptic-brushlands-33727.herokuapp.com\";\n\nexport const logout = () => {\n  return {\n    type: LOGOUT,\n  };\n};\n\nexport const setToken = (token) => {\n  const user = jwt_decode(token).user;\n\n  return {\n    type: LOGIN_SUCCESS,\n    payload: { token, user },\n  };\n};\n\nexport const setUser = (user) => {\n  return {\n    type: SET_USER,\n    payload: user,\n  };\n};\n\nexport const loadUser = () => async (dispatch) => {\n  const token = localStorage.token;\n  if (token) setAuthToken(token);\n\n  try {\n    const res = await axios.get(\"/api/loaduser\");\n\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: { token, user: res.data },\n    });\n  } catch (error) {\n    console.log(\"auth actions load user error:\", error);\n\n    dispatch({\n      type: LOGOUT,\n    });\n  }\n};\n","import React, { useRef, useEffect } from \"react\";\n\n//Editable element for username in the navbar\nexport default function ContentEditable(props) {\n  const { onChange } = props;\n  const element = useRef();\n  let elements = React.Children.toArray(props.children);\n\n  const keyUpHandler = () => {\n    if (!element.current) return;\n\n    //if username is an empty string then fills it in with spaces\n    if (!element.current.innerText) {\n      let spaces = String.fromCharCode(160);\n      for (let index = 0; index < 2; index++) {\n        spaces += spaces;\n      }\n      element.current.innerText = spaces;\n    }\n\n    //calls onChange in the props\n    onChange(element.current.innerText);\n  };\n\n  useEffect(() => {\n    //if username is an empty string then fills it in with spaces\n    if (element.current && !element.current.innerText) {\n      let spaces = String.fromCharCode(160);\n      for (let index = 0; index < 2; index++) {\n        spaces += spaces;\n      }\n      element.current.innerText = spaces;\n    }\n  }, []);\n\n  elements = React.cloneElement(elements[0], {\n    contentEditable: true,\n    suppressContentEditableWarning: true,\n    ref: element,\n    onKeyUp: keyUpHandler,\n  });\n\n  return elements;\n}\n","import \"./NavBar.css\";\nimport { useState, useRef } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logout, setUser } from \"../../actions/authActions\";\nimport ContentEditable from \"../ContentEditable/ContentEditable\";\nimport httpClient from \"axios\";\n\n//Main navigation: top bar\nconst NavBar = ({ logout, setUser, user, cart, data }) => {\n  const [rect1Class, setRect1Class] = useState(\"a\");\n  const [rect2Class, setRect2Class] = useState(\"b\");\n  const [rect3Class, setRect3Class] = useState(\"c\");\n\n  const [dropDownClass, setDropDownClass] = useState(\"dropDownMenu\");\n\n  const burgerClick = (e) => {\n    if (rect1Class === \"a\") {\n      setRect1Class(\"ax\");\n      setRect2Class(\"bx\");\n      setRect3Class(\"cx\");\n\n      setDropDownClass(\"dropDownMenu show\");\n    } else {\n      setRect1Class(\"a\");\n      setRect2Class(\"b\");\n      setRect3Class(\"c\");\n\n      setDropDownClass(\"dropDownMenu\");\n    }\n  };\n\n  const callGoogle = async () => {\n    try {\n      const res = await httpClient.get(\"/api/get_auth_info\");\n\n      const { authUrl } = res.data;\n\n      window.location.href = authUrl;\n    } catch (error) {\n      console.log(\"Get auth url error: \", error.response.data);\n    }\n  };\n\n  const sendNameChangeRequest = async (newName) => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    try {\n      const res = await httpClient.post(\n        \"/api/name_change\",\n        { newName },\n        config\n      );\n\n      if (!res.data.success) logout();\n      else {\n        console.log(\"name change happened: \", newName);\n        setUser({ ...user, name: newName })\n      }\n    } catch (err) {\n      console.log(\"name change error: \", err.response.data);\n      if (err?.response?.data?.msg && err.response.data.msg === \"Authentication error\")\n        logout();\n    }\n  };\n\n  const currentTimeout = useRef();\n  const nameChange = (value) => {\n    clearTimeout(currentTimeout.current);\n\n    currentTimeout.current = setTimeout(() => {\n      sendNameChangeRequest(value);\n    }, 2000);\n  };\n\n  return (\n    <div className=\"NavBar\">\n      <div className={dropDownClass}>\n        <Link to=\"/\">\n          <span>Home</span>\n        </Link>\n        {user ? (\n          <>\n            <Link to=\"/order\">\n              <span>j megrenels</span>\n            </Link>\n            <Link to=\"/orders\">\n              <span>Megrendelsek</span>\n            </Link>\n            <Link to=\"/booking\">\n              <span>j asztalfoglals</span>\n            </Link>\n            <Link to=\"/bookings\">\n              <span>Asztalfoglalsok</span>\n            </Link>\n          </>\n        ) : (\n          <>\n            <Link to=\"/register\">\n              <span>Regisztrci</span>\n            </Link>\n            <Link to=\"/login\">\n              <span>Belps</span>\n            </Link>\n          </>\n        )}\n      </div>\n\n      <div className=\"icons\">\n        <div className=\"hamburger\" onClick={burgerClick}>\n          <svg viewBox=\"0 0 40 40\">\n            <rect className={rect1Class} x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\n            <rect className={rect2Class} x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\n            <rect className={rect3Class} x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\n          </svg>\n        </div>\n        <div className=\"cart\">\n          <Link to=\"/cart\">\n            <svg id=\"cart\" viewBox=\"0 0 576 512\">\n              <path d=\"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z\"></path>\n            </svg>\n            <span>\n              {(function () {\n                //Counting total sum of the cart\n                //Based on quantities in cart and prices in the database\n                let amount = 0;\n                for (const categoryKey in cart) {\n                  for (const itemId in cart[categoryKey]) {\n                    amount +=\n                      Number(cart[categoryKey][itemId]) *\n                      data[categoryKey]\n                        .filter((item) => {\n                          if (item._id.toString() === itemId.toString())\n                            return true;\n                          else return false;\n                        })\n                        .map((element) => element.price);\n                  }\n                }\n                return amount;\n              })()}\n            </span>\n          </Link>\n        </div>\n      </div>\n      <div className=\"linksAndUser\">\n        <div className=\"links\">\n          <NavLink to=\"/\" exact={true}>\n            Home{\" \"}\n          </NavLink>\n          {user ? (\n            <>\n              <span className=\"loggedIn\">\n                Megrendels\n                <div className=\"order\">\n                  <NavLink to=\"/order\">j megrendels</NavLink>\n                  <NavLink to=\"/orders\">Megrendelsek </NavLink>\n                </div>\n              </span>\n              <span className=\"loggedIn\">\n                Asztalfoglals\n                <div className=\"booking\">\n                  <NavLink to=\"/booking\">j asztalfoglals</NavLink>\n                  <NavLink to=\"/bookings\">Asztalfoglalsok</NavLink>\n                </div>\n              </span>\n            </>\n          ) : (\n            <>\n              <NavLink to=\"/register\">Regisztrci</NavLink>\n              <NavLink to=\"/login\">Belps</NavLink>\n            </>\n          )}\n        </div>\n        <div className=\"userInfo\">\n          {user && user.photo !== \"no-image.png\" && (\n            <img src={user.photo} alt=\"\" />\n          )}\n          {user ? (\n            <Link to=\"/profile\">\n              <ContentEditable onChange={nameChange}>\n                <span className=\"userName\">{user.name}</span>\n              </ContentEditable>\n            </Link>\n          ) : (\n            <span className=\"notLoggedIn\" onClick={callGoogle}>\n              Belps\n              <img src=\"google.png\" alt=\"\" />\n              -al!\n            </span>\n          )}\n          {user && (\n            <div className=\"logout\" onClick={() => logout()}>\n              <svg viewBox=\"0 0 512 512\">\n                <path d=\"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z\"></path>\n              </svg>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart,\n  data: state.data.data,\n  user: state.auth.user,\n});\n\nexport default connect(mapStateToProps, { logout, setUser })(NavBar);\n","//Animation for putting an item to cart\nconst moveToCart = (node, container) => {\n  const cartNodeInfo = document.getElementById(\"cart\").getBoundingClientRect();\n  const nodeInfo = node.getBoundingClientRect();\n  const clonedNode = node.cloneNode(true);\n\n  container.insertBefore(clonedNode, container.firstElementChild);\n\n  clonedNode.style.position = \"fixed\";\n  clonedNode.style.zIndex = 2;\n  clonedNode.style.left = Math.floor(nodeInfo.left) + \"px\";\n  clonedNode.style.top = Math.floor(nodeInfo.top) + \"px\";\n  clonedNode.style.width = Math.floor(nodeInfo.width) + \"px\";\n  clonedNode.style.height = Math.floor(nodeInfo.height) + \"px\";\n\n  setTimeout(() => {\n    clonedNode.style.left = Math.floor(cartNodeInfo.left) + \"px\";\n    clonedNode.style.top = Math.floor(cartNodeInfo.top) + \"px\";\n    clonedNode.style.width = Math.floor(cartNodeInfo.width) + \"px\";\n    clonedNode.style.height = Math.floor(cartNodeInfo.height) + \"px\";\n    clonedNode.style.transition = \"2s\";\n  }, 100);\n\n  setTimeout(() => {\n    clonedNode.remove();\n  }, 2100);\n};\n\nexport default moveToCart;\n","import { SET_CART } from \"./types\";\nimport moveToCart from \"./../utils/moveToCart\";\n\nexport const setCart = (cart) => {\n  return {\n    type: SET_CART,\n    payload: cart,\n  };\n};\n\nexport const modifyOrDeleteItem = (modifyOrDelete, id, category, newValue) => {\n  if (localStorage) {\n    let partyPizza = JSON.parse(localStorage.partyPizza);\n\n    modifyOrDelete\n      ? (partyPizza[category][id] = newValue)\n      : delete partyPizza[category][id];\n\n    localStorage.partyPizza = JSON.stringify(partyPizza);\n\n    return {\n      type: SET_CART,\n      payload: partyPizza,\n    };\n  }\n};\n\nexport const putInCart = (node, container) => {\n  if (localStorage) {\n    let partyPizza = JSON.parse(localStorage.partyPizza);\n\n    partyPizza[node.className][node.dataset.id]\n      ? (partyPizza[node.className][node.dataset.id] =\n          Number(partyPizza[node.className][node.dataset.id]) + 1)\n      : (partyPizza[node.className][node.dataset.id] = 1);\n\n    localStorage.partyPizza = JSON.stringify(partyPizza);\n\n    //animation\n    moveToCart(node, container);\n\n    return {\n      type: SET_CART,\n      payload: partyPizza,\n    };\n  }\n};\n","import { SET_DATA, SELECT_PIZZA, SELECT_TOPPING, CHECK_CART } from \"./types\";\nimport axios from \"axios\";\n\nexport const setData = () => async (dispatch) => {\n  try {\n    const response = await axios(\"/api/data\");\n\n    //setting product data in the state\n    dispatch({ type: SET_DATA, payload: response.data });\n    //checking cart data in case database items have been deleted\n    //and deleting invalid items in cart\n    dispatch({\n      type: CHECK_CART,\n      payload: {\n        pizza: response.data.pizza.map((p) => p._id.toString()),\n        topping: response.data.topping.map((p) => p._id.toString()),\n      },\n    });\n  } catch (error) {\n    console.log(\"getting pizza data error: \", error);\n    dispatch({ type: SET_DATA, payload: { pizza: [], topping: [] } });\n  }\n};\n\nexport const selectPizza = (pizza) => {\n  return { type: SELECT_PIZZA, payload: pizza };\n};\n\nexport const selectTopping = (topping) => {\n  return { type: SELECT_TOPPING, payload: topping };\n};\n","import \"./item.css\";\nimport React, { useEffect, useRef } from \"react\";\nimport { putInCart } from \"../../../actions/cartActions\";\nimport { selectPizza, selectTopping } from \"../../../actions/dataActions\";\nimport { connect } from \"react-redux\";\n\n//Pizza or Topping item\nconst Item = ({\n  putInCart,\n  selectPizza,\n  selectTopping,\n  item,\n  itemType,\n  key2,\n}) => {\n  const itemRef = useRef();\n\n  useEffect(() => {\n    const observer = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) {\n        entries[0].target.style.transform = \"scale(1)\";\n      } else {\n        entries[0].target.style = \"\";\n      }\n    });\n\n    if (itemRef.current) {\n      observer.observe(itemRef.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return (\n    <div ref={itemRef} className={itemType} data-id={key2}>\n      <img src={\"/images/\" + itemType + \"s/\" + item.image} alt=\"\" />\n      <div className=\"dashboard\">\n        <div>\n          <svg\n            viewBox=\"0 0 576 512\"\n            onClick={(e) =>\n              putInCart(\n                itemRef.current,\n                document.querySelector(\".\" + itemType + \"s\")\n              )\n            }\n          >\n            <path\n              fill=\"currentColor\"\n              d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\"\n            ></path>\n          </svg>\n        </div>\n        <div>\n          <svg\n            viewBox=\"0 0 512 512\"\n            onClick={(e) =>\n              itemType === \"pizza\" ? selectPizza(item) : selectTopping(item)\n            }\n          >\n            <path\n              fill=\"currentColor\"\n              d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"\n            ></path>\n          </svg>\n        </div>\n      </div>\n      <div className={itemType + \"_info\"}>\n        <p>{item.name}</p>\n        <p>{item.price} Ft</p>\n      </div>\n    </div>\n  );\n};\n\nexport default connect(null, { putInCart, selectPizza, selectTopping })(Item);\n","import \"./ItemDetails.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { modifyOrDeleteItem } from \"../../../actions/cartActions\";\nimport { selectPizza, selectTopping } from \"../../../actions/dataActions\";\nimport { connect } from \"react-redux\";\n\n//Displays the selected item(pizza or topping) on full screen\nconst ItemDetails = ({\n  selectPizza,\n  selectTopping,\n  modifyOrDeleteItem,\n  cart,\n  selectedPizza,\n  selectedTopping,\n  itemType,\n}) => {\n  const [quantity, setQuantity] = useState(0);\n  const [input, setInput] = useState(1);\n\n  const [itemDetailsStyle, setItemDetailsStyle] = useState({\n    transform: \"scale(0)\",\n  });\n  const [contentClass, setContentClass] = useState(\"content\");\n\n  useEffect(() => {\n    itemType === \"pizza\"\n      ? setQuantity(selectedPizza ? cart.pizza[selectedPizza._id] || 0 : 0)\n      : setQuantity(\n          selectedTopping ? cart.topping[selectedTopping._id] || 0 : 0\n        );\n\n    if (itemType === \"pizza\" && selectedPizza)\n      setItemDetailsStyle({ transform: \"scale(1)\" });\n\n    if (itemType === \"topping\" && selectedTopping)\n      setItemDetailsStyle({ transform: \"scale(1)\" });\n\n    setContentClass(\"content\");\n  }, [selectedPizza, selectedTopping, cart]);\n\n  return (\n    <div className=\"ItemDetails\" style={itemDetailsStyle}>\n      {((itemType === \"pizza\" && selectedPizza) ||\n        (itemType === \"topping\" && selectedTopping)) && (\n        <>\n          <span\n            className=\"close\"\n            onClick={() => {\n              setItemDetailsStyle({ transform: \"scale(0)\" });\n              setTimeout(() => {\n                itemType === \"pizza\" ? selectPizza(null) : selectTopping(null);\n              }, 1000);\n            }}\n          >\n            X\n          </span>\n\n          <img\n            src={\n              \"/images/\" +\n              itemType +\n              \"s/\" +\n              (itemType === \"pizza\"\n                ? selectedPizza.image\n                : selectedTopping.image)\n            }\n            alt=\"\"\n          />\n\n          <div className={contentClass}>\n            <div className=\"info\">\n              <span\n                className=\"closeInfo\"\n                onClick={() => setContentClass(\"content hide\")}\n              >\n                X\n              </span>\n              <div className={itemType + \"Info\"}>\n                <div className=\"firstColumn\">Nv:</div>\n                <div>\n                  {itemType === \"pizza\"\n                    ? selectedPizza.name\n                    : selectedTopping.name}\n                </div>\n                <div className=\"firstColumn\">r:</div>\n                <div>\n                  {itemType === \"pizza\"\n                    ? selectedPizza.price\n                    : selectedTopping.price}{\" \"}\n                  Ft\n                </div>\n                <div className=\"firstColumn\">Lers:</div>\n                <div>\n                  {itemType === \"pizza\"\n                    ? selectedPizza.description\n                    : selectedTopping.description}\n                </div>\n              </div>\n              <div className=\"cartInfo\">\n                <div>\n                  <svg viewBox=\"0 0 576 512\">\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\"\n                    ></path>\n                  </svg>\n                </div>\n                <div>\n                  <p>\n                    A kosrban<span> {quantity} db </span>van\n                  </p>\n\n                  <p>\n                    Kosrhoz adok\n                    <input\n                      type=\"text\"\n                      value={input}\n                      onChange={(e) => {\n                        if (e.target.value.length > 3)\n                          e.target.value = e.target.value.slice(0, 3);\n\n                        if (isNaN(e.target.value)) e.target.value = 1;\n\n                        if (Number(e.target.value) < 1) e.target.value = 1;\n\n                        e.target.value = Number(e.target.value);\n\n                        setInput(e.target.value);\n                      }}\n                    />\n                    <span className=\"db\">db-ot.</span>\n                    <button\n                      onClick={(e) => {\n                        modifyOrDeleteItem(\n                          true,\n                          itemType === \"pizza\"\n                            ? selectedPizza._id\n                            : selectedTopping._id,\n                          itemType,\n                          Number(input) + Number(quantity)\n                        );\n\n                        setInput(1);\n                      }}\n                      type=\"button\"\n                    >\n                      Mehet!\n                    </button>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart,\n  selectedPizza: state.data.selectedPizza,\n  selectedTopping: state.data.selectedTopping,\n});\n\nexport default connect(mapStateToProps, {\n  selectPizza,\n  selectTopping,\n  modifyOrDeleteItem,\n})(ItemDetails);\n","import \"./navigation.css\";\nimport React from \"react\";\n\n//paging for pizzas and toppings\nexport default function Navigation({ props }) {\n  return (\n    <div className=\"navigation\">\n      <div>\n        <span onClick={props.prev}>{\"\\u21e6\"}</span>\n        <span>\n          <input value={props.quantityPerPage} onChange={props.change} />\n          of\n          <em>{props.data.length}</em>\n          <span onClick={props.increaseQuantityPerPage}>{\"\\u2bc5\"}</span>\n          <span onClick={props.decreaseQuantityPerPage}>{\"\\u2bc6\"}</span>\n        </span>\n        <span onClick={props.next}>{\"\\u21e8\"}</span>\n      </div>\n      <div>\n        <span>\n          {Number(props.to) === 0 ? 0 : props.from + 1}-{props.to}\n        </span>\n      </div>\n    </div>\n  );\n}\n","import \"./Items.css\";\nimport Item from \"./Item/Item.jsx\";\nimport React, { useState } from \"react\";\nimport ItemDetails from \"./ItemDetails/ItemDetails.jsx\";\nimport Navigation from \"../Navigation/navigation.jsx\";\n\n//Lists the item components (pizzas or toppings)\nexport default function Items({ items, itemType }) {\n  const defaultQuantityPerPage = itemType === \"pizza\" ? 6 : 4;\n  const [quantityPerPage, setQuantityPerPage] = useState(\n    defaultQuantityPerPage <= items.length\n      ? defaultQuantityPerPage\n      : items.length\n  );\n  const [from, setFrom] = useState(0);\n  const [to, setTo] = useState(quantityPerPage);\n  const [filteredItems, setFilteredItems] = useState(items);\n\n  const search = (e) => {\n    const filtered = items.filter((p) => {\n      if (\n        p.name.toUpperCase().includes(e.target.value.toUpperCase()) ||\n        e.target.value === \"\"\n      )\n        return true;\n      else return false;\n    });\n\n    setFilteredItems(filtered);\n\n    setQuantityPerPage(\n      defaultQuantityPerPage <= filtered.length\n        ? defaultQuantityPerPage\n        : filtered.length\n    );\n\n    setFrom(0);\n    setTo(\n      defaultQuantityPerPage <= filtered.length\n        ? defaultQuantityPerPage\n        : filtered.length\n    );\n  };\n\n  const prev = () => {\n    if (from >= quantityPerPage) {\n      setFrom(from - quantityPerPage);\n      setTo(to - quantityPerPage);\n    } else {\n      setFrom(0);\n      setTo(quantityPerPage);\n    }\n  };\n\n  const next = () => {\n    if (to + quantityPerPage <= filteredItems.length) {\n      setTo(to + quantityPerPage);\n      setFrom(from + quantityPerPage);\n    } else {\n      setTo(filteredItems.length);\n      setFrom(filteredItems.length - quantityPerPage);\n    }\n  };\n\n  const change = (e) => {\n    if (e.target.value.length > 3) e.target.value = e.target.value.slice(0, 3);\n\n    if (isNaN(e.target.value)) e.target.value = 1;\n\n    if (Number(e.target.value) < 1) e.target.value = 1;\n\n    if (Number(e.target.value) > filteredItems.length)\n      e.target.value = filteredItems.length;\n\n    e.target.value = Number(e.target.value);\n\n    setQuantityPerPage(Number(e.target.value));\n    setFrom(0);\n    setTo(Number(e.target.value));\n  };\n\n  const increaseQuantityPerPage = () => {\n    if (quantityPerPage <= filteredItems.length - 1) {\n      setFrom(0);\n      setTo(quantityPerPage + 1);\n\n      setQuantityPerPage(quantityPerPage + 1);\n    }\n  };\n\n  const decreaseQuantityPerPage = () => {\n    if (quantityPerPage >= 2) {\n      setFrom(0);\n      setTo(quantityPerPage - 1);\n\n      setQuantityPerPage(quantityPerPage - 1);\n    }\n  };\n\n  return (\n    <div className={itemType + \"s\"}>\n      <ItemDetails itemType={itemType} />\n      <div className=\"search\">\n        <input type=\"text\" placeholder=\"search\" onChange={(e) => search(e)} />\n      </div>\n      <Navigation\n        props={{\n          prev,\n          next,\n          data: filteredItems,\n          quantityPerPage,\n          change,\n          to,\n          from,\n          increaseQuantityPerPage,\n          decreaseQuantityPerPage,\n        }}\n      />\n      <div className=\"content\">\n        {filteredItems.slice(from, to).map((item) => (\n          <Item\n            key={item._id}\n            key2={item._id}\n            item={item}\n            itemType={itemType}\n          />\n        ))}\n      </div>\n      <Navigation\n        props={{\n          prev,\n          next,\n          data: filteredItems,\n          quantityPerPage,\n          change,\n          to,\n          from,\n          increaseQuantityPerPage,\n          decreaseQuantityPerPage,\n        }}\n      />\n    </div>\n  );\n}\n","import \"./Home.css\";\nimport React, { useRef, useEffect } from \"react\";\nimport Items from \"./../Items/Items\";\nimport { connect } from \"react-redux\";\n\nconst Home = ({ loading, data }) => {\n  const mainImgRef = useRef();\n  const menuImgRef = useRef();\n  const introductionRef = useRef();\n\n  useEffect(() => {\n    const observer = new IntersectionObserver((entries) => {\n      for (const entry of entries) {\n        let target;\n        if (entry.target.className === \"mainImage\")\n          target = entry.target.querySelector(\"img\");\n        else target = entry.target;\n\n        if (entry.isIntersecting) {\n          target.style.transform = \"scale(1)\";\n        } else {\n          target.style = \"\";\n        }\n      }\n    });\n\n    if (mainImgRef.current && menuImgRef.current && introductionRef.current) {\n      observer.observe(mainImgRef.current);\n      observer.observe(menuImgRef.current);\n      observer.observe(introductionRef.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [loading]);\n\n  return (\n    <div className=\"Home\">\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        <div className=\"mainContainer\">\n          <div\n            className=\"head\"\n            style={{\n              backgroundImage: 'url(\"head.jpg\")',\n              backgroundSize: \"cover\",\n            }}\n          >\n            <img className=\"logo\" src=\"logo.png\" alt=\"\" />\n\n            <h1>Pizza Party tterem</h1>\n          </div>\n\n          <div className=\"firstPart\">\n            <div className=\"mainImage\" ref={mainImgRef}>\n              <img src=\"mainImage.jpg\" alt=\"\" />\n            </div>\n\n            <p\n              className=\"introduction\"\n              ref={introductionRef}\n              style={{ transform: \"scale(0)\" }}\n            >\n              A Party Pizzrit 1997-ben nyitottuk, tbb-kevsb csaldi\n              vllalkozs keretben. Elssorban a lakossg \"pizzaignyeit\"\n              szerettk volna kielgteni, de a krnykbeli falvakbl s a\n              kzelebbi vrosokbl is sikerlt mr trzsvendkeket szereznnk az\n              elmult msfl vtizedben. Gazdasgadta lehetsgekhez, s Kedves\n              Vendgeink pnztrcjhoz igazodva megprbltunk az rsznvonal\n              arany kzptjn maradni, termszetesen maximlis minsg mellett.\n              Minden ernkbl azon dolgozunk, hogy aki tlnk tvozik, j\n              rzssel- vlemnnyel, s nem utols sorben tele hassal tegye!\n            </p>\n          </div>\n\n          <div className=\"secondPart\">\n            <img\n              className=\"menuImage\"\n              ref={menuImgRef}\n              style={{ transform: \"scale(0)\" }}\n              src=\"menuImage.png\"\n              alt=\"\"\n            />\n\n            <div className=\"pizzasAndToppings\">\n              <div className=\"pizzasContainer\">\n                <h2>Pizzk</h2>\n                {data.pizza.length ? (\n                  <Items items={data.pizza} itemType=\"pizza\" />\n                ) : (\n                  <p className=\"warning\"> No pizzas </p>\n                )}\n              </div>\n\n              <div className=\"toppingsContainer\">\n                <h2>Felttek</h2>\n                {data.topping.length ? (\n                  <Items items={data.topping} itemType=\"topping\" />\n                ) : (\n                  <p className=\"warning\"> No toppings </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  data: state.data.data,\n  loading: state.data.loading,\n});\n\nexport default connect(mapStateToProps)(Home);\n","import \"./cart.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { modifyOrDeleteItem } from \"../../actions/cartActions\";\n\nconst Cart = ({ modifyOrDeleteItem, cart, data }) => {\n  const [pizzas, setPizzas] = useState([]);\n  const [toppings, setToppings] = useState([]);\n\n  let totalSum = 0;\n\n  const setItems = (pizzaOrTopping) => {\n    let array = [];\n    for (const key in cart[pizzaOrTopping]) {\n      const item = data[pizzaOrTopping]\n        .filter((p) => {\n          if (p._id.toString() === key.toString()) return true;\n          else return false;\n        })\n        .map((p) => ({ ...p, db: cart[pizzaOrTopping][key] }))[0];\n\n      array.push(item);\n    }\n    if (pizzaOrTopping === \"pizza\") setPizzas(array);\n    else setToppings(array);\n  };\n\n  const change = (e, id, category) => {\n    if (e.target.value.length > 3) e.target.value = e.target.value.slice(0, 3);\n\n    if (isNaN(e.target.value)) e.target.value = 1;\n\n    if (Number(e.target.value) < 1) e.target.value = 1;\n\n    e.target.value = Number(e.target.value);\n\n    modifyOrDeleteItem(true, id, category, e.target.value);\n  };\n\n  const renderTableBody = (pizzasOrToppings, category) => {\n    let sum = 0;\n    let itemsRows = pizzasOrToppings.map((item, i) => {\n      if (item) sum += item.price * item.db;\n\n      return (\n        item && (\n          <tr key={i}>\n            <td>{item.name}</td>\n            <td>{item.price}</td>\n            <td>\n              <input\n                value={item.db}\n                onChange={(e) => change(e, item._id, category)}\n              />\n            </td>\n            <td>{item.price * item.db}</td>\n            <td>\n              <svg\n                viewBox=\"0 0 448 512\"\n                onClick={() => modifyOrDeleteItem(false, item._id, category)}\n              >\n                <path\n                  fill=\"currentColor\"\n                  d=\"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z\"\n                ></path>\n              </svg>\n            </td>\n          </tr>\n        )\n      );\n    });\n    let sumRow = (\n      <tr>\n        <td colSpan=\"4\" style={{ textAlign: \"right\" }}>\n          {sum}\n        </td>\n        <td></td>\n      </tr>\n    );\n\n    totalSum += sum;\n\n    return (\n      <>\n        {itemsRows}\n        {sumRow}\n      </>\n    );\n  };\n\n  useEffect(() => {\n    setItems(\"pizza\");\n    setItems(\"topping\");\n  }, [cart, data]);\n\n  return (\n    <div className=\"cartRoute\">\n      <div className=\"title\">\n        <h1>Kosr</h1>\n      </div>\n      <div className=\"content\">\n        {pizzas.length && (\n          <div className=\"backdrop\">\n            <h2>Pizzk</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  totalSum = 0;\n\n                  return renderTableBody(pizzas, \"pizza\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        )}\n        {toppings.length && (\n          <div className=\"backdrop\">\n            <h2>Felttek</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  return renderTableBody(toppings, \"topping\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        )}\n        <div className=\"backdrop\">\n          <p>\n            sszesen fizetend: <span className=\"sum\">{totalSum}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart,\n  data: state.data.data,\n});\n\nexport default connect(mapStateToProps, { modifyOrDeleteItem })(Cart);\n","import React from \"react\";\nimport \"./LoadingMask.css\";\n\nexport default function LoadingMask() {\n  return (\n    <div className=\"LoadingMask\">\n      <img src=\"loading.gif\" alt=\"\" />\n    </div>\n  );\n}\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\nimport { logout } from \"./../../actions/authActions\";\n\nconst Register = ({ logout }) => {\n  let formValid = true;\n\n  const [error, setError] = useState(null);\n  const [registration_success, setRegistration_success] = useState(false);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n\n  const { name, email, password, password2 } = user;\n\n  const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\n\n  const submit = async () => {\n    if (formValid) {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n\n        const res = await httpClient.post(\n          \"/api/register\",\n          { name, email, password },\n          config\n        );\n\n        console.log(\"register action res.data: \", res.data);\n\n        setWaitingForServer(false);\n\n        setRegistration_success(true);\n      } catch (error) {\n        console.log(error.response.data);\n        setWaitingForServer(false);\n        setError(error.response.data);\n        logout();\n      }\n    }\n  };\n\n  return (\n    <div className=\"Register\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : !registration_success ? (\n        <div className=\"content\">\n          <h1>Regisztrci</h1>\n          <div className=\"alerts\">\n            {(function () {\n              let alerts = [];\n              formValid = true;\n\n              if (name === \"\" || email === \"\" || password === \"\") {\n                alerts.push(\n                  <p key={alerts.length + 1}>Tlts ki minden mezt!</p>\n                );\n                formValid = false;\n              }\n              if (password !== password2) {\n                alerts.push(\n                  <p key={alerts.length + 1}>Jelszavak nem egyeznek!</p>\n                );\n                formValid = false;\n              }\n\n              if (error) {\n                if (error.msg)\n                  alerts.push(<p key={alerts.length + 1}>{error.msg}</p>);\n\n                if (error.errors) {\n                  for (const err of error.errors) {\n                    alerts.push(<p key={alerts.length + 1}>{err.msg}</p>);\n                  }\n                }\n              }\n\n              return alerts;\n            })()}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"name\">Nv</label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"nv\"\n                value={name}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"email@mail.hu\"\n                value={email}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\">Jelsz</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password2\">Jelsz megersts</label>\n              <input\n                type=\"password\"\n                name=\"password2\"\n                value={password2}\n                onChange={onChange}\n              />\n            </div>\n            <button type=\"button\" disabled={!formValid} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"registrationSucess\">\n          <div className=\"content\">\n            <h1>Sikeres Regisztci!</h1>\n            <div className=\"alerts\">\n              <p>\n                Egy jvhagy email-t kldtnk a{\" \"}\n                <span className=\"email\">{email}</span> cmre\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout })(Register);\n","import \"./Login.css\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logout, setToken } from \"../../actions/authActions\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\n\nconst Login = ({ logout, setToken }) => {\n  const [error, setError] = useState(null);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = user;\n\n  const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\n\n  const submit = async () => {\n    if (!(!email || !password)) {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n\n        const res = await httpClient.post(\"/api/login\", user, config);\n        console.log(\"login res.data:\", res.data);\n        setWaitingForServer(false);\n        setToken(res.data.token);\n      } catch (error) {\n        console.log(\"login error:\", error.response.data);\n        setWaitingForServer(false);\n        setError(error.response.data);\n        logout();\n      }\n    }\n  };\n\n  return (\n    <div className=\"Login\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <div className=\"content\">\n          <h1>Belps</h1>\n          <div className=\"alerts\">\n            {(!email || !password) && <p>Tlts ki minden mezt!</p>}\n            {error && error.msg && <p>{error.msg}</p>}\n            {error &&\n              error.errors &&\n              error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"email@mail.hu\"\n                value={email}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\">Jelsz</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={onChange}\n              />\n            </div>\n            <button\n              type=\"button\"\n              disabled={!email || !password}\n              onClick={submit}\n            >\n              Klds\n            </button>\n            <Link to=\"/forgot_password\">Elfelejtett jelsz</Link>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout, setToken })(Login);\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport httpClient from \"axios\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/authActions\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nconst Order = ({ logout, cart, history }) => {\n  let formValid = true;\n\n  const [order, setOrder] = useState({\n    name: \"\",\n    email: \"\",\n    tel: \"\",\n    address: \"\",\n  });\n\n  const [error, setError] = useState(null);\n\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  const { name, email, tel, address } = order;\n\n  const onChange = (e) =>\n    setOrder({ ...order, [e.target.name]: e.target.value });\n\n  const submit = async () => {\n    if (!formValid) return;\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    try {\n      setError(null);\n      setWaitingForServer(true);\n\n      const res = await httpClient.post(\n        \"/api/order\",\n        { ...order, cart },\n        config\n      );\n\n      setWaitingForServer(false);\n\n      if (res.data && res.data.success === true) history.push(\"/orders\");\n      else logout();\n    } catch (err) {\n      console.log(\"order error: \", err.response.data);\n      setWaitingForServer(false);\n      setError(err.response.data);\n      if (\n        err.response.data.msg &&\n        err.response.data.msg.includes(\"Authentication error\")\n      )\n        logout();\n    }\n  };\n\n  return (\n    <div className=\"Order\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <div className=\"content\">\n          <h1>j megrendels</h1>\n          <div className=\"alerts\">\n            {(function () {\n              let alerts = [];\n              formValid = true;\n\n              if (name === \"\" || email === \"\" || tel === \"\" || address === \"\") {\n                alerts.push(\n                  <p key={alerts.length + 1}>Tlts ki minden mezt!</p>\n                );\n                formValid = false;\n              }\n\n              if (\n                !Object.keys(cart.pizza).length &&\n                !Object.keys(cart.topping).length\n              ) {\n                alerts.push(<p key={alerts.length + 1}>A kosr res!</p>);\n                formValid = false;\n              }\n\n              if (error) {\n                if (error.msg)\n                  alerts.push(<p key={alerts.length + 1}>{error.msg}</p>);\n\n                if (error.errors) {\n                  for (const err of error.errors) {\n                    alerts.push(<p key={alerts.length + 1}>{err.msg}</p>);\n                  }\n                }\n              }\n\n              return alerts;\n            })()}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"name\">Nv</label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"nv\"\n                value={name}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"email@mail.hu\"\n                value={email}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"tel\">Telefon</label>\n              <input\n                type=\"tel\"\n                name=\"tel\"\n                placeholder=\"06201234567\"\n                value={tel}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"address\">Cm</label>\n              <input\n                type=\"text\"\n                name=\"address\"\n                placeholder=\"1234 Vros, Utca nv 1\"\n                value={address}\n                onChange={onChange}\n              />\n            </div>\n            <button type=\"button\" disabled={!formValid} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart,\n});\n\nexport default connect(mapStateToProps, { logout })(Order);\n","import React from \"react\";\nimport \"./OrderCard.css\";\n\nconst OrderCard = ({ order }) => {\n  let totalSum = 0;\n\n  const renderTable = (category) => {\n    let sum = 0;\n    let rows = order.cart[category].map((item, idx) => {\n      sum += item.quantity * item.price;\n\n      return (\n        <tr key={idx}>\n          <td>{item.name}</td>\n          <td>{item.price}</td>\n          <td>{item.quantity}</td>\n          <td>{item.quantity * item.price}</td>\n        </tr>\n      );\n    });\n\n    rows.push(\n      <tr key={order.cart[category].length}>\n        <td colSpan=\"3\"></td>\n        <td>{sum}</td>\n      </tr>\n    );\n\n    totalSum += sum;\n\n    return rows;\n  };\n\n  return (\n    <div className=\"OrderCard\">\n      <div className=\"personalData\">\n        <table>\n          <tbody>\n            <tr>\n              <td>Nv: </td>\n              <td>{order.name}</td>\n            </tr>\n            <tr>\n              <td>Cm: </td>\n              <td>{order.address}</td>\n            </tr>\n            <tr>\n              <td>Email: </td>\n              <td>{order.email}</td>\n            </tr>\n            <tr>\n              <td>Tel: </td>\n              <td>{order.tel}</td>\n            </tr>\n            <tr>\n              <td>Dtum: </td>\n              <td>{new Date(order.date).toLocaleString()}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div className=\"cart\">\n        {order.cart.pizza && order.cart.pizza.length ? (\n          <div>\n            <h2>Pizzk</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  totalSum = 0;\n\n                  return renderTable(\"pizza\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <p>Nincsenek pizzk!</p>\n        )}\n        {order.cart.topping && order.cart.topping.length ? (\n          <div>\n            <h2>Felttek</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  return renderTable(\"topping\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <p>Nincsenek felttek!</p>\n        )}\n      </div>\n      <div className=\"totalSum\">sszesen: {totalSum} Ft.</div>\n    </div>\n  );\n};\n\nexport default OrderCard;\n","import \"./Orders.css\";\nimport React, { useEffect, useState } from \"react\";\nimport httpClient from \"axios\";\nimport OrderCard from \"./OrderCard/OrderCard\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/authActions\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nconst Orders = ({ logout }) => {\n  const [orders, setOrders] = useState([]);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  useEffect(() => {\n    const asyncFn = async () => {\n      try {\n        setWaitingForServer(true);\n        const res = await httpClient.get(\"/api/orders\");\n        setWaitingForServer(false);\n\n        console.log(\"orders: \", res.data);\n        setOrders(res.data);\n      } catch (err) {\n        setWaitingForServer(false);\n\n        console.log(err.response.data);\n        logout();\n      }\n    };\n\n    asyncFn();\n  }, []);\n\n  return (\n    <div className=\"Orders\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <>\n          <div className=\"title\">\n            <h1>Megrendelsek</h1>\n          </div>\n          <div className=\"content\">\n            {orders.length ? (\n              orders.map((ord, idx) => <OrderCard key={idx} order={ord} />)\n            ) : (\n              <p className=\"info\">Nincsenek megrendelsek</p>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout })(Orders);\n","import \"../Login/Login.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { setToken, logout } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Callback = ({ setToken, logout }) => {\n  const query = useQuery();\n  const history = useHistory();\n\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const asyncFn = async (_) => {\n      const code = query.get(\"code\");\n\n      try {\n        setWaitingForServer(true);\n\n        const config = {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        };\n        const res = await httpClient.post(\"/api/google\", { code }, config);\n\n        console.log(\"google callback /api/google res.data:\", res.data);\n\n        setWaitingForServer(false);\n\n        setToken(res.data.token);\n\n        history.push(\"/\");\n      } catch (error) {\n        console.log(\"google callback /api/google error:\", error.response.data);\n\n        setError(error.response.data);\n        setWaitingForServer(false);\n\n        logout();\n      }\n    };\n\n    asyncFn();\n  }, []);\n\n  return (\n    <div className=\"Callback\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <>\n          <div className=\"content\">\n            <h1>Google belps!</h1>\n            <div className=\"alerts\">\n              {error && error.msg && <p>{error.msg}</p>}\n              {error &&\n                error.errors &&\n                error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n              {!error && <p>A belps sikeres!</p>}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { setToken, logout })(Callback);\n","import \"../Login/Login.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { logout, setToken } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Confirm = ({ logout, setToken }) => {\n  const query = useQuery();\n  const history = useHistory();\n\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const asyncFn = async () => {\n      const email = query.get(\"email\");\n      const code = query.get(\"code\");\n\n      try {\n        setWaitingForServer(true);\n        const config = {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        };\n        const res = await httpClient.post(\n          \"/api/confirm\",\n          {\n            email,\n            code,\n          },\n          config\n        );\n\n        console.log(\"confirm res.data: \", res.data);\n\n        setWaitingForServer(false);\n\n        setToken(res.data.token);\n\n        history.push(\"/\");\n      } catch (error) {\n        console.log(\"confirm error.response.data: \", error.response.data);\n        setWaitingForServer(false);\n        setError(error.response.data);\n        logout();\n      }\n    };\n\n    asyncFn();\n  }, []);\n\n  return (\n    <div className=\"Confirm\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <>\n          <div className=\"content\">\n            <h1>Regisztrci megersts!</h1>\n            <div className=\"alerts\">\n              {error && error.msg && <p>{error.msg}</p>}\n              {error &&\n                error.errors &&\n                error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n              {!error && <p>A regisztrcid megerstsre kerlt!</p>}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout, setToken })(Confirm);\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport httpClient from \"axios\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default function PasswordReset() {\n  let query = useQuery();\n  let history = useHistory();\n\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(false);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  const passwordChanged = (e) => setPassword(e.target.value);\n\n  const submit = () => {\n    const sendPassword = async (_) => {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n        await httpClient.post(\n          \"/api/password\",\n          {\n            email: query.get(\"email\"),\n            code: query.get(\"code\"),\n            password,\n          },\n          config\n        );\n        setWaitingForServer(false);\n        setSuccess(true);\n\n        setTimeout(() => {\n          history.push(\"/login\");\n        }, 1000);\n      } catch (error) {\n        setWaitingForServer(false);\n        setError(error.response.data);\n      }\n    };\n\n    if (password) sendPassword();\n  };\n\n  return (\n    <div className=\"PasswordReset\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : !success ? (\n        <div className=\"content\">\n          <h1>Add meg az j jelszavad!</h1>\n          <div className=\"alerts\">\n            {!password && <p>Tlts ki minden mezt!</p>}\n            {error && error.msg && <p>{error.msg}</p>}\n            {error &&\n              error.errors &&\n              error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"password\">jelsz</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={passwordChanged}\n              />\n            </div>\n\n            <button type=\"button\" disabled={!password} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"content\">\n          <div className=\"alerts\">\n            <p>Az j jelsz belltsra kerlt</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport httpClient from \"axios\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nexport default function ForgotPassword() {\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(false);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  const emailChanged = (e) => setEmail(e.target.value);\n\n  const submit = () => {\n    const sendEmail = async (_) => {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n\n        await httpClient.post(\"/api/reset\", { email }, config);\n\n        setSuccess(true);\n      } catch (error) {\n        setError(error.response.data);\n      } finally {\n        setWaitingForServer(false);\n      }\n    };\n\n    if (email) sendEmail();\n  };\n\n  return (\n    <div className=\"ForgotPassword\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : !success ? (\n        <div className=\"content\">\n          <h1>Add meg melyik email cmhez szeretnl j jelszt!</h1>\n          <div className=\"alerts\">\n            {!email && <p>Tlts ki minden mezt!</p>}\n            {error && error.msg && <p>{error.msg}</p>}\n            {error &&\n              error.errors &&\n              error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={emailChanged}\n              />\n            </div>\n\n            <button type=\"button\" disabled={!email} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"content\">\n          <div className=\"alerts\">\n            <p>\n              Egy jelsz helyrellt email-t kldtnk a{\" \"}\n              <span className=\"email\">{email}</span> cmre\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\r\n\r\nconst bookingContext = React.createContext({});\r\n\r\nexport default bookingContext;\r\n","import \"./DateBooking.css\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport BookingContext from \"../BookingContext/BookingContext\";\r\n\r\nconst DateBooking = ({ user }) => {\r\n  const {\r\n    dateStrings,\r\n    bookings,\r\n    addProps,\r\n    intervalCorrectionBasedOnTimeZone,\r\n    sendToServer,\r\n    setSelectedTableNumber,\r\n  } = useContext(BookingContext);\r\n\r\n  const quarterHourOptions = [];\r\n  for (let minute = 0; minute < 60; minute += 15) {\r\n    quarterHourOptions.push(\r\n      <option key={minute} value={minute}>\r\n        {minute}\r\n      </option>\r\n    );\r\n  }\r\n\r\n  const hourOptions = [];\r\n  for (let hour = 0; hour < 24; hour++) {\r\n    hourOptions.push(\r\n      <option key={hour} value={hour}>\r\n        {hour}\r\n      </option>\r\n    );\r\n  }\r\n\r\n  const dateOptions = dateStrings.map((d, i) => (\r\n    <option key={i} value={i}>\r\n      {d}\r\n    </option>\r\n  ));\r\n\r\n  const [startDateIndex, setStartDateIndex] = useState(0);\r\n  const [endDateIndex, setEndDateIndex] = useState(0);\r\n  const [hourStart, setHourStart] = useState(0);\r\n  const [minuteStart, setMinuteStart] = useState(0);\r\n  const [hourEnd, setHourEnd] = useState(0);\r\n  const [minuteEnd, setMinuteEnd] = useState(0);\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const bookFreeTable = (dataToSend, freeTable) => {\r\n    const userBookings = {};\r\n\r\n    for (const date in dataToSend) {\r\n      for (const interval of dataToSend[date]) {\r\n        //does the interval and date corrections based on time zone\r\n        const [correctedDate, correctedIntervalNumber] =\r\n          intervalCorrectionBasedOnTimeZone(parseInt(interval), date, true);\r\n\r\n        //adds free table as tableNumber and the corrected date and interval to the data to send\r\n        if (userBookings?.[freeTable]?.[correctedDate])\r\n          userBookings[freeTable][correctedDate].push(correctedIntervalNumber);\r\n        else\r\n          addProps(\r\n            userBookings,\r\n            [freeTable, correctedDate],\r\n            [correctedIntervalNumber]\r\n          );\r\n      }\r\n    }\r\n\r\n    sendToServer(userBookings);\r\n    setSelectedTableNumber(freeTable);\r\n  };\r\n\r\n  // Checks if there is a table where all the intervals\r\n  // given in the dataToCheck object are free\r\n  // gives back the number of the free table\r\n  // or false if there is no free table\r\n  const checkFreeTable = (dataToCheck) => {\r\n    if (!Object.keys(dataToCheck).length) return false;\r\n\r\n    for (let tableNumber = 1; tableNumber < 11; tableNumber++) {\r\n      let free = true;\r\n      for (const date in dataToCheck) {\r\n        if (!free) break;\r\n        for (const interval of dataToCheck[date]) {\r\n          if (!free) break;\r\n          if (\r\n            bookings?.[tableNumber]?.[date]?.[interval] &&\r\n            bookings?.[tableNumber]?.[date]?.[interval] !== \"x\" &&\r\n            bookings?.[tableNumber]?.[date]?.[interval] !== user.email\r\n          )\r\n            free = false;\r\n        }\r\n      }\r\n\r\n      if (free) return tableNumber;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  //Converts the dates/hours/minutes to an object\r\n  //which is in the form: {date1: [1,2,..], date2: [1,2..], ...}\r\n  //where the arrays contain the interval numbers of the corresponding date\r\n  const convertSelectedValuesToObject = () => {\r\n    const dataToCheck = {};\r\n\r\n    if (startDateIndex === endDateIndex) {\r\n      const intervals = [];\r\n      for (\r\n        let index = hourStart * 4 + Math.floor(minuteStart / 15);\r\n        index < hourEnd * 4 + Math.floor(minuteEnd / 15);\r\n        index++\r\n      ) {\r\n        intervals.push(index);\r\n      }\r\n      if (intervals.length)\r\n        addProps(dataToCheck, [dateStrings[startDateIndex]], intervals);\r\n    } else if (endDateIndex > startDateIndex) {\r\n      if (endDateIndex - startDateIndex > 1) {\r\n        const intervalsOfFullDay = [];\r\n        for (let interval = 0; interval < 96; interval++) {\r\n          intervalsOfFullDay.push(interval);\r\n        }\r\n\r\n        for (let index = startDateIndex + 1; index < endDateIndex; index++) {\r\n          addProps(dataToCheck, [dateStrings[index]], intervalsOfFullDay);\r\n        }\r\n      }\r\n\r\n      const startDateIntervals = [];\r\n      for (\r\n        let interval = hourStart * 4 + Math.floor(minuteStart / 15);\r\n        interval < 96;\r\n        interval++\r\n      ) {\r\n        startDateIntervals.push(interval);\r\n      }\r\n      if (startDateIntervals.length)\r\n        addProps(\r\n          dataToCheck,\r\n          [dateStrings[startDateIndex]],\r\n          startDateIntervals\r\n        );\r\n\r\n      const endDateIntervals = [];\r\n      for (\r\n        let interval = 0;\r\n        interval < hourEnd * 4 + Math.floor(minuteEnd / 15);\r\n        interval++\r\n      ) {\r\n        endDateIntervals.push(interval);\r\n      }\r\n      if (endDateIntervals.length)\r\n        addProps(dataToCheck, [dateStrings[endDateIndex]], endDateIntervals);\r\n    }\r\n\r\n    const freeTable = checkFreeTable(dataToCheck);\r\n    if (freeTable) {\r\n      bookFreeTable(dataToCheck, freeTable);\r\n      setMessage(`Van szabad asztal. Az asztal szma: ${freeTable}`);\r\n    } else {\r\n      setMessage(\"Nincs szabad asztal erre az idpontra!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"DateBooking\">\r\n      <h1>Idpont foglals</h1>\r\n\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td colSpan=\"3\">\r\n              <div className=\"start\">Kezds</div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              Nap:\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setStartDateIndex(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {dateOptions}\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">ra:</span>\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setHourStart(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {hourOptions}\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">Perc:</span>\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setMinuteStart(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {quarterHourOptions}\r\n              </select>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td colSpan=\"3\">\r\n              <div className=\"end\">Vge</div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              Nap:\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setEndDateIndex(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {dateOptions}\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">ra:</span>\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setHourEnd(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {hourOptions}\r\n                <option value={24}>{24}</option>\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">Perc:</span>\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setMinuteEnd(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {parseInt(hourEnd) === 24 ? (\r\n                  <option value={0}>0</option>\r\n                ) : (\r\n                  quarterHourOptions\r\n                )}\r\n              </select>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <button onClick={convertSelectedValuesToObject}>Foglals</button>\r\n\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(DateBooking);\r\n","import React, { useContext } from \"react\";\r\nimport BookingContext from \"../BookingContext/BookingContext\";\r\n\r\nexport default function Dashboard() {\r\n  const { selectedTableNumber, setSelectedTableNumber } =\r\n    useContext(BookingContext);\r\n\r\n  return (\r\n    <div className=\"dashBoard\">\r\n      <button\r\n        onClick={(e) =>\r\n          setSelectedTableNumber((prev) =>\r\n            (parseInt(prev) - 1 >= 0 ? parseInt(prev) - 1 : 10).toString()\r\n          )\r\n        }\r\n      >\r\n        -\r\n      </button>\r\n      <select\r\n        onChange={(e) => setSelectedTableNumber(e.target.value)}\r\n        value={selectedTableNumber}\r\n      >\r\n        <option value=\"0\">Idpont foglals</option>\r\n        <option value=\"1\">1. asztal</option>\r\n        <option value=\"2\">2. asztal</option>\r\n        <option value=\"3\">3. asztal</option>\r\n        <option value=\"4\">4. asztal</option>\r\n        <option value=\"5\">5. asztal</option>\r\n        <option value=\"6\">6. asztal</option>\r\n        <option value=\"7\">7. asztal</option>\r\n        <option value=\"8\">8. asztal</option>\r\n        <option value=\"9\">9. asztal</option>\r\n        <option value=\"10\">10. asztal</option>\r\n      </select>\r\n      <button\r\n        onClick={(e) =>\r\n          setSelectedTableNumber((prev) =>\r\n            (parseInt(prev) + 1 < 11 ? parseInt(prev) + 1 : 0).toString()\r\n          )\r\n        }\r\n      >\r\n        +\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Row = ({\r\n  index,\r\n  twoHours,\r\n  bookingMatrix,\r\n  changeBookingState,\r\n  date,\r\n  user,\r\n}) => {\r\n  const hour = twoHours * 2 + Math.floor((index * 15) / 60);\r\n  const minute = index * 15 - Math.floor((index * 15) / 60) * 60;\r\n\r\n  const bookingState = bookingMatrix?.[date]?.[index + twoHours * 8] || false;\r\n\r\n  const check = () => {\r\n    if (bookingState && bookingState !== \"x\") return;\r\n\r\n    if (bookingState === \"x\")\r\n      changeBookingState(false, date, index + twoHours * 8);\r\n    else changeBookingState(\"x\", date, index + twoHours * 8);\r\n  };\r\n\r\n  return (\r\n    <tr onClick={check}>\r\n      <td\r\n        style={{\r\n          backgroundColor:\r\n            bookingState === \"x\"\r\n              ? \"gray\"\r\n              : bookingState === user.email\r\n              ? \"orange\"\r\n              : bookingState\r\n              ? \"#e96767\"\r\n              : \"#7aeb34\",\r\n        }}\r\n      >\r\n        <span className=\"hoursInContent\">\r\n          {hour < 10 ? `0${hour}` : hour} : {minute ? minute : \"00\"}\r\n        </span>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Row);\r\n","import React from \"react\";\nimport Row from \"./Row/Row\";\n\nexport default function Content(props) {\n  return (\n    <table className=\"ContentTable\">\n      <tbody>\n        {(function () {\n          let trArr = [];\n          for (let index = 0; index < 8; index++) {\n            trArr.push(<Row key={index} index={index} {...props} />);\n          }\n          return trArr;\n        })()}\n      </tbody>\n    </table>\n  );\n}\n","import React, { useState } from \"react\";\nimport Content from \"./Content/Content\";\n\nexport default function Td(props) {\n  const [showOverlay, setShowOverlay] = useState(false);\n\n  return (\n    <div className=\"Td\">\n      <div className=\"cover\" onClick={(e) => setShowOverlay(true)}></div>\n      {showOverlay && (\n        <div className=\"overlay\">\n          <h1>{props.date}</h1>\n          {props.unsavedChanges && (\n            <button className=\"booking\" onClick={props.sendBooking}>\n              Lefoglalom\n            </button>\n          )}\n          <span className=\"close\" onClick={(e) => setShowOverlay(false)}>\n            X\n          </span>\n          <Content {...props} />\n        </div>\n      )}\n      <Content {...props} />\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\r\nimport TD from \"../TD/Td\";\r\nimport BookingContext from \"../BookingContext/BookingContext\";\r\n\r\nexport default function BookingTable() {\r\n  const {\r\n    firstDayIndex,\r\n    dateStrings,\r\n    days,\r\n    bookings,\r\n    selectedTableNumber,\r\n    changeBookingState,\r\n    send,\r\n    unsavedChanges,\r\n  } = useContext(BookingContext);\r\n\r\n  return (\r\n    <table className=\"BookingTable\">\r\n      <thead>\r\n        <tr>\r\n          <th className=\"hours\"></th>\r\n          {(function () {\r\n            const thArray = [];\r\n            for (\r\n              let index = firstDayIndex, counter = 0;\r\n              counter < 7;\r\n              index++, counter++\r\n            ) {\r\n              thArray.push(\r\n                <th key={counter}>\r\n                  {dateStrings[counter]}\r\n                  <br />({days[index]})\r\n                </th>\r\n              );\r\n\r\n              if (index === 6) index = -1;\r\n            }\r\n\r\n            return thArray;\r\n          })()}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {(function () {\r\n          let trArr = [];\r\n          for (let twoHours = 0; twoHours < 12; twoHours++) {\r\n            let tdArr = [];\r\n            for (let day = 0; day < 7; day++) {\r\n              tdArr.push(\r\n                <td key={day}>\r\n                  <TD\r\n                    date={dateStrings[day]}\r\n                    twoHours={twoHours}\r\n                    bookingMatrix={bookings?.[selectedTableNumber]}\r\n                    changeBookingState={changeBookingState}\r\n                    sendBooking={send}\r\n                    unsavedChanges={unsavedChanges}\r\n                  />\r\n                </td>\r\n              );\r\n            }\r\n\r\n            let hour = twoHours * 2;\r\n            tdArr.unshift(\r\n              <td key=\"7\" className=\"hours\">\r\n                <span>{hour < 10 ? `0${hour}` : hour} : 00</span>\r\n              </td>\r\n            );\r\n\r\n            trArr.push(<tr key={twoHours}>{tdArr}</tr>);\r\n          }\r\n\r\n          return trArr;\r\n        })()}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","import \"./Booking.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport httpClient from \"axios\";\r\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions/authActions\";\r\nimport DateBooking from \"./DateBooking/DateBooking\";\r\nimport Dashboard from \"./Dashboard/Dashboard\";\r\nimport BookingTable from \"./BookingTable/BookingTable\";\r\nimport BookingContext from \"./BookingContext/BookingContext\";\r\n\r\nconst Booking = ({ logout }) => {\r\n  const days = [\r\n    \"Vasrnap\",\r\n    \"Htf\",\r\n    \"Kedd\",\r\n    \"Szerda\",\r\n    \"Cstrtk\",\r\n    \"Pntek\",\r\n    \"Szombat\",\r\n  ];\r\n\r\n  const [dateStrings, setDateStrings] = useState([]);\r\n  const [firstDayIndex, setFirstDayIndex] = useState(0);\r\n  const [selectedTableNumber, setSelectedTableNumber] = useState(0);\r\n  const [bookings, setBookings] = useState({});\r\n  const [unsavedChanges, setUnsavedChanges] = useState(false);\r\n  const [waitingForServer, setWaitingForServer] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const createDateStrings = () => {\r\n    const dateStringArray = [];\r\n\r\n    for (let day = 1; day <= 7; day++) {\r\n      //offset in milliseconds\r\n      const tzoffset = new Date().getTimezoneOffset() * 60000;\r\n      const futureTimeStamp = Date.now() + day * 24 * 60 * 60 * 1000;\r\n\r\n      const aDayInTheFuture = new Date(futureTimeStamp - tzoffset)\r\n        .toISOString()\r\n        .slice(0, 10);\r\n\r\n      dateStringArray.push(aDayInTheFuture);\r\n\r\n      if (day === 1) setFirstDayIndex(new Date(futureTimeStamp).getDay());\r\n    }\r\n\r\n    setDateStrings(dateStringArray);\r\n  };\r\n\r\n  //automatically add properties to an object which were undefined\r\n  //and gives it a value\r\n  const addProps = (obj, arr, val) => {\r\n    if (typeof arr == \"string\") arr = arr.split(\".\");\r\n\r\n    obj[arr[0]] = obj[arr[0]] || {};\r\n\r\n    const tmpObj = obj[arr[0]];\r\n\r\n    if (arr.length > 1) {\r\n      arr.shift();\r\n      addProps(tmpObj, arr, val);\r\n    } else obj[arr[0]] = val;\r\n\r\n    return obj;\r\n  };\r\n\r\n  //Updates the booking state based on the given values\r\n  //and checking for pending changes\r\n  //Booking state is in the form: {tableNumber: {date : {interval: (<user email> || <true> || \"x\")}}}\r\n  //where \"x\" denotes a new booking of the authenticated user\r\n  //<user email> denotes a previous booking of the authenticated user\r\n  //<true> denotes a booking of an other user\r\n  const changeBookingState = (value, day, quarterHour) => {\r\n    const copyOfBookings = { ...bookings };\r\n    if (!value) delete copyOfBookings[selectedTableNumber][day][quarterHour];\r\n    else\r\n      addProps(copyOfBookings, [selectedTableNumber, day, quarterHour], value);\r\n\r\n    let changes = false;\r\n    for (const tableNumber in copyOfBookings) {\r\n      if (!Object.keys(copyOfBookings[tableNumber]).length) {\r\n        delete copyOfBookings[tableNumber];\r\n        continue;\r\n      }\r\n      for (const date in copyOfBookings[tableNumber]) {\r\n        if (!Object.keys(copyOfBookings[tableNumber][date]).length) {\r\n          delete copyOfBookings[tableNumber][date];\r\n          continue;\r\n        }\r\n        for (const interval in copyOfBookings[tableNumber][date]) {\r\n          if (copyOfBookings[tableNumber][date][interval] === \"x\")\r\n            changes = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    setUnsavedChanges(changes);\r\n    setBookings(copyOfBookings);\r\n  };\r\n\r\n  //Modifies the interval number and date based on timezone\r\n  //(interval and date shifting routine)\r\n  const intervalCorrectionBasedOnTimeZone = (\r\n    intervalNumber,\r\n    intervalDate,\r\n    outgoingData\r\n  ) => {\r\n    //Timezone offset in quarter hours\r\n    const tzoffset = Math.round(new Date().getTimezoneOffset() / 15);\r\n\r\n    let correctedIntervalNumber = intervalNumber;\r\n\r\n    if (outgoingData) correctedIntervalNumber = intervalNumber + tzoffset;\r\n    else correctedIntervalNumber = intervalNumber - tzoffset;\r\n\r\n    let correctedDate = intervalDate;\r\n\r\n    if (correctedIntervalNumber < 0) {\r\n      correctedDate = new Date(\r\n        new Date(intervalDate).getTime() - 1 * 24 * 60 * 60 * 1000\r\n      )\r\n        .toISOString()\r\n        .slice(0, 10);\r\n      correctedIntervalNumber = 96 + correctedIntervalNumber;\r\n    } else if (correctedIntervalNumber > 95) {\r\n      correctedDate = new Date(\r\n        new Date(intervalDate).getTime() + 1 * 24 * 60 * 60 * 1000\r\n      )\r\n        .toISOString()\r\n        .slice(0, 10);\r\n      correctedIntervalNumber = correctedIntervalNumber - 96;\r\n    }\r\n\r\n    return [correctedDate, correctedIntervalNumber];\r\n  };\r\n\r\n  //Loops through the given data and calls the interval and date shifting routine\r\n  const incomingBookingsDataParser = (data) => {\r\n    const convertedData = {};\r\n    for (const tableNumber in data) {\r\n      for (const date in data[tableNumber]) {\r\n        for (const interval in data[tableNumber][date]) {\r\n          const [correctedDate, correctedIntervalNumber] =\r\n            intervalCorrectionBasedOnTimeZone(parseInt(interval), date, false);\r\n\r\n          addProps(\r\n            convertedData,\r\n            [tableNumber, correctedDate, correctedIntervalNumber],\r\n            data[tableNumber][date][interval]\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    return convertedData;\r\n  };\r\n\r\n  const sendToServer = async (userBookings) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      setWaitingForServer(true);\r\n\r\n      const res = await httpClient.post(\r\n        \"/api/bookings\",\r\n        {\r\n          data: userBookings,\r\n        },\r\n        config\r\n      );\r\n      setBookings(incomingBookingsDataParser(res?.data?.data || {}));\r\n      setMessage(\"Sikeres foglals!\");\r\n      setUnsavedChanges(false);\r\n      setWaitingForServer(false);\r\n    } catch (error) {\r\n      setWaitingForServer(false);\r\n\r\n      if (error?.response?.data?.errors) setErrors(error.response.data.errors);\r\n\r\n      if (error?.response?.data?.msg) setError(error.response.data.msg);\r\n\r\n      if (error?.response?.data?.data)\r\n        setBookings(incomingBookingsDataParser(error.response.data.data));\r\n\r\n      if (error?.response?.data?.msg?.includes(\"Authentication error\"))\r\n        logout();\r\n    }\r\n  };\r\n\r\n  const send = () => {\r\n    const asyncFn = async () => {\r\n      //creates a userBookings object to send to the server\r\n      //this object contains the new bookings which are marked with \"x\" in the bookings state\r\n      //userBookings is in the form: {tableNumber: {date : [interval numbers ...]}}\r\n      const userBookings = {};\r\n      for (const tableNumber in bookings) {\r\n        for (const date in bookings[tableNumber]) {\r\n          for (const interval in bookings[tableNumber][date]) {\r\n            if (bookings[tableNumber][date][interval] === \"x\") {\r\n              const [correctedDate, correctedIntervalNumber] =\r\n                intervalCorrectionBasedOnTimeZone(\r\n                  parseInt(interval),\r\n                  date,\r\n                  true\r\n                );\r\n\r\n              if (userBookings?.[tableNumber]?.[correctedDate])\r\n                userBookings[tableNumber][correctedDate].push(\r\n                  correctedIntervalNumber\r\n                );\r\n              else\r\n                addProps(\r\n                  userBookings,\r\n                  [tableNumber, correctedDate],\r\n                  [correctedIntervalNumber]\r\n                );\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      await sendToServer(userBookings);\r\n    };\r\n\r\n    asyncFn();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const asyncFn = async () => {\r\n      createDateStrings();\r\n\r\n      try {\r\n        setWaitingForServer(true);\r\n\r\n        const res = await httpClient.get(\"/api/bookings\");\r\n\r\n        setWaitingForServer(false);\r\n        setBookings(incomingBookingsDataParser(res?.data?.data || {}));\r\n      } catch (error) {\r\n        console.log(error.response.data);\r\n        setWaitingForServer(false);\r\n        logout();\r\n      }\r\n    };\r\n\r\n    asyncFn();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"BookingContainer\">\r\n      {message && (\r\n        <div className=\"Message\" onClick={(e) => setMessage(\"\")}>\r\n          {message}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"Error\" onClick={(e) => setError(\"\")}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      {errors.length && (\r\n        <div className=\"Error\" onClick={(e) => setErrors([])}>\r\n          {errors.map((e, i) => (\r\n            <p key={i}>{e.msg}</p>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <div className=\"Booking\">\r\n        {waitingForServer && <LoadingMask />}\r\n        {unsavedChanges && parseInt(selectedTableNumber) && (\r\n          <button className=\"booking\" onClick={send}>\r\n            Foglals kldse\r\n          </button>\r\n        )}\r\n        <BookingContext.Provider\r\n          value={{\r\n            selectedTableNumber,\r\n            setSelectedTableNumber,\r\n            firstDayIndex,\r\n            dateStrings,\r\n            days,\r\n            bookings,\r\n            changeBookingState,\r\n            send,\r\n            unsavedChanges,\r\n            addProps,\r\n            intervalCorrectionBasedOnTimeZone,\r\n            sendToServer,\r\n          }}\r\n        >\r\n          <Dashboard />\r\n          {parseInt(selectedTableNumber) ? <BookingTable /> : <DateBooking />}\r\n        </BookingContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { logout })(Booking);\r\n","import React from \"react\";\nimport \"./BookingCard.css\";\n\nexport default function BookingCard({ tableNumber, start, end }) {\n  const days = [\n    \"Vasrnap\",\n    \"Htf\",\n    \"Kedd\",\n    \"Szerda\",\n    \"Cstrtk\",\n    \"Pntek\",\n    \"Szombat\",\n  ];\n\n  return (\n    <div className=\"BookingCardContainer\">\n      <div className=\"BookingCard\">\n        <p>Foglals a {tableNumber} szm asztalnl</p>\n        <p>\n          {new Date(start).toLocaleDateString()}{\" \"}\n          {days[new Date(start).getDay()]}\n          <br />\n          {new Date(start).toLocaleTimeString()} -tl\n        </p>\n        <p>\n          {new Date(end).toLocaleDateString()}\n          <br />\n          {days[new Date(end).getDay()]}\n          <br />\n          {new Date(end).toLocaleTimeString()} -ig\n        </p>\n      </div>\n      <div className=\"shadow\"></div>\n    </div>\n  );\n}\n","import \"./Bookings.css\";\nimport React, { useState, useEffect } from \"react\";\nimport httpClient from \"axios\";\nimport BookingCard from \"./BookingCard/BookingCard\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/authActions\";\n\nconst Bookings = ({ logout }) => {\n  const [userBookings, setUserBookings] = useState([]);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [direction, setDirection] = useState(true);\n  const [dateTable, setDateTable] = useState(true);\n\n  const compare = (incDec = true, dateOrTable = true, recCall = false) => (b1, b2) => {\n    const start1 = dateOrTable ? new Date(b1.start) : Number(b1.tableNumber)\n    const start2 = dateOrTable ? new Date(b2.start) : Number(b2.tableNumber)\n    \n    if (start1 < start2)\n      return incDec ? -1 : 1;\n\n    if (start2 < start1)\n      return incDec ? 1 : -1;\n    \n    if (start1 === start2) {\n      if (!recCall)\n        return compare(incDec, !dateOrTable, true)(b1, b2);\n      else\n        return 0;\n    }\n\n  }\n\n  const changeDirection = e => {\n    setDirection(!e.target.checked)\n  }\n\n  const changeDateOrTable = e => {\n    setDateTable(e.target.value)\n  }\n\n  useEffect(() => {\n    const asyncFn = async () => {\n      try {\n        setWaitingForServer(true);\n        const resp = await httpClient.get(\"/api/user_bookings\");\n        setWaitingForServer(false);\n\n        setUserBookings(resp.data.userBookingsArray);\n        console.log(\"user bookings: \", resp.data);\n      } catch (error) {\n        setWaitingForServer(false);\n        console.log(\"user bookings error: \", error);\n        logout();\n      }\n    };\n\n    asyncFn();\n  }, []);\n\n  return (\n    <div className=\"UserBookings\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <>\n          <div className=\"title\">\n            <h1>Asztalfoglalsok</h1>\n          </div>\n          <div className=\"dashboard\">\n            <select name=\"dateOrTable\" id=\"dateOrTable\" onChange={changeDateOrTable}>\n              <option value=\"1\">dtum</option>\n              <option value=\"\">asztal</option>\n            </select>\n            <div className=\"checkboxContainer\">\n              <input type=\"checkbox\" name=\"incDec\" id=\"incDec\" onChange={changeDirection} />\n              <label htmlFor=\"incDec\">\n                <svg viewBox=\"0 0 512 512\">\n                  <path d=\"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z\">\n                  </path>\n                </svg>\n                <svg viewBox=\"0 0 512 512\">\n                  <path d=\"M240 96h64a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm0 128h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm256 192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-256-64h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.39-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160z\">\n                  </path>\n                </svg>\n              </label>\n            </div>\n          </div>\n          <div className=\"content\">\n            {userBookings.length ? (\n              userBookings.sort(compare(direction, dateTable)).map((u, i) => (\n                <BookingCard\n                  key={i}\n                  tableNumber={u.tableNumber}\n                  start={u.start}\n                  end={u.end}\n                />\n              ))\n            ) : (\n              <p className=\"info\">Nincsenek asztalfoglalsok!</p>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout })(Bookings);\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\n\nconst PrivateRoute = ({\n  isAuthenticated,\n  loading,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        loading ? (\n          <LoadingMask />\n        ) : isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/login\" />\n        )\n      }\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  loading: state.auth.loading,\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\n\nconst UnAuthRoute = ({\n  isAuthenticated,\n  loading,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        loading ? (\n          <LoadingMask />\n        ) : !isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/\" />\n        )\n      }\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  loading: state.auth.loading,\n});\n\nexport default connect(mapStateToProps)(UnAuthRoute);\n","import React, {useRef, useState, useEffect} from 'react';\nimport './FileInput.css';\n\nfunction validateImage(image) {\n    console.log(image);\n    // check the type\n    let validTypes = [\"image/jpeg\", \"image/png\", \"image/gif\"];\n    if (validTypes.indexOf(image.type) === -1) {\n      return false;\n    }\n\n    // check the size\n    let maxSizeInBytes = 10e6; // 10MB\n    if (image.size > maxSizeInBytes) {\n      return false;\n    }\n\n    return true;\n}\n\nexport default function FileInput({change}) {\n\n    const inpRef = useRef();\n    const [error, setError] = useState(\"\");\n    const [info, setInfo] = useState(\"\");\n\n    const localChange = e => {\n        setError(\"\")\n        setInfo(\"\")\n        \n        if (!e.target?.files[0])\n            return;\n\n        if (!validateImage(e.target.files[0]))\n            setError(\"A kp mrete vagy tpusa nem megfelel!\")\n        else {\n            setInfo(e.target.files[0].name)\n            change(e)\n        }\n    }\n\n    const click = () => {\n        inpRef.current.click()\n    }\n\n    return (\n        <div className=\"FileInput\">\n            <button type=\"button\" onClick={click}>\n                <input name=\"photo\" type=\"file\" ref={inpRef} onChange={localChange}/>\n                j fnykp\n            </button>\n            {\n                error &&\n                <p className=\"error\">{error}</p>\n            }\n            {\n                info &&\n                <p className=\"info\">{info}</p>\n            }\n        </div>\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport './Profile.css';\nimport { connect } from \"react-redux\";\nimport FileInput from './FileInput/FileInput';\nimport httpClient from 'axios';\nimport { setUser } from \"../../actions/authActions\";\nimport { logout } from \"../../actions/authActions\";\nimport LoadingMask from '../LoadingMask/LoadingMask.component';\n\nconst Profile = ({user, setUser, logout}) => {\n    const form = useRef();\n    const [formData, setFormData] = useState({});\n    const [formValid, setFormValid] = useState(true);\n    const [waitingForServer, setWaitingForServer] = useState(false);\n    const [photo, setPhoto] = useState(null);\n    const [error, setError] = useState(\"\");\n    const [errors, setErrors] = useState([]);\n\n    const change = (e) => {\n        setError(\"\")\n        setErrors([])\n        setFormValid(form.current.checkValidity());\n        if (e.target.name === \"photo\")\n            setPhoto(e.target.files[0]);\n        else\n            setFormData({...formData, [e.target.name]: e.target.value})\n    }\n\n    const send = async e => {\n        setError(\"\")\n        setErrors([])\n\n        let form = new FormData();\n\n        form.append('userfile', photo);\n        form.append('data', JSON.stringify({ ...formData }));\n\n        setWaitingForServer(true)\n\n        try {\n            const response = await httpClient.post(\n                '/api/update_profile', \n                form\n            );\n    \n            setUser(response.data);\n            \n        } catch (error) {\n            console.log(error.response.data)\n\n            if (error.response.data?.msg) {\n                if (error.response.data.msg.includes(\"Authentication error\"))\n                    logout();\n                else\n                    setError(error.response.data.msg)\n            } else if (error.response.data?.errors) {\n                setErrors(error.response.data.errors)\n            }\n        }\n\n        setWaitingForServer(false)\n\n        setFormData({})\n        setPhoto(null)\n    }\n\n    return (\n        <div className=\"Profile\">\n            {\n                waitingForServer && <LoadingMask/>\n            }\n            <div className=\"content\">\n                <h1>Fik</h1>\n                <form action=\"\" ref={form}>\n                    <div className=\"image\">\n                        <img src={user.photo} alt=\"\" />\n                    </div>\n                    <div className=\"inputs\">\n                        <input type=\"text\" name=\"name\" \n                                placeholder=\"nv\"\n                                required value={user.name} \n                                onChange={e => {setUser({...user, name: e.target.value }); change(e)}}/>\n                        <FileInput change={change}/>\n                        <button type=\"button\" disabled={!formValid || (!photo && !Object.keys(formData).length)} onClick={send}>\n                            Adatok frisstse\n                        </button>\n                        {\n                            error &&\n                            <p className=\"error\">{error}</p>\n                        }\n                        {\n                            errors &&\n                            errors.map(err => <p className=\"error\">{err.msg}</p>)\n                        }\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.auth.user,\n});\n\nexport default connect(mapStateToProps, { setUser, logout })(Profile);\n","import \"./App.css\";\nimport React, { useEffect } from \"react\";\n\nimport { Redirect, Route, Switch } from \"react-router-dom\";\n\nimport NavBar from \"./components/NavBar/NavBar\";\nimport Home from \"./components/Home/Home\";\nimport Cart from \"./components/Cart/Cart\";\nimport Register from \"./components/Register/Register\";\nimport Login from \"./components/Login/Login\";\nimport Order from \"./components/Order/Order\";\nimport Orders from \"./components/Orders/Orders\";\nimport Callback from \"./components/Callback/Callback\";\nimport Confirm from \"./components/Confirm/Confirm\";\nimport PasswordReset from \"./components/PasswordReset/PasswordReset\";\nimport ForgotPassword from \"./components/ForgotPassword/ForgotPassword\";\nimport LoadingMask from \"./components/LoadingMask/LoadingMask.component\";\nimport Booking from \"./components/Booking/Booking\";\nimport Bookings from \"./components/Bookings/Bookings\";\n\nimport PrivateRoute from \"./components/Routing/PrivateRoute\";\nimport UnAuthRoute from \"./components/Routing/UnAuthRoute\";\n\nimport { connect } from \"react-redux\";\nimport { setData } from \"./actions/dataActions\";\nimport { loadUser } from \"./actions/authActions\";\n\nimport { useLocation } from \"react-router-dom\";\nimport Profile from \"./components/Profile/Profile\";\n\nconst App = ({ loadingData, setData, loadUser }) => {\n  const location = useLocation();\n\n  useEffect(() => {\n    console.log(\"app.js location.pathname: \", location.pathname);\n\n    setData();\n\n    if (location.pathname !== \"/confirm\" && location.pathname !== \"/callback\")\n      loadUser();\n  }, []);\n\n  return (\n    <div\n      className=\"App\"\n      style={{\n        backgroundImage: 'url(\"background.svg\")',\n        backgroundSize: \"contain\",\n      }}\n    >\n      <NavBar />\n      <Switch>\n        <UnAuthRoute path=\"/register\" component={Register} />\n        <UnAuthRoute path=\"/login\" component={Login} />\n        <PrivateRoute path=\"/order\" component={Order} />\n        <PrivateRoute path=\"/orders\" component={Orders} />\n        <PrivateRoute path=\"/booking\" component={Booking} />\n        <PrivateRoute path=\"/bookings\" component={Bookings} />\n        <PrivateRoute path=\"/profile\" component={Profile} />\n        <Route path=\"/confirm\" component={Confirm} />\n        <Route path=\"/callback\" component={Callback} />\n        <Route path=\"/password_reset\" component={PasswordReset} />\n        <Route path=\"/forgot_password\" component={ForgotPassword} />\n        <Route path=\"/cart\">{loadingData ? <LoadingMask /> : <Cart />}</Route>\n        <Route exact path=\"/\">\n          {loadingData ? <LoadingMask /> : <Home />}\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  loadingData: state.data.loading,\n});\n\nexport default connect(mapStateToProps, { setData, loadUser })(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { LOGOUT, LOGIN_SUCCESS, SET_USER } from \"../actions/types\";\n\nimport setAuthToken from \"./../utils/setAuthToken\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: false,\n  loading: true,\n  user: null,\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER:\n      return {\n        ...state,\n        user: {\n          name: action.payload.name,\n          photo: action.payload.photo + \"?time=\" + Date.now(),\n          email: action.payload.email,\n        },\n        loading: false,\n      };\n\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      setAuthToken(action.payload.token);\n      return {\n        ...state,\n        token: action.payload.token,\n        user: action.payload.user,\n        isAuthenticated: true,\n        loading: false,\n      };\n\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      setAuthToken();\n      return {\n        ...state,\n        user: null,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import { SET_CART, CHECK_CART } from \"./../actions/types\";\n\nconst initialState = () => {\n  if (localStorage) {\n    if (!localStorage.partyPizza) {\n      localStorage.partyPizza = JSON.stringify({\n        pizza: {},\n        topping: {},\n      });\n    }\n  }\n\n  return localStorage.partyPizza ? JSON.parse(localStorage.partyPizza) : {};\n};\n\nconst cartReducer = (state = initialState(), action) => {\n  switch (action.type) {\n    case SET_CART:\n      return {\n        pizza: { ...action.payload.pizza },\n        topping: { ...action.payload.topping },\n      };\n\n    //deleting invalid cart items based on database item id-s(in case of database change)\n    case CHECK_CART:\n      const pizza = { ...state.pizza };\n      const topping = { ...state.topping };\n      for (const pizzaId in pizza) {\n        if (!action.payload.pizza.includes(pizzaId.toString()))\n          delete pizza[pizzaId];\n      }\n      for (const toppingId in topping) {\n        if (!action.payload.topping.includes(toppingId.toString()))\n          delete topping[toppingId];\n      }\n      localStorage.partyPizza = JSON.stringify({\n        pizza,\n        topping,\n      });\n      return {\n        ...state,\n        pizza,\n        topping,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","import { SET_DATA, SELECT_PIZZA, SELECT_TOPPING } from \"../actions/types\";\n\nconst initialState = {\n  data: { topping: [], pizza: [] },\n  selectedPizza: null,\n  selectedTopping: null,\n  loading: true,\n};\n\nconst dataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_DATA:\n      return {\n        ...state,\n        data: {\n          pizza: [...action.payload.pizza],\n          topping: [...action.payload.topping],\n        },\n        loading: false,\n      };\n\n    case SELECT_PIZZA:\n      return {\n        ...state,\n        selectedPizza: action.payload,\n      };\n\n    case SELECT_TOPPING:\n      return {\n        ...state,\n        selectedTopping: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default dataReducer;\n","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducer\";\nimport cartReducer from \"./cartReducer\";\nimport dataReducer from \"./dataReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n  cart: cartReducer,\n  data: dataReducer,\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}