{"version":3,"sources":["actions/types.js","utils/setAuthToken.js","actions/authActions.js","components/ContentEditable/ContentEditable.jsx","components/NavBar/NavBar.jsx","utils/moveToCart.js","actions/cartActions.js","actions/dataActions.js","components/Items/Item/Item.jsx","components/Items/ItemDetails/ItemDetails.jsx","components/Navigation/navigation.jsx","components/Items/Items.jsx","components/Home/Home.jsx","components/Cart/Cart.jsx","components/LoadingMask/LoadingMask.component.jsx","components/Register/Register.jsx","components/Login/Login.jsx","components/Order/Order.jsx","components/Orders/OrderCard/OrderCard.jsx","components/Orders/Orders.jsx","components/Callback/Callback.jsx","components/Confirm/Confirm.jsx","components/PasswordReset/PasswordReset.jsx","components/ForgotPassword/ForgotPassword.jsx","components/Booking/TD/Content/Row/Row.jsx","components/Booking/TD/Content/Content.jsx","components/Booking/TD/Td.jsx","components/Booking/DateBooking/DateBooking.jsx","components/Booking/Booking.jsx","components/Bookings/BookingCard/BookingCard.jsx","components/Bookings/Bookings.jsx","components/Routing/PrivateRoute.js","components/Routing/UnAuthRoute.js","App.js","reportWebVitals.js","reducers/authReducer.js","reducers/cartReducer.js","reducers/dataReducer.js","reducers/index.js","store.js","index.js"],"names":["LOGIN_SUCCESS","LOGOUT","SET_DATA","SELECT_PIZZA","SELECT_TOPPING","SET_CART","CHECK_CART","setAuthToken","token","httpClient","defaults","headers","common","axios","baseURL","logout","type","setToken","user","jwt_decode","payload","ContentEditable","props","onChange","element","useRef","elements","React","Children","toArray","children","useEffect","current","innerText","spaces","String","fromCharCode","index","cloneElement","contentEditable","suppressContentEditableWarning","ref","onKeyUp","connect","state","cart","data","auth","useState","rect1Class","setRect1Class","rect2Class","setRect2Class","rect3Class","setRect3Class","dropDownClass","setDropDownClass","callGoogle","a","get","res","authUrl","window","location","href","console","log","response","sendNameChangeRequest","newName","config","post","success","currentTimeout","className","to","onClick","e","viewBox","x","y","width","height","id","d","amount","categoryKey","itemId","Number","filter","item","_id","toString","map","price","exact","photo","src","alt","value","clearTimeout","setTimeout","name","moveToCart","node","container","cartNodeInfo","document","getElementById","getBoundingClientRect","nodeInfo","clonedNode","cloneNode","insertBefore","firstElementChild","style","position","zIndex","left","Math","floor","top","transition","remove","modifyOrDeleteItem","modifyOrDelete","category","newValue","localStorage","partyPizza","JSON","parse","stringify","selectPizza","pizza","selectTopping","topping","putInCart","dataset","itemType","key2","itemRef","observer","IntersectionObserver","entries","isIntersecting","target","transform","observe","disconnect","image","querySelector","fill","selectedPizza","selectedTopping","quantity","setQuantity","input","setInput","itemDetailsStyle","setItemDetailsStyle","contentClass","setContentClass","description","length","slice","isNaN","Navigation","prev","quantityPerPage","change","increaseQuantityPerPage","decreaseQuantityPerPage","next","from","Items","items","defaultQuantityPerPage","setQuantityPerPage","setFrom","setTo","filteredItems","setFilteredItems","placeholder","filtered","p","toUpperCase","includes","search","loading","mainImgRef","menuImgRef","introductionRef","entry","backgroundImage","backgroundSize","pizzas","setPizzas","toppings","setToppings","totalSum","setItems","pizzaOrTopping","array","key","db","push","renderTableBody","pizzasOrToppings","sum","itemsRows","i","sumRow","colSpan","textAlign","LoadingMask","formValid","error","setError","registration_success","setRegistration_success","waitingForServer","setWaitingForServer","email","password","password2","setUser","submit","alerts","msg","errors","err","htmlFor","disabled","history","tel","address","order","setOrder","Object","keys","OrderCard","renderTable","rows","idx","Date","date","toLocaleString","orders","setOrders","asyncFn","ord","query","URLSearchParams","useLocation","useHistory","_","code","PasswordReset","setPassword","setSuccess","sendPassword","ForgotPassword","setEmail","sendEmail","twoHours","bookingMatrix","changeBookingState","hour","minute","bookingState","backgroundColor","Content","trArr","Td","showOverlay","setShowOverlay","unsavedChanges","sendBooking","dateStrings","bookings","addProps","intervalCorrectionBasedOnTimeZone","sendToServer","setSelectedTableNumber","quarterHourOptions","hourOptions","dateOptions","startDateIndex","setStartDateIndex","endDateIndex","setEndDateIndex","hourStart","setHourStart","minuteStart","setMinuteStart","hourEnd","setHourEnd","minuteEnd","setMinuteEnd","message","setMessage","parseInt","dataToCheck","intervals","intervalsOfFullDay","interval","startDateIntervals","endDateIntervals","freeTable","tableNumber","free","checkFreeTable","userBookings","correctedDate","correctedIntervalNumber","bookFreeTable","days","setDateStrings","firstDayIndex","setFirstDayIndex","selectedTableNumber","setBookings","setUnsavedChanges","setErrors","createDateStrings","dateStringArray","day","tzoffset","getTimezoneOffset","futureTimeStamp","now","aDayInTheFuture","toISOString","getDay","obj","arr","val","split","tmpObj","shift","quarterHour","copyOfBookings","changes","intervalNumber","intervalDate","outgoingData","round","getTime","incomingBookingsDataParser","convertedData","send","thArray","counter","tdArr","unshift","BookingCard","start","end","toLocaleDateString","toLocaleTimeString","setUserBookings","resp","userBookingsArray","u","isAuthenticated","Component","component","rest","render","loadingData","setData","dispatch","loadUser","pathname","path","Register","Login","Order","Orders","Booking","Bookings","Confirm","Callback","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","getItem","authReducer","action","setItem","removeItem","cartReducer","pizzaId","toppingId","dataReducer","combineReducers","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e655c863.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGOUT = \"LOGOUT\";\n\nexport const SET_DATA = \"SET_DATA\";\nexport const SELECT_PIZZA = \"SELECT_PIZZA\";\nexport const SELECT_TOPPING = \"SELECT_TOPPING\";\n\nexport const SET_CART = \"SET_CART\";\nexport const CHECK_CART = \"CHECK_CART\";\n","import httpClient from \"axios\";\n\nconst setAuthToken = (token) => {\n  if (token)\n    httpClient.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  else delete httpClient.defaults.headers.common[\"Authorization\"];\n};\n\nexport default setAuthToken;\n","import { LOGIN_SUCCESS, LOGOUT } from \"./types\";\n\nimport axios from \"axios\";\nimport setAuthToken from \"./../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\n\naxios.defaults.baseURL = \"https://cryptic-brushlands-33727.herokuapp.com\";\n\nexport const logout = () => {\n  return {\n    type: LOGOUT,\n  };\n};\n\nexport const setToken = (token) => {\n  const user = jwt_decode(token).user;\n\n  return {\n    type: LOGIN_SUCCESS,\n    payload: { token, user },\n  };\n};\n\nexport const loadUser = () => async (dispatch) => {\n  const token = localStorage.token;\n  if (token) setAuthToken(token);\n\n  try {\n    const res = await axios.get(\"/api/loaduser\");\n\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: { token, user: res.data },\n    });\n  } catch (error) {\n    console.log(\"auth actions load user error:\", error);\n\n    dispatch({\n      type: LOGOUT,\n    });\n  }\n};\n","import React, { useRef, useEffect } from \"react\";\n\n//Editable element for username in the navbar\nexport default function ContentEditable(props) {\n  const { onChange } = props;\n  const element = useRef();\n  let elements = React.Children.toArray(props.children);\n\n  const keyUpHandler = () => {\n    if (!element.current) return;\n\n    //if username is an empty string then fills it in with spaces\n    if (!element.current.innerText) {\n      let spaces = String.fromCharCode(160);\n      for (let index = 0; index < 2; index++) {\n        spaces += spaces;\n      }\n      element.current.innerText = spaces;\n    }\n\n    //calls onChange in the props\n    onChange(element.current.innerText);\n  };\n\n  useEffect(() => {\n    //if username is an empty string then fills it in with spaces\n    if (element.current && !element.current.innerText) {\n      let spaces = String.fromCharCode(160);\n      for (let index = 0; index < 2; index++) {\n        spaces += spaces;\n      }\n      element.current.innerText = spaces;\n    }\n  }, []);\n\n  elements = React.cloneElement(elements[0], {\n    contentEditable: true,\n    suppressContentEditableWarning: true,\n    ref: element,\n    onKeyUp: keyUpHandler,\n  });\n\n  return elements;\n}\n","import \"./NavBar.css\";\r\nimport { useState, useRef } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions/authActions\";\r\nimport ContentEditable from \"../ContentEditable/ContentEditable\";\r\nimport httpClient from \"axios\";\r\n\r\n//Main navigation: top bar\r\nconst NavBar = ({ logout, user, cart, data }) => {\r\n  const [rect1Class, setRect1Class] = useState(\"a\");\r\n  const [rect2Class, setRect2Class] = useState(\"b\");\r\n  const [rect3Class, setRect3Class] = useState(\"c\");\r\n\r\n  const [dropDownClass, setDropDownClass] = useState(\"dropDownMenu\");\r\n\r\n  const burgerClick = (e) => {\r\n    if (rect1Class === \"a\") {\r\n      setRect1Class(\"ax\");\r\n      setRect2Class(\"bx\");\r\n      setRect3Class(\"cx\");\r\n\r\n      setDropDownClass(\"dropDownMenu show\");\r\n    } else {\r\n      setRect1Class(\"a\");\r\n      setRect2Class(\"b\");\r\n      setRect3Class(\"c\");\r\n\r\n      setDropDownClass(\"dropDownMenu\");\r\n    }\r\n  };\r\n\r\n  const callGoogle = async () => {\r\n    try {\r\n      const res = await httpClient.get(\"/api/get_auth_info\");\r\n\r\n      const { authUrl } = res.data;\r\n\r\n      window.location.href = authUrl;\r\n    } catch (error) {\r\n      console.log(\"Get auth url error: \", error.response.data);\r\n    }\r\n  };\r\n\r\n  const sendNameChangeRequest = async (newName) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      const res = await httpClient.post(\r\n        \"/api/name_change\",\r\n        { newName },\r\n        config\r\n      );\r\n\r\n      if (!res.data.success) logout();\r\n      else console.log(\"name change happened: \", newName);\r\n    } catch (err) {\r\n      console.log(\"name change error: \", err.response.data);\r\n      logout();\r\n    }\r\n  };\r\n\r\n  const currentTimeout = useRef();\r\n  const nameChange = (value) => {\r\n    clearTimeout(currentTimeout.current);\r\n\r\n    currentTimeout.current = setTimeout(() => {\r\n      sendNameChangeRequest(value);\r\n    }, 2000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"NavBar\">\r\n      <div className={dropDownClass}>\r\n        <Link to=\"/\">\r\n          <span>Home</span>\r\n        </Link>\r\n        {user ? (\r\n          <>\r\n            <Link to=\"/order\">\r\n              <span>j megrenels</span>\r\n            </Link>\r\n            <Link to=\"/orders\">\r\n              <span>Megrendelsek</span>\r\n            </Link>\r\n            <Link to=\"/booking\">\r\n              <span>j asztalfoglals</span>\r\n            </Link>\r\n            <Link to=\"/bookings\">\r\n              <span>Asztalfoglalsok</span>\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link to=\"/register\">\r\n              <span>Regisztrci</span>\r\n            </Link>\r\n            <Link to=\"/login\">\r\n              <span>Belps</span>\r\n            </Link>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"icons\">\r\n        <div className=\"hamburger\" onClick={burgerClick}>\r\n          <svg viewBox=\"0 0 40 40\">\r\n            <rect className={rect1Class} x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\r\n            <rect className={rect2Class} x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\r\n            <rect className={rect3Class} x=\"0\" y=\"0\" width=\"20\" height=\"2\" />\r\n          </svg>\r\n        </div>\r\n        <div className=\"cart\">\r\n          <Link to=\"/cart\">\r\n            <svg id=\"cart\" viewBox=\"0 0 576 512\">\r\n              <path d=\"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z\"></path>\r\n            </svg>\r\n            <span>\r\n              {(function () {\r\n                //Counting total sum of the cart\r\n                //Based on quantities in cart and prices in the database\r\n                let amount = 0;\r\n                for (const categoryKey in cart) {\r\n                  for (const itemId in cart[categoryKey]) {\r\n                    amount +=\r\n                      Number(cart[categoryKey][itemId]) *\r\n                      data[categoryKey]\r\n                        .filter((item) => {\r\n                          if (item._id.toString() === itemId.toString())\r\n                            return true;\r\n                          else return false;\r\n                        })\r\n                        .map((element) => element.price);\r\n                  }\r\n                }\r\n                return amount;\r\n              })()}\r\n            </span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"linksAndUser\">\r\n        <div className=\"links\">\r\n          <NavLink to=\"/\" exact={true}>\r\n            Home{\" \"}\r\n          </NavLink>\r\n          {user ? (\r\n            <>\r\n              <span className=\"loggedIn\">\r\n                Megrendels\r\n                <div className=\"order\">\r\n                  <NavLink to=\"/order\">j megrendels</NavLink>\r\n                  <NavLink to=\"/orders\">Megrendelsek </NavLink>\r\n                </div>\r\n              </span>\r\n              <span className=\"loggedIn\">\r\n                Asztalfoglals\r\n                <div className=\"booking\">\r\n                  <NavLink to=\"/booking\">j asztalfoglals</NavLink>\r\n                  <NavLink to=\"/bookings\">Asztalfoglalsok</NavLink>\r\n                </div>\r\n              </span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <NavLink to=\"/register\">Regisztrci</NavLink>\r\n              <NavLink to=\"/login\">Belps</NavLink>\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className=\"userInfo\">\r\n          {user && user.photo !== \"no-image.png\" && (\r\n            <img src={user.photo} alt=\"\" />\r\n          )}\r\n          {user ? (\r\n            <ContentEditable onChange={nameChange}>\r\n              <span className=\"userName\">{user.name}</span>\r\n            </ContentEditable>\r\n          ) : (\r\n            <span className=\"notLoggedIn\" onClick={callGoogle}>\r\n              Belps\r\n              <img src=\"google.png\" alt=\"\" />\r\n              -al!\r\n            </span>\r\n          )}\r\n          {user && (\r\n            <div className=\"logout\" onClick={() => logout()}>\r\n              <svg viewBox=\"0 0 512 512\">\r\n                <path d=\"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z\"></path>\r\n              </svg>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: state.cart,\r\n  data: state.data.data,\r\n  user: state.auth.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(NavBar);\r\n","//Animation for putting an item to cart\nconst moveToCart = (node, container) => {\n  const cartNodeInfo = document.getElementById(\"cart\").getBoundingClientRect();\n  const nodeInfo = node.getBoundingClientRect();\n  const clonedNode = node.cloneNode(true);\n\n  container.insertBefore(clonedNode, container.firstElementChild);\n\n  clonedNode.style.position = \"fixed\";\n  clonedNode.style.zIndex = 2;\n  clonedNode.style.left = Math.floor(nodeInfo.left) + \"px\";\n  clonedNode.style.top = Math.floor(nodeInfo.top) + \"px\";\n  clonedNode.style.width = Math.floor(nodeInfo.width) + \"px\";\n  clonedNode.style.height = Math.floor(nodeInfo.height) + \"px\";\n\n  setTimeout(() => {\n    clonedNode.style.left = Math.floor(cartNodeInfo.left) + \"px\";\n    clonedNode.style.top = Math.floor(cartNodeInfo.top) + \"px\";\n    clonedNode.style.width = Math.floor(cartNodeInfo.width) + \"px\";\n    clonedNode.style.height = Math.floor(cartNodeInfo.height) + \"px\";\n    clonedNode.style.transition = \"2s\";\n  }, 100);\n\n  setTimeout(() => {\n    clonedNode.remove();\n  }, 2100);\n};\n\nexport default moveToCart;\n","import { SET_CART } from \"./types\";\nimport moveToCart from \"./../utils/moveToCart\";\n\nexport const setCart = (cart) => {\n  return {\n    type: SET_CART,\n    payload: cart,\n  };\n};\n\nexport const modifyOrDeleteItem = (modifyOrDelete, id, category, newValue) => {\n  if (localStorage) {\n    let partyPizza = JSON.parse(localStorage.partyPizza);\n\n    modifyOrDelete\n      ? (partyPizza[category][id] = newValue)\n      : delete partyPizza[category][id];\n\n    localStorage.partyPizza = JSON.stringify(partyPizza);\n\n    return {\n      type: SET_CART,\n      payload: partyPizza,\n    };\n  }\n};\n\nexport const putInCart = (node, container) => {\n  if (localStorage) {\n    let partyPizza = JSON.parse(localStorage.partyPizza);\n\n    partyPizza[node.className][node.dataset.id]\n      ? (partyPizza[node.className][node.dataset.id] =\n          Number(partyPizza[node.className][node.dataset.id]) + 1)\n      : (partyPizza[node.className][node.dataset.id] = 1);\n\n    localStorage.partyPizza = JSON.stringify(partyPizza);\n\n    //animation\n    moveToCart(node, container);\n\n    return {\n      type: SET_CART,\n      payload: partyPizza,\n    };\n  }\n};\n","import { SET_DATA, SELECT_PIZZA, SELECT_TOPPING, CHECK_CART } from \"./types\";\nimport axios from \"axios\";\n\nexport const setData = () => async (dispatch) => {\n  try {\n    const response = await axios(\"/api/data\");\n\n    //setting product data in the state\n    dispatch({ type: SET_DATA, payload: response.data });\n    //checking cart data in case database items have been deleted\n    //and deleting invalid items in cart\n    dispatch({\n      type: CHECK_CART,\n      payload: {\n        pizza: response.data.pizza.map((p) => p._id.toString()),\n        topping: response.data.topping.map((p) => p._id.toString()),\n      },\n    });\n  } catch (error) {\n    console.log(\"getting pizza data error: \", error);\n    dispatch({ type: SET_DATA, payload: { pizza: [], topping: [] } });\n  }\n};\n\nexport const selectPizza = (pizza) => {\n  return { type: SELECT_PIZZA, payload: pizza };\n};\n\nexport const selectTopping = (topping) => {\n  return { type: SELECT_TOPPING, payload: topping };\n};\n","import \"./item.css\";\nimport React, { useEffect, useRef } from \"react\";\nimport { putInCart } from \"../../../actions/cartActions\";\nimport { selectPizza, selectTopping } from \"../../../actions/dataActions\";\nimport { connect } from \"react-redux\";\n\n//Pizza or Topping item\nconst Item = ({\n  putInCart,\n  selectPizza,\n  selectTopping,\n  item,\n  itemType,\n  key2,\n}) => {\n  const itemRef = useRef();\n\n  useEffect(() => {\n    const observer = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) {\n        entries[0].target.style.transform = \"scale(1)\";\n      } else {\n        entries[0].target.style = \"\";\n      }\n    });\n\n    if (itemRef.current) {\n      observer.observe(itemRef.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return (\n    <div ref={itemRef} className={itemType} data-id={key2}>\n      <img src={\"/images/\" + itemType + \"s/\" + item.image} alt=\"\" />\n      <div className=\"dashboard\">\n        <div>\n          <svg\n            viewBox=\"0 0 576 512\"\n            onClick={(e) =>\n              putInCart(\n                itemRef.current,\n                document.querySelector(\".\" + itemType + \"s\")\n              )\n            }\n          >\n            <path\n              fill=\"currentColor\"\n              d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\"\n            ></path>\n          </svg>\n        </div>\n        <div>\n          <svg\n            viewBox=\"0 0 512 512\"\n            onClick={(e) =>\n              itemType === \"pizza\" ? selectPizza(item) : selectTopping(item)\n            }\n          >\n            <path\n              fill=\"currentColor\"\n              d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"\n            ></path>\n          </svg>\n        </div>\n      </div>\n      <div className={itemType + \"_info\"}>\n        <p>{item.name}</p>\n        <p>{item.price} Ft</p>\n      </div>\n    </div>\n  );\n};\n\nexport default connect(null, { putInCart, selectPizza, selectTopping })(Item);\n","import \"./ItemDetails.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { modifyOrDeleteItem } from \"../../../actions/cartActions\";\nimport { selectPizza, selectTopping } from \"../../../actions/dataActions\";\nimport { connect } from \"react-redux\";\n\n//Displays the selected item(pizza or topping) on full screen\nconst ItemDetails = ({\n  selectPizza,\n  selectTopping,\n  modifyOrDeleteItem,\n  cart,\n  selectedPizza,\n  selectedTopping,\n  itemType,\n}) => {\n  const [quantity, setQuantity] = useState(0);\n  const [input, setInput] = useState(1);\n\n  const [itemDetailsStyle, setItemDetailsStyle] = useState({\n    transform: \"scale(0)\",\n  });\n  const [contentClass, setContentClass] = useState(\"content\");\n\n  useEffect(() => {\n    itemType === \"pizza\"\n      ? setQuantity(selectedPizza ? cart.pizza[selectedPizza._id] || 0 : 0)\n      : setQuantity(\n          selectedTopping ? cart.topping[selectedTopping._id] || 0 : 0\n        );\n\n    if (itemType === \"pizza\" && selectedPizza)\n      setItemDetailsStyle({ transform: \"scale(1)\" });\n\n    if (itemType === \"topping\" && selectedTopping)\n      setItemDetailsStyle({ transform: \"scale(1)\" });\n\n    setContentClass(\"content\");\n  }, [selectedPizza, selectedTopping, cart]);\n\n  return (\n    <div className=\"ItemDetails\" style={itemDetailsStyle}>\n      {((itemType === \"pizza\" && selectedPizza) ||\n        (itemType === \"topping\" && selectedTopping)) && (\n        <>\n          <span\n            className=\"close\"\n            onClick={() => {\n              setItemDetailsStyle({ transform: \"scale(0)\" });\n              setTimeout(() => {\n                itemType === \"pizza\" ? selectPizza(null) : selectTopping(null);\n              }, 1000);\n            }}\n          >\n            X\n          </span>\n\n          <img\n            src={\n              \"/images/\" +\n              itemType +\n              \"s/\" +\n              (itemType === \"pizza\"\n                ? selectedPizza.image\n                : selectedTopping.image)\n            }\n            alt=\"\"\n          />\n\n          <div className={contentClass}>\n            <div className=\"info\">\n              <span\n                className=\"closeInfo\"\n                onClick={() => setContentClass(\"content hide\")}\n              >\n                X\n              </span>\n              <div className={itemType + \"Info\"}>\n                <div className=\"firstColumn\">Nv:</div>\n                <div>\n                  {itemType === \"pizza\"\n                    ? selectedPizza.name\n                    : selectedTopping.name}\n                </div>\n                <div className=\"firstColumn\">r:</div>\n                <div>\n                  {itemType === \"pizza\"\n                    ? selectedPizza.price\n                    : selectedTopping.price}{\" \"}\n                  Ft\n                </div>\n                <div className=\"firstColumn\">Lers:</div>\n                <div>\n                  {itemType === \"pizza\"\n                    ? selectedPizza.description\n                    : selectedTopping.description}\n                </div>\n              </div>\n              <div className=\"cartInfo\">\n                <div>\n                  <svg viewBox=\"0 0 576 512\">\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z\"\n                    ></path>\n                  </svg>\n                </div>\n                <div>\n                  <p>\n                    A kosrban<span> {quantity} db </span>van\n                  </p>\n\n                  <p>\n                    Kosrhoz adok\n                    <input\n                      type=\"text\"\n                      value={input}\n                      onChange={(e) => {\n                        if (e.target.value.length > 3)\n                          e.target.value = e.target.value.slice(0, 3);\n\n                        if (isNaN(e.target.value)) e.target.value = 1;\n\n                        if (Number(e.target.value) < 1) e.target.value = 1;\n\n                        e.target.value = Number(e.target.value);\n\n                        setInput(e.target.value);\n                      }}\n                    />\n                    <span className=\"db\">db-ot.</span>\n                    <button\n                      onClick={(e) => {\n                        modifyOrDeleteItem(\n                          true,\n                          itemType === \"pizza\"\n                            ? selectedPizza._id\n                            : selectedTopping._id,\n                          itemType,\n                          Number(input) + Number(quantity)\n                        );\n\n                        setInput(1);\n                      }}\n                      type=\"button\"\n                    >\n                      Mehet!\n                    </button>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart,\n  selectedPizza: state.data.selectedPizza,\n  selectedTopping: state.data.selectedTopping,\n});\n\nexport default connect(mapStateToProps, {\n  selectPizza,\n  selectTopping,\n  modifyOrDeleteItem,\n})(ItemDetails);\n","import \"./navigation.css\";\nimport React from \"react\";\n\n//paging for pizzas and toppings\nexport default function Navigation({ props }) {\n  return (\n    <div className=\"navigation\">\n      <div>\n        <span onClick={props.prev}>{\"\\u21e6\"}</span>\n        <span>\n          <input value={props.quantityPerPage} onChange={props.change} />\n          of\n          <em>{props.data.length}</em>\n          <span onClick={props.increaseQuantityPerPage}>{\"\\u2bc5\"}</span>\n          <span onClick={props.decreaseQuantityPerPage}>{\"\\u2bc6\"}</span>\n        </span>\n        <span onClick={props.next}>{\"\\u21e8\"}</span>\n      </div>\n      <div>\n        <span>\n          {Number(props.to) === 0 ? 0 : props.from + 1}-{props.to}\n        </span>\n      </div>\n    </div>\n  );\n}\n","import \"./Items.css\";\nimport Item from \"./Item/Item.jsx\";\nimport React, { useState } from \"react\";\nimport ItemDetails from \"./ItemDetails/ItemDetails.jsx\";\nimport Navigation from \"../Navigation/navigation.jsx\";\n\n//Lists the item components (pizzas or toppings)\nexport default function Items({ items, itemType }) {\n  const defaultQuantityPerPage = itemType === \"pizza\" ? 6 : 4;\n  const [quantityPerPage, setQuantityPerPage] = useState(\n    defaultQuantityPerPage <= items.length\n      ? defaultQuantityPerPage\n      : items.length\n  );\n  const [from, setFrom] = useState(0);\n  const [to, setTo] = useState(quantityPerPage);\n  const [filteredItems, setFilteredItems] = useState(items);\n\n  const search = (e) => {\n    const filtered = items.filter((p) => {\n      if (\n        p.name.toUpperCase().includes(e.target.value.toUpperCase()) ||\n        e.target.value === \"\"\n      )\n        return true;\n      else return false;\n    });\n\n    setFilteredItems(filtered);\n\n    setQuantityPerPage(\n      defaultQuantityPerPage <= filtered.length\n        ? defaultQuantityPerPage\n        : filtered.length\n    );\n\n    setFrom(0);\n    setTo(\n      defaultQuantityPerPage <= filtered.length\n        ? defaultQuantityPerPage\n        : filtered.length\n    );\n  };\n\n  const prev = () => {\n    if (from >= quantityPerPage) {\n      setFrom(from - quantityPerPage);\n      setTo(to - quantityPerPage);\n    } else {\n      setFrom(0);\n      setTo(quantityPerPage);\n    }\n  };\n\n  const next = () => {\n    if (to + quantityPerPage <= filteredItems.length) {\n      setTo(to + quantityPerPage);\n      setFrom(from + quantityPerPage);\n    } else {\n      setTo(filteredItems.length);\n      setFrom(filteredItems.length - quantityPerPage);\n    }\n  };\n\n  const change = (e) => {\n    if (e.target.value.length > 3) e.target.value = e.target.value.slice(0, 3);\n\n    if (isNaN(e.target.value)) e.target.value = 1;\n\n    if (Number(e.target.value) < 1) e.target.value = 1;\n\n    if (Number(e.target.value) > filteredItems.length)\n      e.target.value = filteredItems.length;\n\n    e.target.value = Number(e.target.value);\n\n    setQuantityPerPage(Number(e.target.value));\n    setFrom(0);\n    setTo(Number(e.target.value));\n  };\n\n  const increaseQuantityPerPage = () => {\n    if (quantityPerPage <= filteredItems.length - 1) {\n      setFrom(0);\n      setTo(quantityPerPage + 1);\n\n      setQuantityPerPage(quantityPerPage + 1);\n    }\n  };\n\n  const decreaseQuantityPerPage = () => {\n    if (quantityPerPage >= 2) {\n      setFrom(0);\n      setTo(quantityPerPage - 1);\n\n      setQuantityPerPage(quantityPerPage - 1);\n    }\n  };\n\n  return (\n    <div className={itemType + \"s\"}>\n      <ItemDetails itemType={itemType} />\n      <div className=\"search\">\n        <input type=\"text\" placeholder=\"search\" onChange={(e) => search(e)} />\n      </div>\n      <Navigation\n        props={{\n          prev,\n          next,\n          data: filteredItems,\n          quantityPerPage,\n          change,\n          to,\n          from,\n          increaseQuantityPerPage,\n          decreaseQuantityPerPage,\n        }}\n      />\n      <div className=\"content\">\n        {filteredItems.slice(from, to).map((item) => (\n          <Item\n            key={item._id}\n            key2={item._id}\n            item={item}\n            itemType={itemType}\n          />\n        ))}\n      </div>\n      <Navigation\n        props={{\n          prev,\n          next,\n          data: filteredItems,\n          quantityPerPage,\n          change,\n          to,\n          from,\n          increaseQuantityPerPage,\n          decreaseQuantityPerPage,\n        }}\n      />\n    </div>\n  );\n}\n","import \"./Home.css\";\nimport React, { useRef, useEffect } from \"react\";\nimport Items from \"./../Items/Items\";\nimport { connect } from \"react-redux\";\n\nconst Home = ({ loading, data }) => {\n  const mainImgRef = useRef();\n  const menuImgRef = useRef();\n  const introductionRef = useRef();\n\n  useEffect(() => {\n    const observer = new IntersectionObserver((entries) => {\n      for (const entry of entries) {\n        let target;\n        if (entry.target.className === \"mainImage\")\n          target = entry.target.querySelector(\"img\");\n        else target = entry.target;\n\n        if (entry.isIntersecting) {\n          target.style.transform = \"scale(1)\";\n        } else {\n          target.style = \"\";\n        }\n      }\n    });\n\n    if (mainImgRef.current && menuImgRef.current && introductionRef.current) {\n      observer.observe(mainImgRef.current);\n      observer.observe(menuImgRef.current);\n      observer.observe(introductionRef.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [loading]);\n\n  return (\n    <div className=\"Home\">\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        <div className=\"mainContainer\">\n          <div\n            className=\"head\"\n            style={{\n              backgroundImage: 'url(\"head.jpg\")',\n              backgroundSize: \"cover\",\n            }}\n          >\n            <img className=\"logo\" src=\"logo.png\" alt=\"\" />\n\n            <h1>Pizza Party tterem</h1>\n          </div>\n\n          <div className=\"firstPart\">\n            <div className=\"mainImage\" ref={mainImgRef}>\n              <img src=\"mainImage.jpg\" alt=\"\" />\n            </div>\n\n            <p\n              className=\"introduction\"\n              ref={introductionRef}\n              style={{ transform: \"scale(0)\" }}\n            >\n              A Party Pizzrit 1997-ben nyitottuk, tbb-kevsb csaldi\n              vllalkozs keretben. Elssorban a lakossg \"pizzaignyeit\"\n              szerettk volna kielgteni, de a krnykbeli falvakbl s a\n              kzelebbi vrosokbl is sikerlt mr trzsvendkeket szereznnk az\n              elmult msfl vtizedben. Gazdasgadta lehetsgekhez, s Kedves\n              Vendgeink pnztrcjhoz igazodva megprbltunk az rsznvonal\n              arany kzptjn maradni, termszetesen maximlis minsg mellett.\n              Minden ernkbl azon dolgozunk, hogy aki tlnk tvozik, j\n              rzssel- vlemnnyel, s nem utols sorben tele hassal tegye!\n            </p>\n          </div>\n\n          <div className=\"secondPart\">\n            <img\n              className=\"menuImage\"\n              ref={menuImgRef}\n              style={{ transform: \"scale(0)\" }}\n              src=\"menuImage.png\"\n              alt=\"\"\n            />\n\n            <div className=\"pizzasAndToppings\">\n              <div className=\"pizzasContainer\">\n                <h2>Pizzk</h2>\n                {data.pizza.length ? (\n                  <Items items={data.pizza} itemType=\"pizza\" />\n                ) : (\n                  <p className=\"warning\"> No pizzas </p>\n                )}\n              </div>\n\n              <div className=\"toppingsContainer\">\n                <h2>Felttek</h2>\n                {data.topping.length ? (\n                  <Items items={data.topping} itemType=\"topping\" />\n                ) : (\n                  <p className=\"warning\"> No toppings </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  data: state.data.data,\n  loading: state.data.loading,\n});\n\nexport default connect(mapStateToProps)(Home);\n","import \"./cart.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { modifyOrDeleteItem } from \"../../actions/cartActions\";\n\nconst Cart = ({ modifyOrDeleteItem, cart, data }) => {\n  const [pizzas, setPizzas] = useState([]);\n  const [toppings, setToppings] = useState([]);\n\n  let totalSum = 0;\n\n  const setItems = (pizzaOrTopping) => {\n    let array = [];\n    for (const key in cart[pizzaOrTopping]) {\n      const item = data[pizzaOrTopping]\n        .filter((p) => {\n          if (p._id.toString() === key.toString()) return true;\n          else return false;\n        })\n        .map((p) => ({ ...p, db: cart[pizzaOrTopping][key] }))[0];\n\n      array.push(item);\n    }\n    if (pizzaOrTopping === \"pizza\") setPizzas(array);\n    else setToppings(array);\n  };\n\n  const change = (e, id, category) => {\n    if (e.target.value.length > 3) e.target.value = e.target.value.slice(0, 3);\n\n    if (isNaN(e.target.value)) e.target.value = 1;\n\n    if (Number(e.target.value) < 1) e.target.value = 1;\n\n    e.target.value = Number(e.target.value);\n\n    modifyOrDeleteItem(true, id, category, e.target.value);\n  };\n\n  const renderTableBody = (pizzasOrToppings, category) => {\n    let sum = 0;\n    let itemsRows = pizzasOrToppings.map((item, i) => {\n      if (item) sum += item.price * item.db;\n\n      return (\n        item && (\n          <tr key={i}>\n            <td>{item.name}</td>\n            <td>{item.price}</td>\n            <td>\n              <input\n                value={item.db}\n                onChange={(e) => change(e, item._id, category)}\n              />\n            </td>\n            <td>{item.price * item.db}</td>\n            <td>\n              <svg\n                viewBox=\"0 0 448 512\"\n                onClick={() => modifyOrDeleteItem(false, item._id, category)}\n              >\n                <path\n                  fill=\"currentColor\"\n                  d=\"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z\"\n                ></path>\n              </svg>\n            </td>\n          </tr>\n        )\n      );\n    });\n    let sumRow = (\n      <tr>\n        <td colSpan=\"4\" style={{ textAlign: \"right\" }}>\n          {sum}\n        </td>\n        <td></td>\n      </tr>\n    );\n\n    totalSum += sum;\n\n    return (\n      <>\n        {itemsRows}\n        {sumRow}\n      </>\n    );\n  };\n\n  useEffect(() => {\n    setItems(\"pizza\");\n    setItems(\"topping\");\n  }, [cart, data]);\n\n  return (\n    <div className=\"cartRoute\">\n      <div className=\"title\">\n        <h1>Kosr</h1>\n      </div>\n      <div className=\"content\">\n        {pizzas.length && (\n          <div className=\"backdrop\">\n            <h2>Pizzk</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  totalSum = 0;\n\n                  return renderTableBody(pizzas, \"pizza\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        )}\n        {toppings.length && (\n          <div className=\"backdrop\">\n            <h2>Felttek</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  return renderTableBody(toppings, \"topping\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        )}\n        <div className=\"backdrop\">\n          <p>\n            sszesen fizetend: <span className=\"sum\">{totalSum}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart,\n  data: state.data.data,\n});\n\nexport default connect(mapStateToProps, { modifyOrDeleteItem })(Cart);\n","import React from \"react\";\nimport \"./LoadingMask.css\";\n\nexport default function LoadingMask() {\n  return (\n    <div className=\"LoadingMask\">\n      <img src=\"loading.gif\" alt=\"\" />\n    </div>\n  );\n}\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\nimport { logout } from \"./../../actions/authActions\";\n\nconst Register = ({ logout }) => {\n  let formValid = true;\n\n  const [error, setError] = useState(null);\n  const [registration_success, setRegistration_success] = useState(false);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n\n  const { name, email, password, password2 } = user;\n\n  const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\n\n  const submit = async () => {\n    if (formValid) {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n\n        const res = await httpClient.post(\n          \"/api/register\",\n          { name, email, password },\n          config\n        );\n\n        console.log(\"register action res.data: \", res.data);\n\n        setWaitingForServer(false);\n\n        setRegistration_success(true);\n      } catch (error) {\n        console.log(error.response.data);\n        setWaitingForServer(false);\n        setError(error.response.data);\n        logout();\n      }\n    }\n  };\n\n  return (\n    <div className=\"Register\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : !registration_success ? (\n        <div className=\"content\">\n          <h1>Regisztrci</h1>\n          <div className=\"alerts\">\n            {(function () {\n              let alerts = [];\n              formValid = true;\n\n              if (name === \"\" || email === \"\" || password === \"\") {\n                alerts.push(\n                  <p key={alerts.length + 1}>Tlts ki minden mezt!</p>\n                );\n                formValid = false;\n              }\n              if (password !== password2) {\n                alerts.push(\n                  <p key={alerts.length + 1}>Jelszavak nem egyeznek!</p>\n                );\n                formValid = false;\n              }\n\n              if (error) {\n                if (error.msg)\n                  alerts.push(<p key={alerts.length + 1}>{error.msg}</p>);\n\n                if (error.errors) {\n                  for (const err of error.errors) {\n                    alerts.push(<p key={alerts.length + 1}>{err.msg}</p>);\n                  }\n                }\n              }\n\n              return alerts;\n            })()}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"name\">Nv</label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"nv\"\n                value={name}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"email@mail.hu\"\n                value={email}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\">Jelsz</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password2\">Jelsz megersts</label>\n              <input\n                type=\"password\"\n                name=\"password2\"\n                value={password2}\n                onChange={onChange}\n              />\n            </div>\n            <button type=\"button\" disabled={!formValid} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"registrationSucess\">\n          <div className=\"content\">\n            <h1>Sikeres Regisztci!</h1>\n            <div className=\"alerts\">\n              <p>\n                Egy jvhagy email-t kldtnk a{\" \"}\n                <span className=\"email\">{email}</span> cmre\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout })(Register);\n","import \"./Login.css\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logout, setToken } from \"../../actions/authActions\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\n\nconst Login = ({ logout, setToken }) => {\n  const [error, setError] = useState(null);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = user;\n\n  const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\n\n  const submit = async () => {\n    if (!(!email || !password)) {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n\n        const res = await httpClient.post(\"/api/login\", user, config);\n        console.log(\"login res.data:\", res.data);\n        setWaitingForServer(false);\n        setToken(res.data.token);\n      } catch (error) {\n        console.log(\"login error:\", error.response.data);\n        setWaitingForServer(false);\n        setError(error.response.data);\n        logout();\n      }\n    }\n  };\n\n  return (\n    <div className=\"Login\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <div className=\"content\">\n          <h1>Belps</h1>\n          <div className=\"alerts\">\n            {(!email || !password) && <p>Tlts ki minden mezt!</p>}\n            {error && error.msg && <p>{error.msg}</p>}\n            {error &&\n              error.errors &&\n              error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"email@mail.hu\"\n                value={email}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\">Jelsz</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={onChange}\n              />\n            </div>\n            <button\n              type=\"button\"\n              disabled={!email || !password}\n              onClick={submit}\n            >\n              Klds\n            </button>\n            <Link to=\"/forgot_password\">Elfelejtett jelsz</Link>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout, setToken })(Login);\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport httpClient from \"axios\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/authActions\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nconst Order = ({ logout, cart, history }) => {\n  let formValid = true;\n\n  const [order, setOrder] = useState({\n    name: \"\",\n    email: \"\",\n    tel: \"\",\n    address: \"\",\n  });\n\n  const [error, setError] = useState(null);\n\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  const { name, email, tel, address } = order;\n\n  const onChange = (e) =>\n    setOrder({ ...order, [e.target.name]: e.target.value });\n\n  const submit = async () => {\n    if (!formValid) return;\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    try {\n      setError(null);\n      setWaitingForServer(true);\n\n      const res = await httpClient.post(\n        \"/api/order\",\n        { ...order, cart },\n        config\n      );\n\n      setWaitingForServer(false);\n\n      if (res.data && res.data.success === true) history.push(\"/orders\");\n      else logout();\n    } catch (err) {\n      console.log(\"order error: \", err.response.data);\n      setWaitingForServer(false);\n      setError(err.response.data);\n      if (\n        err.response.data.msg &&\n        err.response.data.msg.includes(\"Authentication error\")\n      )\n        logout();\n    }\n  };\n\n  return (\n    <div className=\"Order\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <div className=\"content\">\n          <h1>j megrendels</h1>\n          <div className=\"alerts\">\n            {(function () {\n              let alerts = [];\n              formValid = true;\n\n              if (name === \"\" || email === \"\" || tel === \"\" || address === \"\") {\n                alerts.push(\n                  <p key={alerts.length + 1}>Tlts ki minden mezt!</p>\n                );\n                formValid = false;\n              }\n\n              if (\n                !Object.keys(cart.pizza).length &&\n                !Object.keys(cart.topping).length\n              ) {\n                alerts.push(<p key={alerts.length + 1}>A kosr res!</p>);\n                formValid = false;\n              }\n\n              if (error) {\n                if (error.msg)\n                  alerts.push(<p key={alerts.length + 1}>{error.msg}</p>);\n\n                if (error.errors) {\n                  for (const err of error.errors) {\n                    alerts.push(<p key={alerts.length + 1}>{err.msg}</p>);\n                  }\n                }\n              }\n\n              return alerts;\n            })()}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"name\">Nv</label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"nv\"\n                value={name}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"email@mail.hu\"\n                value={email}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"tel\">Telefon</label>\n              <input\n                type=\"tel\"\n                name=\"tel\"\n                placeholder=\"06201234567\"\n                value={tel}\n                onChange={onChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"address\">Cm</label>\n              <input\n                type=\"text\"\n                name=\"address\"\n                placeholder=\"1234 Vros, Utca nv 1\"\n                value={address}\n                onChange={onChange}\n              />\n            </div>\n            <button type=\"button\" disabled={!formValid} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart,\n});\n\nexport default connect(mapStateToProps, { logout })(Order);\n","import React from \"react\";\nimport \"./OrderCard.css\";\n\nconst OrderCard = ({ order }) => {\n  let totalSum = 0;\n\n  const renderTable = (category) => {\n    let sum = 0;\n    let rows = order.cart[category].map((item, idx) => {\n      sum += item.quantity * item.price;\n\n      return (\n        <tr key={idx}>\n          <td>{item.name}</td>\n          <td>{item.price}</td>\n          <td>{item.quantity}</td>\n          <td>{item.quantity * item.price}</td>\n        </tr>\n      );\n    });\n\n    rows.push(\n      <tr key={order.cart[category].length}>\n        <td colSpan=\"3\"></td>\n        <td>{sum}</td>\n      </tr>\n    );\n\n    totalSum += sum;\n\n    return rows;\n  };\n\n  return (\n    <div className=\"OrderCard\">\n      <div className=\"personalData\">\n        <table>\n          <tbody>\n            <tr>\n              <td>Nv: </td>\n              <td>{order.name}</td>\n            </tr>\n            <tr>\n              <td>Cm: </td>\n              <td>{order.address}</td>\n            </tr>\n            <tr>\n              <td>Email: </td>\n              <td>{order.email}</td>\n            </tr>\n            <tr>\n              <td>Tel: </td>\n              <td>{order.tel}</td>\n            </tr>\n            <tr>\n              <td>Dtum: </td>\n              <td>{new Date(order.date).toLocaleString()}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div className=\"cart\">\n        {order.cart.pizza && order.cart.pizza.length ? (\n          <div>\n            <h2>Pizzk</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  totalSum = 0;\n\n                  return renderTable(\"pizza\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <p>Nincsenek pizzk!</p>\n        )}\n        {order.cart.topping && order.cart.topping.length ? (\n          <div>\n            <h2>Felttek</h2>\n            <table>\n              <thead>\n                <tr>\n                  <th>Nv</th>\n                  <th>Egysgr</th>\n                  <th>db</th>\n                  <th>r</th>\n                </tr>\n              </thead>\n              <tbody>\n                {(function () {\n                  return renderTable(\"topping\");\n                })()}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <p>Nincsenek felttek!</p>\n        )}\n      </div>\n      <div className=\"totalSum\">sszesen: {totalSum} Ft.</div>\n    </div>\n  );\n};\n\nexport default OrderCard;\n","import \"./Orders.css\";\nimport React, { useEffect, useState } from \"react\";\nimport httpClient from \"axios\";\nimport OrderCard from \"./OrderCard/OrderCard\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/authActions\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nconst Orders = ({ logout }) => {\n  const [orders, setOrders] = useState([]);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  useEffect(() => {\n    const asyncFn = async () => {\n      try {\n        setWaitingForServer(true);\n        const res = await httpClient.get(\"/api/orders\");\n        setWaitingForServer(false);\n\n        console.log(\"orders: \", res.data);\n        setOrders(res.data);\n      } catch (err) {\n        setWaitingForServer(false);\n\n        console.log(err.response.data);\n        logout();\n      }\n    };\n\n    asyncFn();\n  }, []);\n\n  return (\n    <div className=\"Orders\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <>\n          <div className=\"title\">\n            <h1>Megrendelsek</h1>\n          </div>\n          <div className=\"content\">\n            {orders.length ? (\n              orders.map((ord, idx) => <OrderCard key={idx} order={ord} />)\n            ) : (\n              <p className=\"info\">Nincsenek megrendelsek</p>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout })(Orders);\n","import \"../Login/Login.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { setToken, logout } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Callback = ({ setToken, logout }) => {\n  const query = useQuery();\n  const history = useHistory();\n\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const asyncFn = async (_) => {\n      const code = query.get(\"code\");\n\n      try {\n        setWaitingForServer(true);\n\n        const config = {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        };\n        const res = await httpClient.post(\"/api/google\", { code }, config);\n\n        console.log(\"google callback /api/google res.data:\", res.data);\n\n        setWaitingForServer(false);\n\n        setToken(res.data.token);\n\n        history.push(\"/\");\n      } catch (error) {\n        console.log(\"google callback /api/google error:\", error.response.data);\n\n        setError(error.response.data);\n        setWaitingForServer(false);\n\n        logout();\n      }\n    };\n\n    asyncFn();\n  }, []);\n\n  return (\n    <div className=\"Callback\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <>\n          <div className=\"content\">\n            <h1>Google belps!</h1>\n            <div className=\"alerts\">\n              {error && error.msg && <p>{error.msg}</p>}\n              {error &&\n                error.errors &&\n                error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n              {!error && <p>A belps sikeres!</p>}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { setToken, logout })(Callback);\n","import \"../Login/Login.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { logout, setToken } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\nimport httpClient from \"axios\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Confirm = ({ logout, setToken }) => {\n  const query = useQuery();\n  const history = useHistory();\n\n  const [waitingForServer, setWaitingForServer] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const asyncFn = async () => {\n      const email = query.get(\"email\");\n      const code = query.get(\"code\");\n\n      try {\n        setWaitingForServer(true);\n        const config = {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        };\n        const res = await httpClient.post(\n          \"/api/confirm\",\n          {\n            email,\n            code,\n          },\n          config\n        );\n\n        console.log(\"confirm res.data: \", res.data);\n\n        setWaitingForServer(false);\n\n        setToken(res.data.token);\n\n        history.push(\"/\");\n      } catch (error) {\n        console.log(\"confirm error.response.data: \", error.response.data);\n        setWaitingForServer(false);\n        setError(error.response.data);\n        logout();\n      }\n    };\n\n    asyncFn();\n  }, []);\n\n  return (\n    <div className=\"Confirm\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : (\n        <>\n          <div className=\"content\">\n            <h1>Regisztrci megersts!</h1>\n            <div className=\"alerts\">\n              {error && error.msg && <p>{error.msg}</p>}\n              {error &&\n                error.errors &&\n                error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n              {!error && <p>A regisztrcid megerstsre kerlt!</p>}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default connect(null, { logout, setToken })(Confirm);\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport httpClient from \"axios\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default function PasswordReset() {\n  let query = useQuery();\n  let history = useHistory();\n\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(false);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  const passwordChanged = (e) => setPassword(e.target.value);\n\n  const submit = () => {\n    const sendPassword = async (_) => {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n        await httpClient.post(\n          \"/api/password\",\n          {\n            email: query.get(\"email\"),\n            code: query.get(\"code\"),\n            password,\n          },\n          config\n        );\n        setWaitingForServer(false);\n        setSuccess(true);\n\n        setTimeout(() => {\n          history.push(\"/login\");\n        }, 1000);\n      } catch (error) {\n        setWaitingForServer(false);\n        setError(error.response.data);\n      }\n    };\n\n    if (password) sendPassword();\n  };\n\n  return (\n    <div className=\"PasswordReset\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : !success ? (\n        <div className=\"content\">\n          <h1>Add meg az j jelszavad!</h1>\n          <div className=\"alerts\">\n            {!password && <p>Tlts ki minden mezt!</p>}\n            {error && error.msg && <p>{error.msg}</p>}\n            {error &&\n              error.errors &&\n              error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"password\">jelsz</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={passwordChanged}\n              />\n            </div>\n\n            <button type=\"button\" disabled={!password} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"content\">\n          <div className=\"alerts\">\n            <p>Az j jelsz belltsra kerlt</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import \"../Login/Login.css\";\nimport React, { useState } from \"react\";\nimport httpClient from \"axios\";\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\n\nexport default function ForgotPassword() {\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(false);\n  const [waitingForServer, setWaitingForServer] = useState(false);\n\n  const emailChanged = (e) => setEmail(e.target.value);\n\n  const submit = () => {\n    const sendEmail = async (_) => {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      try {\n        setWaitingForServer(true);\n\n        await httpClient.post(\"/api/reset\", { email }, config);\n\n        setSuccess(true);\n      } catch (error) {\n        setError(error.response.data);\n      } finally {\n        setWaitingForServer(false);\n      }\n    };\n\n    if (email) sendEmail();\n  };\n\n  return (\n    <div className=\"ForgotPassword\">\n      {waitingForServer ? (\n        <LoadingMask />\n      ) : !success ? (\n        <div className=\"content\">\n          <h1>Add meg melyik email cmhez szeretnl j jelszt!</h1>\n          <div className=\"alerts\">\n            {!email && <p>Tlts ki minden mezt!</p>}\n            {error && error.msg && <p>{error.msg}</p>}\n            {error &&\n              error.errors &&\n              error.errors.map((e, i) => <p key={i}>{e.msg}</p>)}\n          </div>\n          <form>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={emailChanged}\n              />\n            </div>\n\n            <button type=\"button\" disabled={!email} onClick={submit}>\n              Klds\n            </button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"content\">\n          <div className=\"alerts\">\n            <p>\n              Egy jelsz helyrellt email-t kldtnk a{\" \"}\n              <span className=\"email\">{email}</span> cmre\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst Row = ({\n  index,\n  twoHours,\n  bookingMatrix,\n  changeBookingState,\n  date,\n  user,\n}) => {\n  const hour = twoHours * 2 + Math.floor((index * 15) / 60);\n  const minute = index * 15 - Math.floor((index * 15) / 60) * 60;\n\n  const bookingState = bookingMatrix?.[date]?.[index + twoHours * 8] || false;\n\n  const check = () => {\n    if (bookingState && bookingState !== \"x\") return;\n\n    if (bookingState === \"x\")\n      changeBookingState(false, date, index + twoHours * 8);\n    else changeBookingState(\"x\", date, index + twoHours * 8);\n  };\n\n  \n  return (\n    <tr onClick={check}>\n      <td\n        style={{\n          backgroundColor:\n            bookingState === \"x\"\n              ? \"gray\"\n              : bookingState === user.email\n              ? \"orange\"\n              : bookingState\n              ? \"#ff5252\"\n              : \"#7aeb34\",\n        }}\n      >\n        <span className=\"hoursInContent\">\n          {hour < 10 ? `0${hour}` : hour} : {minute ? minute : \"00\"}\n        </span>\n      </td>\n    </tr>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.auth.user,\n});\n\nexport default connect(mapStateToProps, null)(Row);\n","import React from \"react\";\nimport Row from \"./Row/Row\";\n\nexport default function Content(props) {\n  return (\n    <table className=\"ContentTable\">\n      <tbody>\n        {(function () {\n          let trArr = [];\n          for (let index = 0; index < 8; index++) {\n            trArr.push(<Row key={index} index={index} {...props} />);\n          }\n          return trArr;\n        })()}\n      </tbody>\n    </table>\n  );\n}\n","import React, { useState } from \"react\";\r\nimport Content from \"./Content/Content\";\r\n\r\nexport default function Td(props) {\r\n  const [showOverlay, setShowOverlay] = useState(false);\r\n\r\n  return (\r\n    <div className=\"Td\">\r\n      <div className=\"cover\" onClick={(e) => setShowOverlay(true)}></div>\r\n      {showOverlay && (\r\n        <div className=\"overlay\">\r\n          <h1>{props.date}</h1>\r\n          {props.unsavedChanges && (\r\n            <button className=\"booking\" onClick={props.sendBooking}>\r\n              Lefoglalom\r\n            </button>\r\n          )}\r\n          <span className=\"close\" onClick={(e) => setShowOverlay(false)}>\r\n            X\r\n          </span>\r\n          <Content {...props} />\r\n        </div>\r\n      )}\r\n      <Content {...props} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./DateBooking.css\";\r\n\r\nconst DateBooking = ({\r\n  dateStrings,\r\n  bookings,\r\n  addProps,\r\n  intervalCorrectionBasedOnTimeZone,\r\n  sendToServer,\r\n  setSelectedTableNumber,\r\n  user\r\n}) => {\r\n  const quarterHourOptions = [];\r\n  for (let minute = 0; minute < 60; minute += 15) {\r\n    quarterHourOptions.push(\r\n      <option key={minute} value={minute}>\r\n        {minute}\r\n      </option>\r\n    );\r\n  }\r\n\r\n  const hourOptions = [];\r\n  for (let hour = 0; hour < 24; hour++) {\r\n    hourOptions.push(\r\n      <option key={hour} value={hour}>\r\n        {hour}\r\n      </option>\r\n    );\r\n  }\r\n\r\n  const dateOptions = dateStrings.map((d, i) => (\r\n    <option key={i} value={i}>\r\n      {d}\r\n    </option>\r\n  ));\r\n\r\n  const [startDateIndex, setStartDateIndex] = useState(0);\r\n  const [endDateIndex, setEndDateIndex] = useState(0);\r\n  const [hourStart, setHourStart] = useState(0);\r\n  const [minuteStart, setMinuteStart] = useState(0);\r\n  const [hourEnd, setHourEnd] = useState(0);\r\n  const [minuteEnd, setMinuteEnd] = useState(0);\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const bookFreeTable = (dataToCheck, freeTable) => {\r\n    const userBookings = {};\r\n\r\n    for (const date in dataToCheck) {\r\n      for (const interval of dataToCheck[date]) {\r\n        //makes the interval and date corrections based on time zone\r\n        const [correctedDate, correctedIntervalNumber] =\r\n          intervalCorrectionBasedOnTimeZone(parseInt(interval), date, true);\r\n\r\n        //adds free table as tableNumber and the corrected date and interval to the data to send\r\n        if (userBookings?.[freeTable]?.[correctedDate])\r\n          userBookings[freeTable][correctedDate].push(correctedIntervalNumber);\r\n        else\r\n          addProps(\r\n            userBookings,\r\n            [freeTable, correctedDate],\r\n            [correctedIntervalNumber]\r\n          );\r\n      }\r\n    }\r\n\r\n    sendToServer(userBookings);\r\n    setSelectedTableNumber(freeTable);\r\n  };\r\n\r\n  // Checks if there is a table where all the intervals\r\n  // given in the dataToCheck object are free\r\n  // gives back the number of the free table\r\n  // or false if there is no free table\r\n  const checkFreeTable = (dataToCheck) => {\r\n    if (!Object.keys(dataToCheck).length) return false;\r\n\r\n    for (let tableNumber = 1; tableNumber < 11; tableNumber++) {\r\n      let free = true;\r\n      for (const date in dataToCheck) {\r\n        if (!free) break;\r\n        for (const interval of dataToCheck[date]) {\r\n          if (!free) break;\r\n          if (\r\n            bookings?.[tableNumber]?.[date]?.[interval] &&\r\n            bookings?.[tableNumber]?.[date]?.[interval] !== \"x\" &&\r\n            bookings?.[tableNumber]?.[date]?.[interval] !== user.email\r\n          )\r\n            free = false;\r\n        }\r\n      }\r\n\r\n      if (free) return tableNumber;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  //Converts the dates/hours/minutes to an object\r\n  //which is in the form: {date1: [1,2,..], date2: [1,2..], ...}\r\n  //where the arrays contain the interval numbers of the corresponding date\r\n  const convertSelectedValuesToObject = () => {\r\n\r\n    const dataToCheck = {};\r\n\r\n    if (startDateIndex === endDateIndex) {\r\n      const intervals = [];\r\n      for (\r\n        let index = hourStart * 4 + Math.floor(minuteStart / 15);\r\n        index < hourEnd * 4 + Math.floor(minuteEnd / 15);\r\n        index++\r\n      ) {\r\n        intervals.push(index);\r\n      }\r\n      if (intervals.length)\r\n        addProps(dataToCheck, [dateStrings[startDateIndex]], intervals);\r\n    } else if (endDateIndex > startDateIndex) {\r\n      if (endDateIndex - startDateIndex > 1) {\r\n        const intervalsOfFullDay = [];\r\n        for (let interval = 0; interval < 96; interval++) {\r\n          intervalsOfFullDay.push(interval);\r\n        }\r\n\r\n        for (let index = startDateIndex + 1; index < endDateIndex; index++) {\r\n          addProps(dataToCheck, [dateStrings[index]], intervalsOfFullDay);\r\n        }\r\n      }\r\n\r\n      const startDateIntervals = [];\r\n      for (\r\n        let interval = hourStart * 4 + Math.floor(minuteStart / 15);\r\n        interval < 96;\r\n        interval++\r\n      ) {\r\n        startDateIntervals.push(interval);\r\n      }\r\n      if (startDateIntervals.length)\r\n        addProps(\r\n          dataToCheck,\r\n          [dateStrings[startDateIndex]],\r\n          startDateIntervals\r\n        );\r\n\r\n      const endDateIntervals = [];\r\n      for (\r\n        let interval = 0;\r\n        interval < hourEnd * 4 + Math.floor(minuteEnd / 15);\r\n        interval++\r\n      ) {\r\n        endDateIntervals.push(interval);\r\n      }\r\n      if (endDateIntervals.length)\r\n        addProps(dataToCheck, [dateStrings[endDateIndex]], endDateIntervals);\r\n    }\r\n\r\n    const freeTable = checkFreeTable(dataToCheck);\r\n    if (freeTable) {\r\n      bookFreeTable(dataToCheck, freeTable);\r\n      setMessage(`Van szabad asztal. Az asztal szma: ${freeTable}`);\r\n    } else {\r\n      setMessage(\"Nincs szabad asztal erre az idpontra!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"DateBooking\">\r\n\r\n      <h1>Idpont foglals</h1>\r\n\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td colSpan=\"3\"><div className=\"start\">Kezds</div></td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              Nap:\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setStartDateIndex(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {dateOptions}\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">ra:</span>  \r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setHourStart(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {hourOptions}\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">Perc:</span> \r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setMinuteStart(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {quarterHourOptions}\r\n              </select>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td colSpan=\"3\"><div className=\"end\">Vge</div></td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              Nap:\r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setEndDateIndex(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {dateOptions}\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">ra:</span> \r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setHourEnd(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {hourOptions}\r\n                <option value={24}>{24}</option>\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <span className=\"time\">Perc:</span> \r\n              <select\r\n                onChange={(e) => {\r\n                  setMessage(\"\");\r\n                  setMinuteEnd(parseInt(e.target.value));\r\n                }}\r\n              >\r\n                {parseInt(hourEnd) === 24 ? (\r\n                  <option value={0}>0</option>\r\n                ) : (\r\n                  quarterHourOptions\r\n                )}\r\n              </select>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <button onClick={convertSelectedValuesToObject}>Foglals</button>\r\n\r\n      {message && <p>{message}</p>}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(DateBooking);\r\n","import \"./Booking.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport TD from \"./TD/Td\";\r\nimport httpClient from \"axios\";\r\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions/authActions\";\r\nimport DateBooking from \"./DateBooking/DateBooking\";\r\n\r\nconst Booking = ({ logout }) => {\r\n  const days = [\r\n    \"Vasrnap\",\r\n    \"Htf\",\r\n    \"Kedd\",\r\n    \"Szerda\",\r\n    \"Cstrtk\",\r\n    \"Pntek\",\r\n    \"Szombat\",\r\n  ];\r\n\r\n  const [dateStrings, setDateStrings] = useState([]);\r\n  const [firstDayIndex, setFirstDayIndex] = useState(0);\r\n  const [selectedTableNumber, setSelectedTableNumber] = useState(0);\r\n  const [bookings, setBookings] = useState({});\r\n  const [unsavedChanges, setUnsavedChanges] = useState(false);\r\n  const [waitingForServer, setWaitingForServer] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const createDateStrings = () => {\r\n    const dateStringArray = [];\r\n\r\n    for (let day = 1; day <= 7; day++) {\r\n      //offset in milliseconds\r\n      const tzoffset = new Date().getTimezoneOffset() * 60000;\r\n      const futureTimeStamp = Date.now() + day * 24 * 60 * 60 * 1000;\r\n\r\n      const aDayInTheFuture = new Date(futureTimeStamp - tzoffset)\r\n        .toISOString()\r\n        .slice(0, 10);\r\n\r\n      dateStringArray.push(aDayInTheFuture);\r\n\r\n      if (day === 1) setFirstDayIndex(new Date(futureTimeStamp).getDay());\r\n    }\r\n\r\n    setDateStrings(dateStringArray);\r\n  };\r\n\r\n  //automatically add properties to an object which were undefined\r\n  //and gives it a value\r\n  const addProps = (obj, arr, val) => {\r\n    if (typeof arr == \"string\") arr = arr.split(\".\");\r\n\r\n    obj[arr[0]] = obj[arr[0]] || {};\r\n\r\n    const tmpObj = obj[arr[0]];\r\n\r\n    if (arr.length > 1) {\r\n      arr.shift();\r\n      addProps(tmpObj, arr, val);\r\n    } else obj[arr[0]] = val;\r\n\r\n    return obj;\r\n  };\r\n\r\n  //Updates the booking state based on the given values\r\n  //and checking for pending changes\r\n  //Booking state is in the form: {tableNumber: {date : {interval: (<user email> || <true> || \"x\")}}}\r\n  //where \"x\" denotes a new booking of the authenticated user\r\n  //<user email> denotes a previous booking of the authenticated user\r\n  //<true> denotes a booking of an other user\r\n  const changeBookingState = (value, day, quarterHour) => {\r\n    const copyOfBookings = { ...bookings };\r\n    if (!value) delete copyOfBookings[selectedTableNumber][day][quarterHour];\r\n    else\r\n      addProps(copyOfBookings, [selectedTableNumber, day, quarterHour], value);\r\n\r\n    let changes = false;\r\n    for (const tableNumber in copyOfBookings) {\r\n      if (!Object.keys(copyOfBookings[tableNumber]).length) {\r\n        delete copyOfBookings[tableNumber];\r\n        continue;\r\n      }\r\n      for (const date in copyOfBookings[tableNumber]) {\r\n        if (!Object.keys(copyOfBookings[tableNumber][date]).length) {\r\n          delete copyOfBookings[tableNumber][date];\r\n          continue;\r\n        }\r\n        for (const interval in copyOfBookings[tableNumber][date]) {\r\n          if (copyOfBookings[tableNumber][date][interval] === \"x\")\r\n            changes = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    setUnsavedChanges(changes);\r\n    setBookings(copyOfBookings);\r\n  };\r\n\r\n  //Modifies the interval number and date based on timezone\r\n  //(interval and date shifting routine)\r\n  const intervalCorrectionBasedOnTimeZone = (\r\n    intervalNumber,\r\n    intervalDate,\r\n    outgoingData\r\n  ) => {\r\n    //Timezone offset in quarter hours\r\n    const tzoffset = Math.round(new Date().getTimezoneOffset() / 15);\r\n\r\n    let correctedIntervalNumber = intervalNumber;\r\n\r\n    if (outgoingData) correctedIntervalNumber = intervalNumber + tzoffset;\r\n    else correctedIntervalNumber = intervalNumber - tzoffset;\r\n\r\n    let correctedDate = intervalDate;\r\n\r\n    if (correctedIntervalNumber < 0) {\r\n      correctedDate = new Date(\r\n        new Date(intervalDate).getTime() - 1 * 24 * 60 * 60 * 1000\r\n      )\r\n        .toISOString()\r\n        .slice(0, 10);\r\n      correctedIntervalNumber = 96 + correctedIntervalNumber;\r\n    } else if (correctedIntervalNumber > 95) {\r\n      correctedDate = new Date(\r\n        new Date(intervalDate).getTime() + 1 * 24 * 60 * 60 * 1000\r\n      )\r\n        .toISOString()\r\n        .slice(0, 10);\r\n      correctedIntervalNumber = correctedIntervalNumber - 96;\r\n    }\r\n\r\n    return [correctedDate, correctedIntervalNumber];\r\n  };\r\n\r\n  //Loops through the given data and calls the interval and date shifting routine\r\n  const incomingBookingsDataParser = (data) => {\r\n    const convertedData = {};\r\n    for (const tableNumber in data) {\r\n      for (const date in data[tableNumber]) {\r\n        for (const interval in data[tableNumber][date]) {\r\n          const [correctedDate, correctedIntervalNumber] =\r\n            intervalCorrectionBasedOnTimeZone(parseInt(interval), date, false);\r\n\r\n          addProps(\r\n            convertedData,\r\n            [tableNumber, correctedDate, correctedIntervalNumber],\r\n            data[tableNumber][date][interval]\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    return convertedData;\r\n  };\r\n\r\n  const sendToServer = async (userBookings) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      setWaitingForServer(true);\r\n\r\n      const res = await httpClient.post(\r\n        \"/api/bookings\",\r\n        {\r\n          data: userBookings,\r\n        },\r\n        config\r\n      );\r\n      setBookings(incomingBookingsDataParser(res?.data?.data || {}));\r\n      setMessage(\"Sikeres foglals!\");\r\n      setUnsavedChanges(false);\r\n      setWaitingForServer(false);\r\n    } catch (error) {\r\n      setWaitingForServer(false);\r\n\r\n      if (error?.response?.data?.errors) setErrors(error.response.data.errors);\r\n\r\n      if (error?.response?.data?.msg) setError(error.response.data.msg);\r\n\r\n      if (error?.response?.data?.data)\r\n        setBookings(incomingBookingsDataParser(error.response.data.data));\r\n\r\n      if (error?.response?.data?.msg?.includes(\"Authentication error\"))\r\n        logout();\r\n    }\r\n  };\r\n\r\n  const send = () => {\r\n    const asyncFn = async () => {\r\n      //creates a userBookings object to send to the server\r\n      //this object contains the new bookings which are marked with \"x\" in the bookings state\r\n      //userBookings is in the form: {tableNumber: {date : [interval numbers ...]}}\r\n      const userBookings = {};\r\n      for (const tableNumber in bookings) {\r\n        for (const date in bookings[tableNumber]) {\r\n          for (const interval in bookings[tableNumber][date]) {\r\n            if (bookings[tableNumber][date][interval] === \"x\") {\r\n              const [correctedDate, correctedIntervalNumber] =\r\n                intervalCorrectionBasedOnTimeZone(\r\n                  parseInt(interval),\r\n                  date,\r\n                  true\r\n                );\r\n\r\n              if (userBookings?.[tableNumber]?.[correctedDate])\r\n                userBookings[tableNumber][correctedDate].push(\r\n                  correctedIntervalNumber\r\n                );\r\n              else\r\n                addProps(\r\n                  userBookings,\r\n                  [tableNumber, correctedDate],\r\n                  [correctedIntervalNumber]\r\n                );\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      await sendToServer(userBookings);\r\n    };\r\n\r\n    asyncFn();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const asyncFn = async () => {\r\n      createDateStrings();\r\n\r\n      try {\r\n        setWaitingForServer(true);\r\n\r\n        const res = await httpClient.get(\"/api/bookings\");\r\n\r\n        setWaitingForServer(false);\r\n        setBookings(incomingBookingsDataParser(res?.data?.data || {}));\r\n      } catch (error) {\r\n        console.log(error.response.data);\r\n        setWaitingForServer(false);\r\n        logout();\r\n      }\r\n    };\r\n\r\n    asyncFn();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"BookingContainer\">\r\n      {message && (\r\n        <div className=\"Message\" onClick={(e) => setMessage(\"\")}>\r\n          {message}\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"Error\" onClick={(e) => setError(\"\")}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      {errors.length && (\r\n        <div className=\"Error\" onClick={(e) => setErrors([])}>\r\n          {errors.map((e, i) => (\r\n            <p key={i}>{e.msg}</p>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <div className=\"Booking\">\r\n        {waitingForServer && <LoadingMask />}\r\n        {unsavedChanges && parseInt(selectedTableNumber) && (\r\n          <button className=\"booking\" onClick={send}>\r\n            Foglals kldse\r\n          </button>\r\n        )}\r\n        <div className=\"dashBoard\">\r\n          <button\r\n            onClick={(e) =>\r\n              setSelectedTableNumber((prev) =>\r\n                (parseInt(prev) - 1 >= 0 ? parseInt(prev) - 1 : 10).toString()\r\n              )\r\n            }\r\n          >\r\n            -\r\n          </button>\r\n          <select\r\n            onChange={(e) => setSelectedTableNumber(e.target.value)}\r\n            value={selectedTableNumber}\r\n          >\r\n            <option value=\"0\">Idpont foglals</option>\r\n            <option value=\"1\">1. asztal</option>\r\n            <option value=\"2\">2. asztal</option>\r\n            <option value=\"3\">3. asztal</option>\r\n            <option value=\"4\">4. asztal</option>\r\n            <option value=\"5\">5. asztal</option>\r\n            <option value=\"6\">6. asztal</option>\r\n            <option value=\"7\">7. asztal</option>\r\n            <option value=\"8\">8. asztal</option>\r\n            <option value=\"9\">9. asztal</option>\r\n            <option value=\"10\">10. asztal</option>\r\n          </select>\r\n          <button\r\n            onClick={(e) =>\r\n              setSelectedTableNumber((prev) =>\r\n                (parseInt(prev) + 1 < 11 ? parseInt(prev) + 1 : 0).toString()\r\n              )\r\n            }\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n        {parseInt(selectedTableNumber) ? (\r\n          <table className=\"BookingTable\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"hours\"></th>\r\n                {(function () {\r\n                  const thArray = [];\r\n                  for (\r\n                    let index = firstDayIndex, counter = 0;\r\n                    counter < 7;\r\n                    index++, counter++\r\n                  ) {\r\n                    thArray.push(\r\n                      <th key={counter}>\r\n                        {dateStrings[counter]}\r\n                        <br />({days[index]})\r\n                      </th>\r\n                    );\r\n\r\n                    if (index === 6) index = -1;\r\n                  }\r\n\r\n                  return thArray;\r\n                })()}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {(function () {\r\n                let trArr = [];\r\n                for (let twoHours = 0; twoHours < 12; twoHours++) {\r\n                  let tdArr = [];\r\n                  for (let day = 0; day < 7; day++) {\r\n                    tdArr.push(\r\n                      <td key={day}>\r\n                        <TD\r\n                          date={dateStrings[day]}\r\n                          twoHours={twoHours}\r\n                          bookingMatrix={bookings?.[selectedTableNumber]}\r\n                          changeBookingState={changeBookingState}\r\n                          sendBooking={send}\r\n                          unsavedChanges={unsavedChanges}\r\n                        />\r\n                      </td>\r\n                    );\r\n                  }\r\n\r\n                  let hour = twoHours * 2;\r\n                  tdArr.unshift(\r\n                    <td key=\"7\" className=\"hours\">\r\n                      <span>{hour < 10 ? `0${hour}` : hour} : 00</span>\r\n                    </td>\r\n                  );\r\n\r\n                  trArr.push(<tr key={twoHours}>{tdArr}</tr>);\r\n                }\r\n\r\n                return trArr;\r\n              })()}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <DateBooking\r\n            dateStrings={dateStrings}\r\n            bookings={bookings}\r\n            addProps={addProps}\r\n            intervalCorrectionBasedOnTimeZone={\r\n              intervalCorrectionBasedOnTimeZone\r\n            }\r\n            sendToServer={sendToServer}\r\n            setSelectedTableNumber={setSelectedTableNumber}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { logout })(Booking);\r\n","import React from \"react\";\r\nimport \"./BookingCard.css\";\r\n\r\nexport default function BookingCard({ tableNumber, start, end }) {\r\n  const days = [\r\n    \"Vasrnap\",\r\n    \"Htf\",\r\n    \"Kedd\",\r\n    \"Szerda\",\r\n    \"Cstrtk\",\r\n    \"Pntek\",\r\n    \"Szombat\",\r\n  ];\r\n\r\n  return (\r\n    <div className=\"BookingCardContainer\">\r\n      <div className=\"BookingCard\">\r\n        <p>Foglals a {tableNumber} szm asztalnl</p>\r\n        <p>\r\n          {new Date(start).toLocaleDateString()}{\" \"}\r\n          {days[new Date(start).getDay()]}\r\n          <br />\r\n          {new Date(end).toLocaleDateString()} {days[new Date(end).getDay()]}\r\n        </p>\r\n        <p>\r\n          {new Date(start).toLocaleTimeString()} -tl\r\n          <br />\r\n          {new Date(end).toLocaleTimeString()} -ig\r\n        </p>\r\n      </div>\r\n      <div className=\"shadow\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./Bookings.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport httpClient from \"axios\";\r\nimport BookingCard from \"./BookingCard/BookingCard\";\r\nimport LoadingMask from \"../LoadingMask/LoadingMask.component\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions/authActions\";\r\n\r\nconst Bookings = ({ logout }) => {\r\n  const [userBookings, setUserBookings] = useState([]);\r\n  const [waitingForServer, setWaitingForServer] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const asyncFn = async () => {\r\n      try {\r\n        setWaitingForServer(true);\r\n        const resp = await httpClient.get(\"/api/user_bookings\");\r\n        setWaitingForServer(false);\r\n\r\n        setUserBookings(resp.data.userBookingsArray);\r\n        console.log(\"user bookings: \", resp.data);\r\n      } catch (error) {\r\n        setWaitingForServer(false);\r\n        console.log(\"user bookings error: \", error);\r\n        logout();\r\n      }\r\n    };\r\n\r\n    asyncFn();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"UserBookings\">\r\n      {waitingForServer ? (\r\n        <LoadingMask />\r\n      ) : (\r\n        <>\r\n          <div className=\"title\">\r\n            <h1>Asztalfoglalsok</h1>\r\n          </div>\r\n          <div className=\"content\">\r\n            {userBookings.length ? (\r\n              userBookings.map((u, i) => (\r\n                <BookingCard\r\n                  key={i}\r\n                  tableNumber={u.tableNumber}\r\n                  start={u.start}\r\n                  end={u.end}\r\n                />\r\n              ))\r\n            ) : (\r\n              <p className=\"info\">Nincsenek asztalfoglalsok!</p>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { logout })(Bookings);\r\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\n\nconst PrivateRoute = ({\n  isAuthenticated,\n  loading,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        loading ? (\n          <LoadingMask />\n        ) : isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/login\" />\n        )\n      }\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  loading: state.auth.loading,\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport LoadingMask from \"./../LoadingMask/LoadingMask.component\";\n\nconst UnAuthRoute = ({\n  isAuthenticated,\n  loading,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        loading ? (\n          <LoadingMask />\n        ) : !isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/\" />\n        )\n      }\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  loading: state.auth.loading,\n});\n\nexport default connect(mapStateToProps)(UnAuthRoute);\n","import \"./App.css\";\nimport React, { useEffect } from \"react\";\n\nimport { Redirect, Route, Switch } from \"react-router-dom\";\n\nimport NavBar from \"./components/NavBar/NavBar\";\nimport Home from \"./components/Home/Home\";\nimport Cart from \"./components/Cart/Cart\";\nimport Register from \"./components/Register/Register\";\nimport Login from \"./components/Login/Login\";\nimport Order from \"./components/Order/Order\";\nimport Orders from \"./components/Orders/Orders\";\nimport Callback from \"./components/Callback/Callback\";\nimport Confirm from \"./components/Confirm/Confirm\";\nimport PasswordReset from \"./components/PasswordReset/PasswordReset\";\nimport ForgotPassword from \"./components/ForgotPassword/ForgotPassword\";\nimport LoadingMask from \"./components/LoadingMask/LoadingMask.component\";\nimport Booking from \"./components/Booking/Booking\";\nimport Bookings from \"./components/Bookings/Bookings\";\n\nimport PrivateRoute from \"./components/Routing/PrivateRoute\";\nimport UnAuthRoute from \"./components/Routing/UnAuthRoute\";\n\nimport { connect } from \"react-redux\";\nimport { setData } from \"./actions/dataActions\";\nimport { loadUser } from \"./actions/authActions\";\n\nimport { useLocation } from \"react-router-dom\";\n\nconst App = ({ loadingData, setData, loadUser }) => {\n  const location = useLocation();\n\n  useEffect(() => {\n    console.log(\"app.js location.pathname: \", location.pathname);\n\n    setData();\n\n    if (location.pathname !== \"/confirm\" && location.pathname !== \"/callback\")\n      loadUser();\n  }, []);\n\n  return (\n    <div\n      className=\"App\"\n      style={{\n        backgroundImage: 'url(\"background.svg\")',\n        backgroundSize: \"contain\",\n      }}\n    >\n      <NavBar />\n      <Switch>\n        <UnAuthRoute path=\"/register\" component={Register} />\n        <UnAuthRoute path=\"/login\" component={Login} />\n        <PrivateRoute path=\"/order\" component={Order} />\n        <PrivateRoute path=\"/orders\" component={Orders} />\n        <PrivateRoute path=\"/booking\" component={Booking} />\n        <PrivateRoute path=\"/bookings\" component={Bookings} />\n        <Route path=\"/confirm\" component={Confirm} />\n        <Route path=\"/callback\" component={Callback} />\n        <Route path=\"/password_reset\" component={PasswordReset} />\n        <Route path=\"/forgot_password\" component={ForgotPassword} />\n        <Route path=\"/cart\">{loadingData ? <LoadingMask /> : <Cart />}</Route>\n        <Route exact path=\"/\">\n          {loadingData ? <LoadingMask /> : <Home />}\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  loadingData: state.data.loading,\n});\n\nexport default connect(mapStateToProps, { setData, loadUser })(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { LOGOUT, LOGIN_SUCCESS } from \"../actions/types\";\n\nimport setAuthToken from \"./../utils/setAuthToken\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: false,\n  loading: true,\n  user: null,\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      console.log(\"auth reducer login success action payload:\", action.payload);\n      localStorage.setItem(\"token\", action.payload.token);\n      setAuthToken(action.payload.token);\n      return {\n        ...state,\n        token: action.payload.token,\n        user: action.payload.user,\n        isAuthenticated: true,\n        loading: false,\n      };\n\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      setAuthToken();\n      return {\n        ...state,\n        user: null,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import { SET_CART, CHECK_CART } from \"./../actions/types\";\n\nconst initialState = () => {\n  if (localStorage) {\n    if (!localStorage.partyPizza) {\n      localStorage.partyPizza = JSON.stringify({\n        pizza: {},\n        topping: {},\n      });\n    }\n  }\n\n  return localStorage.partyPizza ? JSON.parse(localStorage.partyPizza) : {};\n};\n\nconst cartReducer = (state = initialState(), action) => {\n  switch (action.type) {\n    case SET_CART:\n      return {\n        pizza: { ...action.payload.pizza },\n        topping: { ...action.payload.topping },\n      };\n\n    //deleting invalid cart items based on database item id-s(in case of database change)\n    case CHECK_CART:\n      const pizza = { ...state.pizza };\n      const topping = { ...state.topping };\n      for (const pizzaId in pizza) {\n        if (!action.payload.pizza.includes(pizzaId.toString()))\n          delete pizza[pizzaId];\n      }\n      for (const toppingId in topping) {\n        if (!action.payload.topping.includes(toppingId.toString()))\n          delete topping[toppingId];\n      }\n      localStorage.partyPizza = JSON.stringify({\n        pizza,\n        topping,\n      });\n      return {\n        ...state,\n        pizza,\n        topping,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","import { SET_DATA, SELECT_PIZZA, SELECT_TOPPING } from \"../actions/types\";\n\nconst initialState = {\n  data: { topping: [], pizza: [] },\n  selectedPizza: null,\n  selectedTopping: null,\n  loading: true,\n};\n\nconst dataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_DATA:\n      return {\n        ...state,\n        data: {\n          pizza: [...action.payload.pizza],\n          topping: [...action.payload.topping],\n        },\n        loading: false,\n      };\n\n    case SELECT_PIZZA:\n      return {\n        ...state,\n        selectedPizza: action.payload,\n      };\n\n    case SELECT_TOPPING:\n      return {\n        ...state,\n        selectedTopping: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default dataReducer;\n","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducer\";\nimport cartReducer from \"./cartReducer\";\nimport dataReducer from \"./dataReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n  cart: cartReducer,\n  data: dataReducer,\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}